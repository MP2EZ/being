{"version":3,"names":["isCrisisNavigationParams","params","isAssessmentParams","requiresCrisisCheck","routeName","crisisSafetyRoutes","includes","ASSESSMENT_NAVIGATION_CONSTRAINTS","exports","MAX_NAVIGATION_TIME_MS","CRISIS_NAVIGATION_MAX_TIME_MS","ASSESSMENT_START_TIMEOUT_MS","MODAL_DISPLAY_MAX_TIME_MS"],"sources":["params.ts"],"sourcesContent":["/**\n * Assessment Navigation Parameter Types\n * Comprehensive type definitions for React Navigation with assessment flows\n * Supports crisis intervention routing and safety constraints\n */\n\nimport { \n  AssessmentType, \n  PHQ9Result, \n  GAD7Result, \n  CrisisDetection, \n  CrisisIntervention,\n  AssessmentSession \n} from '../index';\n\n/**\n * Root Assessment Stack Parameters\n * Main navigation stack for assessment flow\n */\nexport type AssessmentStackParamList = {\n  /** Assessment entry/home screen */\n  AssessmentHome: {\n    /** Context from which assessment was started */\n    context?: 'standalone' | 'onboarding' | 'checkin';\n    /** Previous assessment results for context */\n    previousResults?: Array<PHQ9Result | GAD7Result>;\n    /** Whether this is a retry attempt */\n    isRetry?: boolean;\n  };\n\n  /** Assessment selection screen */\n  AssessmentSelection: {\n    /** Available assessment types */\n    availableTypes: AssessmentType[];\n    /** Recommended assessment based on context */\n    recommended?: AssessmentType;\n    /** Context for selection */\n    context: 'standalone' | 'onboarding' | 'checkin';\n  };\n\n  /** PHQ-9 Assessment Screen */\n  PHQ9Assessment: {\n    /** Session ID for continuation */\n    sessionId?: string;\n    /** Context in which assessment is taken */\n    context: 'standalone' | 'onboarding' | 'checkin';\n    /** Starting question index (for continuation) */\n    startIndex?: number;\n    /** Pre-filled answers (for retry/continuation) */\n    prefilledAnswers?: Record<string, number>;\n    /** Whether crisis intervention is already active */\n    crisisActive?: boolean;\n  };\n\n  /** GAD-7 Assessment Screen */\n  GAD7Assessment: {\n    /** Session ID for continuation */\n    sessionId?: string;\n    /** Context in which assessment is taken */\n    context: 'standalone' | 'onboarding' | 'checkin';\n    /** Starting question index (for continuation) */\n    startIndex?: number;\n    /** Pre-filled answers (for retry/continuation) */\n    prefilledAnswers?: Record<string, number>;\n    /** Whether crisis intervention is already active */\n    crisisActive?: boolean;\n  };\n\n  /** Assessment Results Screen */\n  AssessmentResults: {\n    /** Assessment type that was completed */\n    type: AssessmentType;\n    /** Complete assessment result */\n    result: PHQ9Result | GAD7Result;\n    /** Session ID for tracking */\n    sessionId: string;\n    /** Whether to show detailed breakdown */\n    showDetails?: boolean;\n    /** Next action recommendation */\n    nextAction?: 'crisis_intervention' | 'continue_onboarding' | 'return_home' | 'repeat_assessment';\n    /** Context for appropriate messaging */\n    context: 'standalone' | 'onboarding' | 'checkin';\n  };\n\n  /** Crisis Intervention Screen - CRITICAL SAFETY */\n  CrisisIntervention: {\n    /** Crisis detection that triggered intervention */\n    detection: CrisisDetection;\n    /** Current intervention state */\n    intervention?: CrisisIntervention;\n    /** Assessment result that triggered crisis */\n    triggeringResult: PHQ9Result | GAD7Result;\n    /** Session ID for tracking */\n    sessionId: string;\n    /** Whether intervention can be dismissed */\n    canDismiss: boolean;\n    /** Emergency contact override */\n    emergencyContactOverride?: {\n      name: string;\n      phone: string;\n      relationship: string;\n    };\n    /** Return route after intervention */\n    returnRoute?: keyof AssessmentStackParamList;\n  };\n\n  /** Safety Resources Screen */\n  SafetyResources: {\n    /** How user arrived at resources */\n    source: 'crisis_intervention' | 'assessment_results' | 'direct_access';\n    /** Crisis context if applicable */\n    crisisContext?: CrisisDetection;\n    /** User's location for local resources */\n    userLocation?: {\n      latitude: number;\n      longitude: number;\n      city?: string;\n      state?: string;\n    };\n  };\n\n  /** Assessment History Screen */\n  AssessmentHistory: {\n    /** Date range for history */\n    dateRange?: {\n      start: Date;\n      end: Date;\n    };\n    /** Filter by assessment type */\n    filterType?: AssessmentType;\n    /** Whether to show crisis episodes */\n    includeCrisisEpisodes?: boolean;\n    /** Sort order */\n    sortOrder?: 'newest' | 'oldest' | 'score_high' | 'score_low';\n  };\n\n  /** Progress Tracking Screen */\n  ProgressTracking: {\n    /** Assessment results for tracking */\n    results: Array<PHQ9Result | GAD7Result>;\n    /** Time period for progress view */\n    timePeriod: 'week' | 'month' | 'quarter' | 'year';\n    /** Goal tracking if applicable */\n    goals?: {\n      targetScore: number;\n      targetDate: Date;\n      assessmentType: AssessmentType;\n    };\n  };\n};\n\n/**\n * Modal Navigation Parameters\n * For overlays and modal screens\n */\nexport type AssessmentModalParamList = {\n  /** Crisis Alert Modal - Cannot be dismissed */\n  CrisisAlert: {\n    detection: CrisisDetection;\n    /** Required response time (ms) */\n    responseTimeRequirement: number;\n    /** Emergency actions available */\n    emergencyActions: Array<{\n      id: string;\n      label: string;\n      action: 'call_988' | 'call_emergency' | 'contact_support' | 'safety_plan';\n    }>;\n  };\n\n  /** Assessment Pause Modal */\n  AssessmentPause: {\n    /** Current session to pause */\n    session: AssessmentSession;\n    /** Pause reason */\n    reason?: 'user_initiated' | 'system_timeout' | 'interruption';\n    /** Whether answers can be saved */\n    canSaveProgress: boolean;\n  };\n\n  /** Score Explanation Modal */\n  ScoreExplanation: {\n    /** Assessment type for appropriate explanation */\n    assessmentType: AssessmentType;\n    /** User's score */\n    score: number;\n    /** Severity level */\n    severity: string;\n    /** Whether to show therapeutic guidance */\n    showTherapeuticGuidance: boolean;\n  };\n\n  /** Privacy Notice Modal */\n  PrivacyNotice: {\n    /** Context for privacy notice */\n    context: 'first_assessment' | 'data_sharing' | 'crisis_intervention';\n    /** Whether acceptance is required */\n    requiresAcceptance: boolean;\n  };\n};\n\n/**\n * Tab Navigation Parameters\n * For assessment-related tabs\n */\nexport type AssessmentTabParamList = {\n  /** Current Assessment Tab */\n  CurrentAssessment: undefined;\n\n  /** Assessment History Tab */\n  History: {\n    /** Default filter */\n    defaultFilter?: AssessmentType;\n  };\n\n  /** Progress Tab */\n  Progress: {\n    /** Default time period */\n    defaultPeriod?: 'week' | 'month' | 'quarter';\n  };\n\n  /** Resources Tab */\n  Resources: {\n    /** Show crisis resources prominently */\n    highlightCrisisResources?: boolean;\n  };\n};\n\n/**\n * Navigation State Types\n */\nexport interface AssessmentNavigationState {\n  /** Current route name */\n  routeName: keyof AssessmentStackParamList;\n  /** Navigation parameters */\n  params: AssessmentStackParamList[keyof AssessmentStackParamList];\n  /** Navigation history for back button */\n  history: Array<{\n    routeName: keyof AssessmentStackParamList;\n    timestamp: number;\n  }>;\n  /** Whether crisis intervention is blocking navigation */\n  crisisNavigationBlock: boolean;\n}\n\n/**\n * Navigation Guards and Constraints\n */\nexport interface AssessmentNavigationGuards {\n  /** Routes that require crisis safety check */\n  crisisSafetyRoutes: Array<keyof AssessmentStackParamList>;\n  /** Routes that cannot be accessed during crisis */\n  crisisBlockedRoutes: Array<keyof AssessmentStackParamList>;\n  /** Routes that require session validation */\n  sessionRequiredRoutes: Array<keyof AssessmentStackParamList>;\n  /** Routes that require authentication */\n  authRequiredRoutes: Array<keyof AssessmentStackParamList>;\n}\n\n/**\n * Navigation Timing Requirements\n */\nexport interface AssessmentNavigationTiming {\n  /** Maximum navigation time between routes (ms) */\n  maxNavigationTime: number;\n  /** Crisis intervention navigation must be <200ms */\n  crisisNavigationMaxTime: number;\n  /** Timeout for route transitions */\n  routeTransitionTimeout: number;\n}\n\n/**\n * Navigation Events\n */\nexport type AssessmentNavigationEvent = \n  | {\n      type: 'NAVIGATE_TO_ASSESSMENT';\n      payload: {\n        assessmentType: AssessmentType;\n        context: string;\n        timestamp: number;\n      };\n    }\n  | {\n      type: 'CRISIS_NAVIGATION_TRIGGERED';\n      payload: {\n        detection: CrisisDetection;\n        fromRoute: string;\n        timestamp: number;\n        responseTime: number;\n      };\n    }\n  | {\n      type: 'ASSESSMENT_COMPLETED';\n      payload: {\n        result: PHQ9Result | GAD7Result;\n        nextRoute: string;\n        timestamp: number;\n      };\n    }\n  | {\n      type: 'NAVIGATION_BLOCKED';\n      payload: {\n        blockedRoute: string;\n        reason: 'crisis_active' | 'session_invalid' | 'auth_required';\n        timestamp: number;\n      };\n    };\n\n/**\n * Type Guards for Navigation Parameters\n */\nexport function isCrisisNavigationParams(\n  params: unknown\n): params is AssessmentStackParamList['CrisisIntervention'] {\n  return (\n    typeof params === 'object' &&\n    params !== null &&\n    'detection' in params &&\n    'triggeringResult' in params\n  );\n}\n\nexport function isAssessmentParams(\n  params: unknown\n): params is AssessmentStackParamList['PHQ9Assessment'] | AssessmentStackParamList['GAD7Assessment'] {\n  return (\n    typeof params === 'object' &&\n    params !== null &&\n    'context' in params\n  );\n}\n\nexport function requiresCrisisCheck(routeName: keyof AssessmentStackParamList): boolean {\n  const crisisSafetyRoutes: Array<keyof AssessmentStackParamList> = [\n    'AssessmentResults',\n    'CrisisIntervention',\n    'SafetyResources'\n  ];\n  return crisisSafetyRoutes.includes(routeName);\n}\n\n/**\n * Navigation Utilities\n */\nexport interface AssessmentNavigationUtils {\n  /** Get safe navigation route based on crisis state */\n  getSafeNavigationRoute: (\n    targetRoute: keyof AssessmentStackParamList,\n    crisisState: CrisisIntervention | null\n  ) => keyof AssessmentStackParamList;\n\n  /** Validate navigation parameters */\n  validateNavigationParams: (\n    routeName: keyof AssessmentStackParamList,\n    params: unknown\n  ) => boolean;\n\n  /** Get crisis-appropriate navigation options */\n  getCrisisNavigationOptions: (\n    detection: CrisisDetection\n  ) => Array<{\n    routeName: keyof AssessmentStackParamList;\n    params: unknown;\n    priority: 'high' | 'medium' | 'low';\n  }>;\n}\n\n/**\n * Navigation Performance Requirements\n */\nexport const ASSESSMENT_NAVIGATION_CONSTRAINTS = {\n  /** Maximum time for any navigation (ms) */\n  MAX_NAVIGATION_TIME_MS: 500,\n  /** Crisis navigation must be immediate */\n  CRISIS_NAVIGATION_MAX_TIME_MS: 200,\n  /** Assessment start navigation timeout */\n  ASSESSMENT_START_TIMEOUT_MS: 1000,\n  /** Modal display time requirement */\n  MODAL_DISPLAY_MAX_TIME_MS: 300,\n} as const;\n\n/**\n * Export all navigation types\n */\nexport type AssessmentNavigationParamList = \n  & AssessmentStackParamList \n  & AssessmentModalParamList \n  & AssessmentTabParamList;"],"mappings":";;;;;;;AAuTO,SAASA,wBAAwBA,CACtCC,MAAe,EAC2C;EAC1D,OACE,OAAOA,MAAM,KAAK,QAAQ,IAC1BA,MAAM,KAAK,IAAI,IACf,WAAW,IAAIA,MAAM,IACrB,kBAAkB,IAAIA,MAAM;AAEhC;AAEO,SAASC,kBAAkBA,CAChCD,MAAe,EACoF;EACnG,OACE,OAAOA,MAAM,KAAK,QAAQ,IAC1BA,MAAM,KAAK,IAAI,IACf,SAAS,IAAIA,MAAM;AAEvB;AAEO,SAASE,mBAAmBA,CAACC,SAAyC,EAAW;EACtF,IAAMC,kBAAyD,GAAG,CAChE,mBAAmB,EACnB,oBAAoB,EACpB,iBAAiB,CAClB;EACD,OAAOA,kBAAkB,CAACC,QAAQ,CAACF,SAAS,CAAC;AAC/C;AA+BO,IAAMG,iCAAiC,GAAAC,OAAA,CAAAD,iCAAA,GAAG;EAE/CE,sBAAsB,EAAE,GAAG;EAE3BC,6BAA6B,EAAE,GAAG;EAElCC,2BAA2B,EAAE,IAAI;EAEjCC,yBAAyB,EAAE;AAC7B,CAAU","ignoreList":[]}