{"version":3,"names":["fs","require","path","PerformanceRegressionReporter","globalConfig","options","_classCallCheck2","default","performanceMetrics","regressions","warnings","startTime","Date","now","thresholds","crisis_response_ms","ui_render_ms","memory_limit_mb","assessment_calculation_ms","test_execution_ms","loadBaselines","_createClass2","key","value","baselinePath","join","process","cwd","existsSync","baselines","JSON","parse","readFileSync","console","log","Object","assign","saveBaselines","error","warn","message","writeFileSync","stringify","onRunStart","results","onTestStart","test","performance","onTestResult","testResult","testName","testFilePath","replace","duration","numPassingTests","numFailingTests","perfTests","extractPerformanceTests","checkPerformanceRegression","analyzeTestOutput","_this","testResults","forEach","result","fullName","includes","toLowerCase","push","type","metric","actual","threshold","severity","baselineKey","getBaselineKey","baseline","regressionThreshold","getSeverity","ratio","_testResult$console","_this2","entry","onRunComplete","contexts","totalDuration","report","generatePerformanceReport","savePerformanceReport","displayResults","shouldFailBuild","exit","timestamp","toISOString","summary","total_tests","numTotalTests","passed_tests","numPassedTests","failed_tests","numFailedTests","total_duration_ms","test_files","keys","length","performance_metrics","analysis","regression_count","warning_count","critical_issues","filter","r","high_issues","reportDir","mkdirSync","recursive","jsonReportPath","summaryPath","generateHumanReadableSummary","regression","warning","entries","_ref","_ref2","_slicedToArray2","icon","updateBaselines","_this3","updated","_ref3","_ref4","metrics","criticalIssues","highIssues","module","exports"],"sources":["performance-regression-reporter.js"],"sourcesContent":["/**\n * PERFORMANCE REGRESSION REPORTER - Week 3 Orchestration\n * Automated performance monitoring and regression detection for CI/CD\n * \n * FEATURES:\n * - Real-time performance metric collection\n * - Baseline comparison and regression detection\n * - Crisis response time monitoring (<200ms requirement)\n * - Memory usage tracking and leak detection\n * - UI performance validation (60fps target)\n * - Automated alerting for performance violations\n */\n\nconst fs = require('fs');\nconst path = require('path');\n\nclass PerformanceRegressionReporter {\n  constructor(globalConfig, options) {\n    this.globalConfig = globalConfig;\n    this.options = options;\n    this.performanceMetrics = {};\n    this.regressions = [];\n    this.warnings = [];\n    this.startTime = Date.now();\n    \n    // Performance thresholds\n    this.thresholds = {\n      crisis_response_ms: 200,\n      ui_render_ms: 16.67, // 60fps\n      memory_limit_mb: 50,\n      assessment_calculation_ms: 100,\n      test_execution_ms: 30000\n    };\n    \n    // Load baseline performance data if available\n    this.loadBaselines();\n  }\n\n  loadBaselines() {\n    const baselinePath = path.join(process.cwd(), 'performance-baselines.json');\n    \n    try {\n      if (fs.existsSync(baselinePath)) {\n        this.baselines = JSON.parse(fs.readFileSync(baselinePath, 'utf8'));\n        console.log('üìä Loaded performance baselines for regression detection');\n      } else {\n        // Create initial baselines\n        this.baselines = { ...this.thresholds };\n        this.saveBaselines();\n        console.log('üìä Created initial performance baselines');\n      }\n    } catch (error) {\n      console.warn('‚ö†Ô∏è Failed to load performance baselines:', error.message);\n      this.baselines = { ...this.thresholds };\n    }\n  }\n\n  saveBaselines() {\n    const baselinePath = path.join(process.cwd(), 'performance-baselines.json');\n    \n    try {\n      fs.writeFileSync(baselinePath, JSON.stringify(this.baselines, null, 2));\n    } catch (error) {\n      console.warn('‚ö†Ô∏è Failed to save performance baselines:', error.message);\n    }\n  }\n\n  onRunStart(results, options) {\n    console.log('‚ö° Performance regression monitoring started...');\n    this.startTime = Date.now();\n    this.performanceMetrics = {};\n    this.regressions = [];\n    this.warnings = [];\n  }\n\n  onTestStart(test) {\n    // Track test start time for performance measurement\n    test.startTime = performance.now();\n  }\n\n  onTestResult(test, testResult) {\n    const testName = testResult.testFilePath.replace(process.cwd(), '');\n    const duration = performance.now() - test.startTime;\n    \n    // Record test execution time\n    this.performanceMetrics[testName] = {\n      duration,\n      numPassingTests: testResult.numPassingTests,\n      numFailingTests: testResult.numFailingTests,\n      perfTests: this.extractPerformanceTests(testResult)\n    };\n\n    // Check for performance regressions\n    this.checkPerformanceRegression(testName, duration);\n    \n    // Analyze test output for performance warnings\n    this.analyzeTestOutput(testResult);\n  }\n\n  extractPerformanceTests(testResult) {\n    const perfTests = {};\n    \n    testResult.testResults.forEach(result => {\n      const testName = result.fullName;\n      \n      // Look for performance-related test names\n      if (testName.includes('performance') || testName.includes('response time') || testName.includes('memory')) {\n        // Extract timing information from test results if available\n        if (result.duration) {\n          perfTests[testName] = result.duration;\n          \n          // Check against thresholds\n          if (testName.toLowerCase().includes('crisis') && result.duration > this.thresholds.crisis_response_ms) {\n            this.regressions.push({\n              type: 'CRITICAL',\n              test: testName,\n              metric: 'crisis_response_time',\n              actual: result.duration,\n              threshold: this.thresholds.crisis_response_ms,\n              severity: 'HIGH'\n            });\n          }\n        }\n      }\n    });\n    \n    return perfTests;\n  }\n\n  checkPerformanceRegression(testName, duration) {\n    // Check against execution time thresholds\n    if (duration > this.thresholds.test_execution_ms) {\n      this.warnings.push({\n        type: 'SLOW_TEST',\n        test: testName,\n        duration,\n        threshold: this.thresholds.test_execution_ms\n      });\n    }\n\n    // Check against baseline if available\n    const baselineKey = this.getBaselineKey(testName);\n    if (this.baselines[baselineKey]) {\n      const baseline = this.baselines[baselineKey];\n      const regressionThreshold = baseline * 1.2; // 20% regression threshold\n      \n      if (duration > regressionThreshold) {\n        this.regressions.push({\n          type: 'REGRESSION',\n          test: testName,\n          metric: 'execution_time',\n          actual: duration,\n          baseline,\n          threshold: regressionThreshold,\n          severity: this.getSeverity(duration, baseline)\n        });\n      }\n    }\n  }\n\n  getBaselineKey(testName) {\n    // Generate a key for baseline lookup\n    if (testName.includes('crisis')) return 'crisis_response_ms';\n    if (testName.includes('performance')) return 'test_execution_ms';\n    if (testName.includes('memory')) return 'memory_limit_mb';\n    return 'default_test_ms';\n  }\n\n  getSeverity(actual, baseline) {\n    const ratio = actual / baseline;\n    if (ratio > 2.0) return 'CRITICAL';\n    if (ratio > 1.5) return 'HIGH';\n    if (ratio > 1.2) return 'MEDIUM';\n    return 'LOW';\n  }\n\n  analyzeTestOutput(testResult) {\n    // Look for performance-related console output\n    testResult.console?.forEach(entry => {\n      const message = entry.message;\n      \n      // Check for performance violations\n      if (message.includes('PERFORMANCE VIOLATION')) {\n        this.regressions.push({\n          type: 'VIOLATION',\n          message: message,\n          severity: 'HIGH'\n        });\n      }\n      \n      // Check for memory warnings\n      if (message.includes('MEMORY WARNING')) {\n        this.warnings.push({\n          type: 'MEMORY',\n          message: message\n        });\n      }\n      \n      // Check for crisis response violations\n      if (message.includes('CRISIS SAFETY VIOLATION')) {\n        this.regressions.push({\n          type: 'CRITICAL',\n          message: message,\n          severity: 'CRITICAL'\n        });\n      }\n    });\n  }\n\n  onRunComplete(contexts, results) {\n    const totalDuration = Date.now() - this.startTime;\n    \n    console.log('\\nüìä Performance Regression Analysis Complete');\n    console.log(`‚è±Ô∏è Total execution time: ${totalDuration}ms`);\n    \n    // Generate comprehensive performance report\n    const report = this.generatePerformanceReport(results, totalDuration);\n    \n    // Save performance report\n    this.savePerformanceReport(report);\n    \n    // Display results\n    this.displayResults(report);\n    \n    // Check if we should fail the build\n    if (this.shouldFailBuild()) {\n      console.error('üö® CRITICAL PERFORMANCE REGRESSIONS DETECTED - FAILING BUILD');\n      process.exit(1);\n    }\n  }\n\n  generatePerformanceReport(results, totalDuration) {\n    return {\n      timestamp: new Date().toISOString(),\n      summary: {\n        total_tests: results.numTotalTests,\n        passed_tests: results.numPassedTests,\n        failed_tests: results.numFailedTests,\n        total_duration_ms: totalDuration,\n        test_files: Object.keys(this.performanceMetrics).length\n      },\n      performance_metrics: this.performanceMetrics,\n      baselines: this.baselines,\n      thresholds: this.thresholds,\n      regressions: this.regressions,\n      warnings: this.warnings,\n      analysis: {\n        regression_count: this.regressions.length,\n        warning_count: this.warnings.length,\n        critical_issues: this.regressions.filter(r => r.severity === 'CRITICAL').length,\n        high_issues: this.regressions.filter(r => r.severity === 'HIGH').length\n      }\n    };\n  }\n\n  savePerformanceReport(report) {\n    const reportDir = path.join(process.cwd(), 'test-results');\n    \n    // Ensure directory exists\n    if (!fs.existsSync(reportDir)) {\n      fs.mkdirSync(reportDir, { recursive: true });\n    }\n    \n    // Save detailed JSON report\n    const jsonReportPath = path.join(reportDir, 'performance-regression-report.json');\n    fs.writeFileSync(jsonReportPath, JSON.stringify(report, null, 2));\n    \n    // Save human-readable summary\n    const summaryPath = path.join(reportDir, 'performance-summary.txt');\n    const summary = this.generateHumanReadableSummary(report);\n    fs.writeFileSync(summaryPath, summary);\n    \n    console.log(`üìä Performance report saved to: ${jsonReportPath}`);\n  }\n\n  generateHumanReadableSummary(report) {\n    let summary = '# Performance Regression Analysis Report\\n\\n';\n    summary += `Generated: ${report.timestamp}\\n`;\n    summary += `Total Tests: ${report.summary.total_tests}\\n`;\n    summary += `Execution Time: ${report.summary.total_duration_ms}ms\\n\\n`;\n    \n    summary += '## Performance Analysis\\n\\n';\n    summary += `Regressions Detected: ${report.analysis.regression_count}\\n`;\n    summary += `Warnings: ${report.analysis.warning_count}\\n`;\n    summary += `Critical Issues: ${report.analysis.critical_issues}\\n`;\n    summary += `High Severity Issues: ${report.analysis.high_issues}\\n\\n`;\n    \n    if (report.regressions.length > 0) {\n      summary += '## Regressions\\n\\n';\n      report.regressions.forEach(regression => {\n        summary += `- [${regression.severity}] ${regression.type}: ${regression.test || regression.message}\\n`;\n        if (regression.actual && regression.threshold) {\n          summary += `  Actual: ${regression.actual}ms, Threshold: ${regression.threshold}ms\\n`;\n        }\n      });\n      summary += '\\n';\n    }\n    \n    if (report.warnings.length > 0) {\n      summary += '## Warnings\\n\\n';\n      report.warnings.forEach(warning => {\n        summary += `- ${warning.type}: ${warning.message || warning.test}\\n`;\n        if (warning.duration && warning.threshold) {\n          summary += `  Duration: ${warning.duration}ms, Threshold: ${warning.threshold}ms\\n`;\n        }\n      });\n      summary += '\\n';\n    }\n    \n    summary += '## Performance Thresholds\\n\\n';\n    Object.entries(report.thresholds).forEach(([key, value]) => {\n      summary += `- ${key}: ${value}${key.includes('_ms') ? 'ms' : (key.includes('_mb') ? 'MB' : '')}\\n`;\n    });\n    \n    return summary;\n  }\n\n  displayResults(report) {\n    console.log('\\nüìà Performance Metrics Summary:');\n    \n    if (report.regressions.length > 0) {\n      console.log(`\\nüö® ${report.regressions.length} Performance Regressions Detected:`);\n      report.regressions.forEach(regression => {\n        const icon = regression.severity === 'CRITICAL' ? 'üö®' : regression.severity === 'HIGH' ? '‚ö†Ô∏è' : 'üìä';\n        console.log(`  ${icon} [${regression.severity}] ${regression.test || regression.message}`);\n      });\n    } else {\n      console.log('‚úÖ No performance regressions detected');\n    }\n    \n    if (report.warnings.length > 0) {\n      console.log(`\\n‚ö†Ô∏è ${report.warnings.length} Performance Warnings:`);\n      report.warnings.forEach(warning => {\n        console.log(`  ‚ö†Ô∏è ${warning.type}: ${warning.message || warning.test}`);\n      });\n    }\n    \n    console.log('\\nüìä Key Metrics:');\n    console.log(`  ‚è±Ô∏è Crisis Response Threshold: <${this.thresholds.crisis_response_ms}ms`);\n    console.log(`  üß† Memory Limit: <${this.thresholds.memory_limit_mb}MB`);\n    console.log(`  üñºÔ∏è UI Performance: ${1000/this.thresholds.ui_render_ms}fps target`);\n    \n    // Update baselines if all tests passed and no regressions\n    if (report.summary.failed_tests === 0 && report.regressions.length === 0) {\n      this.updateBaselines(report);\n    }\n  }\n\n  updateBaselines(report) {\n    let updated = false;\n    \n    // Update baselines with better performance\n    Object.entries(this.performanceMetrics).forEach(([testName, metrics]) => {\n      const baselineKey = this.getBaselineKey(testName);\n      if (this.baselines[baselineKey] && metrics.duration < this.baselines[baselineKey] * 0.9) {\n        this.baselines[baselineKey] = metrics.duration;\n        updated = true;\n      }\n    });\n    \n    if (updated) {\n      this.saveBaselines();\n      console.log('üìä Performance baselines updated with improved metrics');\n    }\n  }\n\n  shouldFailBuild() {\n    // Fail build if there are critical performance regressions\n    const criticalIssues = this.regressions.filter(r => r.severity === 'CRITICAL').length;\n    const highIssues = this.regressions.filter(r => r.severity === 'HIGH').length;\n    \n    // Fail for any critical issues or more than 3 high severity issues\n    return criticalIssues > 0 || highIssues > 3;\n  }\n}\n\nmodule.exports = PerformanceRegressionReporter;"],"mappings":"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","ignoreList":[]}