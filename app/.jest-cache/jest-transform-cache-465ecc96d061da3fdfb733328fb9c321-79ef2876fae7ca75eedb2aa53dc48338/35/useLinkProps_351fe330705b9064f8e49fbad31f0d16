d9da2f44476e138399b363ef140269d3
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useLinkProps = useLinkProps;
var _core = require("@react-navigation/core");
var React = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _LinkingContext = require("./LinkingContext.js");
var _getStateFromParams = function getStateFromParams(params) {
  if (params != null && params.state) {
    return params.state;
  }
  if (params != null && params.screen) {
    return {
      routes: [{
        name: params.screen,
        params: params.params,
        state: params.screen ? _getStateFromParams(params.params) : undefined
      }]
    };
  }
  return undefined;
};
function useLinkProps(_ref) {
  var _options$getPathFromS;
  var screen = _ref.screen,
    params = _ref.params,
    href = _ref.href,
    action = _ref.action;
  var root = React.useContext(_core.NavigationContainerRefContext);
  var navigation = React.useContext(_core.NavigationHelpersContext);
  var _React$useContext = React.useContext(_LinkingContext.LinkingContext),
    options = _React$useContext.options;
  var onPress = function onPress(e) {
    var shouldHandle = false;
    if (_reactNative.Platform.OS !== 'web' || !e) {
      e == null || e.preventDefault == null || e.preventDefault();
      shouldHandle = true;
    } else {
      var hasModifierKey = 'metaKey' in e && e.metaKey || 'altKey' in e && e.altKey || 'ctrlKey' in e && e.ctrlKey || 'shiftKey' in e && e.shiftKey;
      var isLeftClick = 'button' in e ? e.button == null || e.button === 0 : true;
      var isSelfTarget = e.currentTarget && 'target' in e.currentTarget ? [undefined, null, '', 'self'].includes(e.currentTarget.target) : true;
      if (!hasModifierKey && isLeftClick && isSelfTarget) {
        e.preventDefault == null || e.preventDefault();
        shouldHandle = true;
      }
    }
    if (shouldHandle) {
      if (action) {
        if (navigation) {
          navigation.dispatch(action);
        } else if (root) {
          root.dispatch(action);
        } else {
          throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");
        }
      } else {
        navigation == null || navigation.navigate(screen, params);
      }
    }
  };
  var getPathFromStateHelper = (_options$getPathFromS = options == null ? void 0 : options.getPathFromState) != null ? _options$getPathFromS : _core.getPathFromState;
  return {
    href: href != null ? href : _reactNative.Platform.OS === 'web' && screen != null ? getPathFromStateHelper({
      routes: [{
        name: screen,
        params: params,
        state: _getStateFromParams(params)
      }]
    }, options == null ? void 0 : options.config) : undefined,
    role: 'link',
    onPress: onPress
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29yZSIsInJlcXVpcmUiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX3JlYWN0TmF0aXZlIiwiX0xpbmtpbmdDb250ZXh0IiwiZ2V0U3RhdGVGcm9tUGFyYW1zIiwicGFyYW1zIiwic3RhdGUiLCJzY3JlZW4iLCJyb3V0ZXMiLCJuYW1lIiwidW5kZWZpbmVkIiwidXNlTGlua1Byb3BzIiwiX3JlZiIsIl9vcHRpb25zJGdldFBhdGhGcm9tUyIsImhyZWYiLCJhY3Rpb24iLCJyb290IiwidXNlQ29udGV4dCIsIk5hdmlnYXRpb25Db250YWluZXJSZWZDb250ZXh0IiwibmF2aWdhdGlvbiIsIk5hdmlnYXRpb25IZWxwZXJzQ29udGV4dCIsIl9SZWFjdCR1c2VDb250ZXh0IiwiTGlua2luZ0NvbnRleHQiLCJvcHRpb25zIiwib25QcmVzcyIsImUiLCJzaG91bGRIYW5kbGUiLCJQbGF0Zm9ybSIsIk9TIiwicHJldmVudERlZmF1bHQiLCJoYXNNb2RpZmllcktleSIsIm1ldGFLZXkiLCJhbHRLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJpc0xlZnRDbGljayIsImJ1dHRvbiIsImlzU2VsZlRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJpbmNsdWRlcyIsInRhcmdldCIsImRpc3BhdGNoIiwiRXJyb3IiLCJuYXZpZ2F0ZSIsImdldFBhdGhGcm9tU3RhdGVIZWxwZXIiLCJnZXRQYXRoRnJvbVN0YXRlIiwiY29uZmlnIiwicm9sZSJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91c2VMaW5rUHJvcHMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBU0EsSUFBQUMsS0FBQSxHQUFBQyx1QkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsWUFBQSxHQUFBSCxPQUFBO0FBRUEsSUFBQUksZUFBQSxHQUFBSixPQUFBO0FBcUJBLElBQU1LLG1CQUFrQixHQUN0QixTQURJ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