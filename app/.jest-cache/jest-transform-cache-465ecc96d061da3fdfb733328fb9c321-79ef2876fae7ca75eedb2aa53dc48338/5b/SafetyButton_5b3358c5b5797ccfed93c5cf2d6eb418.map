{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_colors","_jsxRuntime","SafetyButton","_ref","onPress","_ref$testID","testID","_ref$variant","variant","handleCrisisPress","useCallback","startTime","performance","now","Linking","openURL","catch","Alert","alert","text","responseTime","console","warn","buttonStyle","styles","crisisButton","button","textStyle","crisisButtonText","buttonText","jsx","Pressable","style","_ref2","pressed","opacity","accessibilityRole","accessibilityLabel","accessibilityHint","hitSlop","top","bottom","left","right","children","Text","StyleSheet","create","backgroundColor","colorSystem","status","critical","paddingHorizontal","spacing","md","paddingVertical","sm","borderRadius","alignItems","justifyContent","minHeight","borderWidth","borderColor","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","lg","color","base","white","fontSize","typography","caption","size","fontWeight","textAlign","bodyRegular","letterSpacing","_default","exports","default"],"sources":["SafetyButton.tsx"],"sourcesContent":["/**\n * SafetyButton Component - Crisis Support Access\n *\n * CLINICAL SPECIFICATIONS:\n * - Always visible \"I need support\" button\n * - <200ms crisis response time (CRITICAL)\n * - Direct 988 crisis line access\n * - High contrast for accessibility\n * - WCAG AA compliant\n * - Emergency response protocol\n */\n\nimport React, { useCallback } from 'react';\nimport { Pressable, Text, StyleSheet, Linking, Alert } from 'react-native';\nimport { colorSystem, spacing, typography } from '../../../constants/colors';\n\ninterface SafetyButtonProps {\n  onPress?: () => void;\n  testID?: string;\n  variant?: 'primary' | 'crisis';\n}\n\nconst SafetyButton: React.FC<SafetyButtonProps> = ({\n  onPress,\n  testID = 'safety-button',\n  variant = 'primary'\n}) => {\n  // CRITICAL: <200ms crisis response - direct call to 988\n  const handleCrisisPress = useCallback(() => {\n    // Direct navigation - no async operations for fastest response\n    const startTime = performance.now();\n\n    if (variant === 'crisis') {\n      // Immediate 988 crisis line access\n      Linking.openURL('tel:988').catch(() => {\n        // Fallback for devices without calling capability\n        Alert.alert(\n          'Crisis Support',\n          'Call 988 for immediate crisis support\\n\\nText HOME to 741741 for Crisis Text Line',\n          [{ text: 'OK' }]\n        );\n      });\n    } else {\n      onPress?.();\n    }\n\n    // Performance monitoring for clinical safety\n    const responseTime = performance.now() - startTime;\n    if (responseTime > 200) {\n      console.warn(`ðŸš¨ Crisis button response time: ${responseTime}ms (target: <200ms)`);\n    }\n  }, [onPress, variant]);\n\n  const buttonStyle = variant === 'crisis' ? styles.crisisButton : styles.button;\n  const textStyle = variant === 'crisis' ? styles.crisisButtonText : styles.buttonText;\n\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        buttonStyle,\n        { opacity: pressed ? 0.8 : 1 }\n      ]}\n      onPress={handleCrisisPress}\n      accessibilityRole=\"button\"\n      accessibilityLabel={variant === 'crisis' ? 'Call 988 Crisis Line' : 'I need support'}\n      accessibilityHint={variant === 'crisis' ? 'Immediately call 988 crisis support line' : 'Access immediate crisis support and emergency resources'}\n      testID={testID}\n      hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }} // Enhanced touch target\n    >\n      <Text style={textStyle}>\n        {variant === 'crisis' ? 'ðŸš¨ Call 988' : 'I need support'}\n      </Text>\n    </Pressable>\n  );\n};\n\nconst styles = StyleSheet.create({\n  button: {\n    backgroundColor: colorSystem.status.critical, // High contrast emergency color\n    paddingHorizontal: spacing.md,\n    paddingVertical: spacing.sm,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    minHeight: 44, // WCAG touch target size\n    borderWidth: 2,\n    borderColor: colorSystem.status.critical,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  crisisButton: {\n    backgroundColor: '#991B1B', // Dark red for crisis\n    paddingHorizontal: spacing.lg,\n    paddingVertical: spacing.md,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    minHeight: 48, // Larger touch target for crisis\n    borderWidth: 3,\n    borderColor: '#7F1D1D',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.4,\n    shadowRadius: 6,\n    elevation: 8,\n  },\n  buttonText: {\n    color: colorSystem.base.white,\n    fontSize: typography.caption.size,\n    fontWeight: '600',\n    textAlign: 'center',\n  },\n  crisisButtonText: {\n    color: colorSystem.base.white,\n    fontSize: typography.bodyRegular.size,\n    fontWeight: '700',\n    textAlign: 'center',\n    letterSpacing: 0.5,\n  },\n});\n\nexport default SafetyButton;"],"mappings":"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","ignoreList":[]}