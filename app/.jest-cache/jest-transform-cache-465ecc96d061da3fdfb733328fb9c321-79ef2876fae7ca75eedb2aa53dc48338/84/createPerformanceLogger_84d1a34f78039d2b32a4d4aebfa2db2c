e71db317493c959522efadb6fc27f772
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createPerformanceLogger;
exports.getCurrentTimestamp = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _global$nativeQPLTime;
var PRINT_TO_CONSOLE = false;
var getCurrentTimestamp = exports.getCurrentTimestamp = (_global$nativeQPLTime = global.nativeQPLTimestamp) != null ? _global$nativeQPLTime : function () {
  return global.performance.now();
};
var PerformanceLogger = function () {
  function PerformanceLogger() {
    (0, _classCallCheck2.default)(this, PerformanceLogger);
    this._timespans = {};
    this._extras = {};
    this._points = {};
    this._pointExtras = {};
    this._closed = false;
  }
  return (0, _createClass2.default)(PerformanceLogger, [{
    key: "addTimespan",
    value: function addTimespan(key, startTime, endTime, startExtras, endExtras) {
      if (this._closed) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: addTimespan - has closed ignoring: ', key);
        }
        return;
      }
      if (this._timespans[key]) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: Attempting to add a timespan that already exists ', key);
        }
        return;
      }
      this._timespans[key] = {
        startTime: startTime,
        endTime: endTime,
        totalTime: endTime - (startTime || 0),
        startExtras: startExtras,
        endExtras: endExtras
      };
    }
  }, {
    key: "append",
    value: function append(performanceLogger) {
      this._timespans = Object.assign({}, performanceLogger.getTimespans(), this._timespans);
      this._extras = Object.assign({}, performanceLogger.getExtras(), this._extras);
      this._points = Object.assign({}, performanceLogger.getPoints(), this._points);
      this._pointExtras = Object.assign({}, performanceLogger.getPointExtras(), this._pointExtras);
    }
  }, {
    key: "clear",
    value: function clear() {
      this._timespans = {};
      this._extras = {};
      this._points = {};
      if (PRINT_TO_CONSOLE) {
        console.log('PerformanceLogger.js', 'clear');
      }
    }
  }, {
    key: "clearCompleted",
    value: function clearCompleted() {
      for (var _key in this._timespans) {
        var _this$_timespans$_key;
        if (((_this$_timespans$_key = this._timespans[_key]) == null ? void 0 : _this$_timespans$_key.totalTime) != null) {
          delete this._timespans[_key];
        }
      }
      this._extras = {};
      this._points = {};
      if (PRINT_TO_CONSOLE) {
        console.log('PerformanceLogger.js', 'clearCompleted');
      }
    }
  }, {
    key: "close",
    value: function close() {
      this._closed = true;
    }
  }, {
    key: "currentTimestamp",
    value: function currentTimestamp() {
      return getCurrentTimestamp();
    }
  }, {
    key: "getExtras",
    value: function getExtras() {
      return this._extras;
    }
  }, {
    key: "getPoints",
    value: function getPoints() {
      return this._points;
    }
  }, {
    key: "getPointExtras",
    value: function getPointExtras() {
      return this._pointExtras;
    }
  }, {
    key: "getTimespans",
    value: function getTimespans() {
      return this._timespans;
    }
  }, {
    key: "hasTimespan",
    value: function hasTimespan(key) {
      return !!this._timespans[key];
    }
  }, {
    key: "isClosed",
    value: function isClosed() {
      return this._closed;
    }
  }, {
    key: "logEverything",
    value: function logEverything() {
      if (PRINT_TO_CONSOLE) {
        for (var _key2 in this._timespans) {
          var _this$_timespans$_key2;
          if (((_this$_timespans$_key2 = this._timespans[_key2]) == null ? void 0 : _this$_timespans$_key2.totalTime) != null) {
            console.log(_key2 + ': ' + this._timespans[_key2].totalTime + 'ms');
          }
        }
        console.log(this._extras);
        for (var _key3 in this._points) {
          if (this._points[_key3] != null) {
            console.log(_key3 + ': ' + this._points[_key3] + 'ms');
          }
        }
      }
    }
  }, {
    key: "markPoint",
    value: function markPoint(key) {
      var timestamp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentTimestamp();
      var extras = arguments.length > 2 ? arguments[2] : undefined;
      if (this._closed) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: markPoint - has closed ignoring: ', key);
        }
        return;
      }
      if (this._points[key] != null) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: Attempting to mark a point that has been already logged ', key);
        }
        return;
      }
      this._points[key] = timestamp;
      if (extras) {
        this._pointExtras[key] = extras;
      }
    }
  }, {
    key: "removeExtra",
    value: function removeExtra(key) {
      var value = this._extras[key];
      delete this._extras[key];
      return value;
    }
  }, {
    key: "setExtra",
    value: function setExtra(key, value) {
      if (this._closed) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: setExtra - has closed ignoring: ', key);
        }
        return;
      }
      if (this._extras.hasOwnProperty(key)) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: Attempting to set an extra that already exists ', {
            key: key,
            currentValue: this._extras[key],
            attemptedValue: value
          });
        }
        return;
      }
      this._extras[key] = value;
    }
  }, {
    key: "startTimespan",
    value: function startTimespan(key) {
      var timestamp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentTimestamp();
      var extras = arguments.length > 2 ? arguments[2] : undefined;
      if (this._closed) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: startTimespan - has closed ignoring: ', key);
        }
        return;
      }
      if (this._timespans[key]) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: Attempting to start a timespan that already exists ', key);
        }
        return;
      }
      this._timespans[key] = {
        startTime: timestamp,
        startExtras: extras
      };
      if (PRINT_TO_CONSOLE) {
        console.log('PerformanceLogger.js', 'start: ' + key);
      }
    }
  }, {
    key: "stopTimespan",
    value: function stopTimespan(key) {
      var timestamp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentTimestamp();
      var extras = arguments.length > 2 ? arguments[2] : undefined;
      if (this._closed) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: stopTimespan - has closed ignoring: ', key);
        }
        return;
      }
      var timespan = this._timespans[key];
      if (!timespan || timespan.startTime == null) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: Attempting to end a timespan that has not started ', key);
        }
        return;
      }
      if (timespan.endTime != null) {
        if (PRINT_TO_CONSOLE && __DEV__) {
          console.log('PerformanceLogger: Attempting to end a timespan that has already ended ', key);
        }
        return;
      }
      timespan.endExtras = extras;
      timespan.endTime = timestamp;
      timespan.totalTime = timespan.endTime - (timespan.startTime || 0);
      if (PRINT_TO_CONSOLE) {
        console.log('PerformanceLogger.js', 'end: ' + key);
      }
    }
  }]);
}();
function createPerformanceLogger() {
  return new PerformanceLogger();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQUklOVF9UT19DT05TT0xFIiwiZ2V0Q3VycmVudFRpbWVzdGFtcCIsImV4cG9ydHMiLCJfZ2xvYmFsJG5hdGl2ZVFQTFRpbWUiLCJnbG9iYWwiLCJuYXRpdmVRUExUaW1lc3RhbXAiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIlBlcmZvcm1hbmNlTG9nZ2VyIiwiX2NsYXNzQ2FsbENoZWNrMiIsImRlZmF1bHQiLCJfdGltZXNwYW5zIiwiX2V4dHJhcyIsIl9wb2ludHMiLCJfcG9pbnRFeHRyYXMiLCJfY2xvc2VkIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwiYWRkVGltZXNwYW4iLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwic3RhcnRFeHRyYXMiLCJlbmRFeHRyYXMiLCJfX0RFVl9fIiwiY29uc29sZSIsImxvZyIsInRvdGFsVGltZSIsImFwcGVuZCIsInBlcmZvcm1hbmNlTG9nZ2VyIiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0VGltZXNwYW5zIiwiZ2V0RXh0cmFzIiwiZ2V0UG9pbnRzIiwiZ2V0UG9pbnRFeHRyYXMiLCJjbGVhciIsImNsZWFyQ29tcGxldGVkIiwiX3RoaXMkX3RpbWVzcGFucyRfa2V5IiwiY2xvc2UiLCJjdXJyZW50VGltZXN0YW1wIiwiaGFzVGltZXNwYW4iLCJpc0Nsb3NlZCIsImxvZ0V2ZXJ5dGhpbmciLCJfdGhpcyRfdGltZXNwYW5zJF9rZXkyIiwibWFya1BvaW50IiwidGltZXN0YW1wIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZXh0cmFzIiwicmVtb3ZlRXh0cmEiLCJzZXRFeHRyYSIsImhhc093blByb3BlcnR5IiwiY3VycmVudFZhbHVlIiwiYXR0ZW1wdGVkVmFsdWUiLCJzdGFydFRpbWVzcGFuIiwic3RvcFRpbWVzcGFuIiwidGltZXNwYW4iLCJjcmVhdGVQZXJmb3JtYW5jZUxvZ2dlciJdLCJzb3VyY2VzIjpbImNyZWF0ZVBlcmZvcm1hbmNlTG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3RcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7XG4gIEV4dHJhcyxcbiAgRXh0cmFWYWx1ZSxcbiAgSVBlcmZvcm1hbmNlTG9nZ2VyLFxuICBUaW1lc3Bhbixcbn0gZnJvbSAnLi9JUGVyZm9ybWFuY2VMb2dnZXInO1xuXG5jb25zdCBQUklOVF9UT19DT05TT0xFOiBmYWxzZSA9IGZhbHNlOyAvLyBUeXBlIGFzIGZhbHNlIHRvIHByZXZlbnQgYWNjaWRlbnRhbGx5IGNvbW1pdHRpbmcgYHRydWVgO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFRpbWVzdGFtcDogKCkgPT4gbnVtYmVyID1cbiAgZ2xvYmFsLm5hdGl2ZVFQTFRpbWVzdGFtcCA/PyAoKCkgPT4gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpKTtcblxuY2xhc3MgUGVyZm9ybWFuY2VMb2dnZXIgaW1wbGVtZW50cyBJUGVyZm9ybWFuY2VMb2dnZXIge1xuICBfdGltZXNwYW5zOiB7W2tleTogc3RyaW5nXTogP1RpbWVzcGFufSA9IHt9O1xuICBfZXh0cmFzOiB7W2tleTogc3RyaW5nXTogP0V4dHJhVmFsdWV9ID0ge307XG4gIF9wb2ludHM6IHtba2V5OiBzdHJpbmddOiA/bnVtYmVyfSA9IHt9O1xuICBfcG9pbnRFeHRyYXM6IHtba2V5OiBzdHJpbmddOiA/RXh0cmFzLCAuLi59ID0ge307XG4gIF9jbG9zZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBhZGRUaW1lc3BhbihcbiAgICBrZXk6IHN0cmluZyxcbiAgICBzdGFydFRpbWU6IG51bWJlcixcbiAgICBlbmRUaW1lOiBudW1iZXIsXG4gICAgc3RhcnRFeHRyYXM/OiBFeHRyYXMsXG4gICAgZW5kRXh0cmFzPzogRXh0cmFzLFxuICApIHtcbiAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSAmJiBfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogYWRkVGltZXNwYW4gLSBoYXMgY2xvc2VkIGlnbm9yaW5nOiAnLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3RpbWVzcGFuc1trZXldKSB7XG4gICAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSAmJiBfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogQXR0ZW1wdGluZyB0byBhZGQgYSB0aW1lc3BhbiB0aGF0IGFscmVhZHkgZXhpc3RzICcsXG4gICAgICAgICAga2V5LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3RpbWVzcGFuc1trZXldID0ge1xuICAgICAgc3RhcnRUaW1lLFxuICAgICAgZW5kVGltZSxcbiAgICAgIHRvdGFsVGltZTogZW5kVGltZSAtIChzdGFydFRpbWUgfHwgMCksXG4gICAgICBzdGFydEV4dHJhcyxcbiAgICAgIGVuZEV4dHJhcyxcbiAgICB9O1xuICB9XG5cbiAgYXBwZW5kKHBlcmZvcm1hbmNlTG9nZ2VyOiBJUGVyZm9ybWFuY2VMb2dnZXIpIHtcbiAgICB0aGlzLl90aW1lc3BhbnMgPSB7XG4gICAgICAuLi5wZXJmb3JtYW5jZUxvZ2dlci5nZXRUaW1lc3BhbnMoKSxcbiAgICAgIC4uLnRoaXMuX3RpbWVzcGFucyxcbiAgICB9O1xuICAgIHRoaXMuX2V4dHJhcyA9IHsuLi5wZXJmb3JtYW5jZUxvZ2dlci5nZXRFeHRyYXMoKSwgLi4udGhpcy5fZXh0cmFzfTtcbiAgICB0aGlzLl9wb2ludHMgPSB7Li4ucGVyZm9ybWFuY2VMb2dnZXIuZ2V0UG9pbnRzKCksIC4uLnRoaXMuX3BvaW50c307XG4gICAgdGhpcy5fcG9pbnRFeHRyYXMgPSB7XG4gICAgICAuLi5wZXJmb3JtYW5jZUxvZ2dlci5nZXRQb2ludEV4dHJhcygpLFxuICAgICAgLi4udGhpcy5fcG9pbnRFeHRyYXMsXG4gICAgfTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX3RpbWVzcGFucyA9IHt9O1xuICAgIHRoaXMuX2V4dHJhcyA9IHt9O1xuICAgIHRoaXMuX3BvaW50cyA9IHt9O1xuICAgIGlmIChQUklOVF9UT19DT05TT0xFKSB7XG4gICAgICBjb25zb2xlLmxvZygnUGVyZm9ybWFuY2VMb2dnZXIuanMnLCAnY2xlYXInKTtcbiAgICB9XG4gIH1cblxuICBjbGVhckNvbXBsZXRlZCgpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLl90aW1lc3BhbnMpIHtcbiAgICAgIGlmICh0aGlzLl90aW1lc3BhbnNba2V5XT8udG90YWxUaW1lICE9IG51bGwpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVzcGFuc1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9leHRyYXMgPSB7fTtcbiAgICB0aGlzLl9wb2ludHMgPSB7fTtcbiAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSkge1xuICAgICAgY29uc29sZS5sb2coJ1BlcmZvcm1hbmNlTG9nZ2VyLmpzJywgJ2NsZWFyQ29tcGxldGVkJyk7XG4gICAgfVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgfVxuXG4gIGN1cnJlbnRUaW1lc3RhbXAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZ2V0Q3VycmVudFRpbWVzdGFtcCgpO1xuICB9XG5cbiAgZ2V0RXh0cmFzKCk6IHtba2V5OiBzdHJpbmddOiA/RXh0cmFWYWx1ZX0ge1xuICAgIHJldHVybiB0aGlzLl9leHRyYXM7XG4gIH1cblxuICBnZXRQb2ludHMoKToge1trZXk6IHN0cmluZ106ID9udW1iZXJ9IHtcbiAgICByZXR1cm4gdGhpcy5fcG9pbnRzO1xuICB9XG5cbiAgZ2V0UG9pbnRFeHRyYXMoKToge1trZXk6IHN0cmluZ106ID9FeHRyYXN9IHtcbiAgICByZXR1cm4gdGhpcy5fcG9pbnRFeHRyYXM7XG4gIH1cblxuICBnZXRUaW1lc3BhbnMoKToge1trZXk6IHN0cmluZ106ID9UaW1lc3Bhbn0ge1xuICAgIHJldHVybiB0aGlzLl90aW1lc3BhbnM7XG4gIH1cblxuICBoYXNUaW1lc3BhbihrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuX3RpbWVzcGFuc1trZXldO1xuICB9XG5cbiAgaXNDbG9zZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2Nsb3NlZDtcbiAgfVxuXG4gIGxvZ0V2ZXJ5dGhpbmcoKSB7XG4gICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUpIHtcbiAgICAgIC8vIGxvZyB0aW1lc3BhbnNcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuX3RpbWVzcGFucykge1xuICAgICAgICBpZiAodGhpcy5fdGltZXNwYW5zW2tleV0/LnRvdGFsVGltZSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coa2V5ICsgJzogJyArIHRoaXMuX3RpbWVzcGFuc1trZXldLnRvdGFsVGltZSArICdtcycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGxvZyBleHRyYXNcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2V4dHJhcyk7XG5cbiAgICAgIC8vIGxvZyBwb2ludHNcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuX3BvaW50cykge1xuICAgICAgICBpZiAodGhpcy5fcG9pbnRzW2tleV0gIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGtleSArICc6ICcgKyB0aGlzLl9wb2ludHNba2V5XSArICdtcycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbWFya1BvaW50KFxuICAgIGtleTogc3RyaW5nLFxuICAgIHRpbWVzdGFtcD86IG51bWJlciA9IGdldEN1cnJlbnRUaW1lc3RhbXAoKSxcbiAgICBleHRyYXM/OiBFeHRyYXMsXG4gICkge1xuICAgIGlmICh0aGlzLl9jbG9zZWQpIHtcbiAgICAgIGlmIChQUklOVF9UT19DT05TT0xFICYmIF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1BlcmZvcm1hbmNlTG9nZ2VyOiBtYXJrUG9pbnQgLSBoYXMgY2xvc2VkIGlnbm9yaW5nOiAnLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3BvaW50c1trZXldICE9IG51bGwpIHtcbiAgICAgIGlmIChQUklOVF9UT19DT05TT0xFICYmIF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1BlcmZvcm1hbmNlTG9nZ2VyOiBBdHRlbXB0aW5nIHRvIG1hcmsgYSBwb2ludCB0aGF0IGhhcyBiZWVuIGFscmVhZHkgbG9nZ2VkICcsXG4gICAgICAgICAga2V5LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9wb2ludHNba2V5XSA9IHRpbWVzdGFtcDtcbiAgICBpZiAoZXh0cmFzKSB7XG4gICAgICB0aGlzLl9wb2ludEV4dHJhc1trZXldID0gZXh0cmFzO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUV4dHJhKGtleTogc3RyaW5nKTogP0V4dHJhVmFsdWUge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fZXh0cmFzW2tleV07XG4gICAgZGVsZXRlIHRoaXMuX2V4dHJhc1trZXldO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHNldEV4dHJhKGtleTogc3RyaW5nLCB2YWx1ZTogRXh0cmFWYWx1ZSkge1xuICAgIGlmICh0aGlzLl9jbG9zZWQpIHtcbiAgICAgIGlmIChQUklOVF9UT19DT05TT0xFICYmIF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1BlcmZvcm1hbmNlTG9nZ2VyOiBzZXRFeHRyYSAtIGhhcyBjbG9zZWQgaWdub3Jpbmc6ICcsIGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V4dHJhcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSAmJiBfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogQXR0ZW1wdGluZyB0byBzZXQgYW4gZXh0cmEgdGhhdCBhbHJlYWR5IGV4aXN0cyAnLFxuICAgICAgICAgIHtrZXksIGN1cnJlbnRWYWx1ZTogdGhpcy5fZXh0cmFzW2tleV0sIGF0dGVtcHRlZFZhbHVlOiB2YWx1ZX0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2V4dHJhc1trZXldID0gdmFsdWU7XG4gIH1cblxuICBzdGFydFRpbWVzcGFuKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHRpbWVzdGFtcD86IG51bWJlciA9IGdldEN1cnJlbnRUaW1lc3RhbXAoKSxcbiAgICBleHRyYXM/OiBFeHRyYXMsXG4gICkge1xuICAgIGlmICh0aGlzLl9jbG9zZWQpIHtcbiAgICAgIGlmIChQUklOVF9UT19DT05TT0xFICYmIF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1BlcmZvcm1hbmNlTG9nZ2VyOiBzdGFydFRpbWVzcGFuIC0gaGFzIGNsb3NlZCBpZ25vcmluZzogJyxcbiAgICAgICAgICBrZXksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3RpbWVzcGFuc1trZXldKSB7XG4gICAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSAmJiBfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogQXR0ZW1wdGluZyB0byBzdGFydCBhIHRpbWVzcGFuIHRoYXQgYWxyZWFkeSBleGlzdHMgJyxcbiAgICAgICAgICBrZXksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fdGltZXNwYW5zW2tleV0gPSB7XG4gICAgICBzdGFydFRpbWU6IHRpbWVzdGFtcCxcbiAgICAgIHN0YXJ0RXh0cmFzOiBleHRyYXMsXG4gICAgfTtcbiAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSkge1xuICAgICAgY29uc29sZS5sb2coJ1BlcmZvcm1hbmNlTG9nZ2VyLmpzJywgJ3N0YXJ0OiAnICsga2V5KTtcbiAgICB9XG4gIH1cblxuICBzdG9wVGltZXNwYW4oXG4gICAga2V5OiBzdHJpbmcsXG4gICAgdGltZXN0YW1wPzogbnVtYmVyID0gZ2V0Q3VycmVudFRpbWVzdGFtcCgpLFxuICAgIGV4dHJhcz86IEV4dHJhcyxcbiAgKSB7XG4gICAgaWYgKHRoaXMuX2Nsb3NlZCkge1xuICAgICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUgJiYgX19ERVZfXykge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAnUGVyZm9ybWFuY2VMb2dnZXI6IHN0b3BUaW1lc3BhbiAtIGhhcyBjbG9zZWQgaWdub3Jpbmc6ICcsXG4gICAgICAgICAga2V5LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWVzcGFuID0gdGhpcy5fdGltZXNwYW5zW2tleV07XG4gICAgaWYgKCF0aW1lc3BhbiB8fCB0aW1lc3Bhbi5zdGFydFRpbWUgPT0gbnVsbCkge1xuICAgICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUgJiYgX19ERVZfXykge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAnUGVyZm9ybWFuY2VMb2dnZXI6IEF0dGVtcHRpbmcgdG8gZW5kIGEgdGltZXNwYW4gdGhhdCBoYXMgbm90IHN0YXJ0ZWQgJyxcbiAgICAgICAgICBrZXksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aW1lc3Bhbi5lbmRUaW1lICE9IG51bGwpIHtcbiAgICAgIGlmIChQUklOVF9UT19DT05TT0xFICYmIF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1BlcmZvcm1hbmNlTG9nZ2VyOiBBdHRlbXB0aW5nIHRvIGVuZCBhIHRpbWVzcGFuIHRoYXQgaGFzIGFscmVhZHkgZW5kZWQgJyxcbiAgICAgICAgICBrZXksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGltZXNwYW4uZW5kRXh0cmFzID0gZXh0cmFzO1xuICAgIHRpbWVzcGFuLmVuZFRpbWUgPSB0aW1lc3RhbXA7XG4gICAgdGltZXNwYW4udG90YWxUaW1lID0gdGltZXNwYW4uZW5kVGltZSAtICh0aW1lc3Bhbi5zdGFydFRpbWUgfHwgMCk7XG4gICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdQZXJmb3JtYW5jZUxvZ2dlci5qcycsICdlbmQ6ICcgKyBrZXkpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBSZS1leHBvcnRpbmcgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggYWxsIHRoZSBjbGllbnRzIHRoYXRcbi8vIG1heSBzdGlsbCBpbXBvcnQgaXQgZnJvbSB0aGlzIG1vZHVsZS5cbmV4cG9ydCB0eXBlIHtFeHRyYXMsIEV4dHJhVmFsdWUsIElQZXJmb3JtYW5jZUxvZ2dlciwgVGltZXNwYW59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBwZXJmb3JtYW5jZSBsb2dnZXJzIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29sbGVjdCBhbmQgbG9nXG4gKiB2YXJpb3VzIHBlcmZvcm1hbmNlIGRhdGEgc3VjaCBhcyB0aW1lc3BhbnMsIHBvaW50cyBhbmQgZXh0cmFzLlxuICogVGhlIGxvZ2dlcnMgbmVlZCB0byBoYXZlIG1pbmltYWwgb3ZlcmhlYWQgc2luY2UgdGhleSdyZSB1c2VkIGluIHByb2R1Y3Rpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVBlcmZvcm1hbmNlTG9nZ2VyKCk6IElQZXJmb3JtYW5jZUxvZ2dlciB7XG4gIHJldHVybiBuZXcgUGVyZm9ybWFuY2VMb2dnZXIoKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBaUJBLElBQU1BLGdCQUF1QixHQUFHLEtBQUs7QUFFOUIsSUFBTUMsbUJBQWlDLEdBQUFDLE9BQUEsQ0FBQUQsbUJBQUEsSUFBQUUscUJBQUEsR0FDNUNDLE1BQU0sQ0FBQ0Msa0JBQWtCLFlBQUFGLHFCQUFBLEdBQUs7RUFBQSxPQUFNQyxNQUFNLENBQUNFLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7QUFBQSxDQUFDO0FBQUMsSUFFMURDLGlCQUFpQjtFQUFBLFNBQUFBLGtCQUFBO0lBQUEsSUFBQUMsZ0JBQUEsQ0FBQUMsT0FBQSxRQUFBRixpQkFBQTtJQUFBLEtBQ3JCRyxVQUFVLEdBQStCLENBQUMsQ0FBQztJQUFBLEtBQzNDQyxPQUFPLEdBQWlDLENBQUMsQ0FBQztJQUFBLEtBQzFDQyxPQUFPLEdBQTZCLENBQUMsQ0FBQztJQUFBLEtBQ3RDQyxZQUFZLEdBQWtDLENBQUMsQ0FBQztJQUFBLEtBQ2hEQyxPQUFPLEdBQVksS0FBSztFQUFBO0VBQUEsV0FBQUMsYUFBQSxDQUFBTixPQUFBLEVBQUFGLGlCQUFBO0lBQUFTLEdBQUE7SUFBQUMsS0FBQSxFQUV4QixTQUFBQyxXQUFXQSxDQUNURixHQUFXLEVBQ1hHLFNBQWlCLEVBQ2pCQyxPQUFlLEVBQ2ZDLFdBQW9CLEVBQ3BCQyxTQUFrQixFQUNsQjtNQUNBLElBQUksSUFBSSxDQUFDUixPQUFPLEVBQUU7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