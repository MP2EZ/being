{"version":3,"names":["_getJestObj","mock","setItemAsync","jest","fn","mockResolvedValue","undefined","getItemAsync","deleteItemAsync","setItem","getItem","removeItem","Alert","alert","Linking","openURL","_interopRequireDefault","require","default","_toConsumableArray2","_asyncToGenerator2","_assessmentStore","_index","_this","_require","describe","store","beforeEach","useAssessmentStore","getState","resetAssessment","clearHistory","enableAutoSave","afterEach","PHQ9_QUESTIONS","generatePHQ9Combinations","targetScore","combinations","generateCombination","currentCombination","remainingQuestions","remainingScore","push","response","pop","slice","_loop","score","it","_store$currentSession","expect","length","toBeGreaterThan","answers","startAssessment","currentSession","toBeTruthy","type","toBe","startTime","performance","now","i","answerQuestion","completeAssessment","completionTime","result","currentResult","totalScore","severity","expectCrisis","CRISIS_THRESHOLDS","PHQ9_CRISIS_SCORE","isCrisis","_store$crisisDetectio3","_store$crisisDetectio4","crisisDetection","triggerType","triggerValue","toBeLessThan","suicidalResponse","suicidalIdeation","toHaveLength","forEach","answer","index","questionId","timestamp","completedAt","completedAssessments","testCases","testCase","_store$crisisDetectio","_store$crisisDetectio2","Array","fill","maxForQuestion","Math","min","crisisDetectionTime","GAD7_QUESTIONS","generateGAD7Combinations","_loop2","_store$currentSession2","GAD7_CRISIS_SCORE","_store$crisisDetectio5","_store$crisisDetectio6","_phqHistory$0$result","_gadHistory$0$result","phqCrisisAnswers","phqResult","firstCrisis","gadCrisisAnswers","gadResult","history","getAssessmentHistory","phqHistory","gadHistory","crisisScenarios","description","scenario","_store$crisisDetectio7","distributeScore","totalTime","isTriggered","console","log","toFixed","questionCount","boundaryTests","test","toBeFalsy","invalidResponses","invalidResponse","fail","error"],"sources":["comprehensive-scoring-validation.test.ts"],"sourcesContent":["/**\n * COMPREHENSIVE PHQ-9/GAD-7 SCORING VALIDATION - ALL 48 COMBINATIONS\n * \n * CRITICAL SAFETY TESTING:\n * - PHQ-9: All 28 possible scores (0-27) with crisis detection validation\n * - GAD-7: All 21 possible scores (0-21) with crisis detection validation  \n * - Suicidal ideation detection for PHQ-9 Question 9\n * - Crisis intervention timing requirements (<200ms)\n * - Clinical accuracy validation (100% requirement)\n * \n * REGULATORY COMPLIANCE:\n * - HIPAA-compliant scoring with audit trails\n * - Encrypted storage validation during testing\n * - Clinical threshold validation (PHQ≥20, GAD≥15)\n * - Therapeutic response time verification\n * \n * Week 2 Orchestration Plan - Crisis-Critical Testing Component\n */\n\nimport { useAssessmentStore } from '../../../src/flows/assessment/stores/assessmentStore';\nimport { \n  AssessmentType, \n  AssessmentResponse, \n  PHQ9Result, \n  GAD7Result,\n  CrisisDetection,\n  CRISIS_THRESHOLDS \n} from '../../../src/flows/assessment/types/index';\n\n// Performance monitoring for crisis detection\n// Using global performance API (set up in test environment)\n\n// Mock secure storage for testing\njest.mock('expo-secure-store', () => ({\n  setItemAsync: jest.fn().mockResolvedValue(undefined),\n  getItemAsync: jest.fn().mockResolvedValue(null),\n  deleteItemAsync: jest.fn().mockResolvedValue(undefined),\n}));\n\njest.mock('@react-native-async-storage/async-storage', () => ({\n  setItem: jest.fn().mockResolvedValue(undefined),\n  getItem: jest.fn().mockResolvedValue(null),\n  removeItem: jest.fn().mockResolvedValue(undefined),\n}));\n\njest.mock('react-native', () => ({\n  Alert: {\n    alert: jest.fn(),\n  },\n  Linking: {\n    openURL: jest.fn(),\n  },\n}));\n\ndescribe('COMPREHENSIVE CLINICAL SCORING VALIDATION - ALL 48 COMBINATIONS', () => {\n  let store: ReturnType<typeof useAssessmentStore>;\n\n  beforeEach(async () => {\n    // Reset store to clean state\n    store = useAssessmentStore.getState();\n    store.resetAssessment();\n    \n    // Clear any existing data\n    await store.clearHistory();\n    \n    // Enable auto-save for realistic testing\n    store.enableAutoSave();\n  });\n\n  afterEach(() => {\n    // Clean up after each test\n    store.resetAssessment();\n  });\n\n  describe('PHQ-9 COMPREHENSIVE SCORING (28 combinations: 0-27)', () => {\n    const PHQ9_QUESTIONS = [\n      'phq9_1', 'phq9_2', 'phq9_3', 'phq9_4', 'phq9_5',\n      'phq9_6', 'phq9_7', 'phq9_8', 'phq9_9'\n    ];\n\n    /**\n     * Helper function to generate all possible PHQ-9 answer combinations\n     * for a target score (0-27)\n     */\n    const generatePHQ9Combinations = (targetScore: number): AssessmentResponse[][] => {\n      const combinations: AssessmentResponse[][] = [];\n      \n      // Generate combinations that sum to targetScore\n      function generateCombination(\n        currentCombination: AssessmentResponse[], \n        remainingQuestions: number, \n        remainingScore: number\n      ) {\n        if (remainingQuestions === 0) {\n          if (remainingScore === 0) {\n            combinations.push([...currentCombination]);\n          }\n          return;\n        }\n\n        // Try each possible response (0-3)\n        for (let response = 0; response <= 3; response++) {\n          if (response <= remainingScore && remainingScore - response <= (remainingQuestions - 1) * 3) {\n            currentCombination.push(response as AssessmentResponse);\n            generateCombination(currentCombination, remainingQuestions - 1, remainingScore - response);\n            currentCombination.pop();\n          }\n        }\n      }\n\n      generateCombination([], 9, targetScore);\n      return combinations.slice(0, 1); // Take first valid combination for each score\n    };\n\n    /**\n     * Test each PHQ-9 score from 0-27\n     */\n    for (let score = 0; score <= 27; score++) {\n      it(`PHQ-9 Score ${score}: Clinical accuracy and crisis detection`, async () => {\n        const combinations = generatePHQ9Combinations(score);\n        expect(combinations.length).toBeGreaterThan(0);\n\n        const answers = combinations[0];\n        \n        // Start assessment\n        await store.startAssessment('phq9', 'clinical_validation');\n        expect(store.currentSession).toBeTruthy();\n        expect(store.currentSession?.type).toBe('phq9');\n\n        // Performance monitoring start\n        const startTime = performance.now();\n\n        // Answer all questions\n        for (let i = 0; i < PHQ9_QUESTIONS.length; i++) {\n          await store.answerQuestion(PHQ9_QUESTIONS[i], answers[i]);\n        }\n\n        // Complete assessment with timing validation\n        await store.completeAssessment();\n        const completionTime = performance.now() - startTime;\n\n        // Validate results\n        const result = store.currentResult as PHQ9Result;\n        expect(result).toBeTruthy();\n        expect(result.totalScore).toBe(score);\n        \n        // Validate severity mapping\n        if (score >= 0 && score <= 4) {\n          expect(result.severity).toBe('minimal');\n        } else if (score >= 5 && score <= 9) {\n          expect(result.severity).toBe('mild');\n        } else if (score >= 10 && score <= 14) {\n          expect(result.severity).toBe('moderate');\n        } else if (score >= 15 && score <= 19) {\n          expect(result.severity).toBe('moderately_severe');\n        } else if (score >= 20 && score <= 27) {\n          expect(result.severity).toBe('severe');\n        }\n\n        // Crisis detection validation\n        const expectCrisis = score >= CRISIS_THRESHOLDS.PHQ9_CRISIS_SCORE;\n        expect(result.isCrisis).toBe(expectCrisis);\n\n        if (expectCrisis) {\n          expect(store.crisisDetection).toBeTruthy();\n          expect(store.crisisDetection?.triggerType).toBe('phq9_score');\n          expect(store.crisisDetection?.triggerValue).toBe(score);\n          \n          // Crisis detection timing requirement (<200ms)\n          expect(completionTime).toBeLessThan(200);\n        }\n\n        // Suicidal ideation detection (Question 9)\n        const suicidalResponse = answers[8]; // PHQ9_9 is index 8\n        expect(result.suicidalIdeation).toBe(suicidalResponse > 0);\n        \n        if (suicidalResponse > 0) {\n          expect(result.isCrisis).toBe(true); // Should trigger crisis regardless of total score\n          expect(store.crisisDetection).toBeTruthy();\n        }\n\n        // Validate answer persistence\n        expect(result.answers).toHaveLength(9);\n        result.answers.forEach((answer, index) => {\n          expect(answer.questionId).toBe(PHQ9_QUESTIONS[index]);\n          expect(answer.response).toBe(answers[index]);\n          expect(answer.timestamp).toBeGreaterThan(0);\n        });\n\n        // Validate clinical compliance\n        expect(result.completedAt).toBeGreaterThan(0);\n        expect(store.completedAssessments).toHaveLength(1);\n      });\n    }\n\n    /**\n     * Specific suicidal ideation testing across all severity levels\n     */\n    it('PHQ-9 Suicidal Ideation: Immediate crisis detection across all scores', async () => {\n      // Test suicidal ideation with various total scores\n      const testCases = [\n        { score: 5, suicidalResponse: 1 }, // Low score with suicidal ideation\n        { score: 10, suicidalResponse: 2 }, // Moderate score with suicidal ideation\n        { score: 15, suicidalResponse: 3 }, // High score with suicidal ideation\n        { score: 3, suicidalResponse: 1 }, // Very low score with suicidal ideation\n      ];\n\n      for (const testCase of testCases) {\n        store.resetAssessment();\n        \n        await store.startAssessment('phq9', 'suicidal_ideation_test');\n        \n        // Generate answers that sum to target score, with specific Q9 response\n        const answers: AssessmentResponse[] = new Array(9).fill(0);\n        answers[8] = testCase.suicidalResponse; // PHQ9_9 (suicidal ideation)\n        \n        // Distribute remaining score across other questions\n        let remainingScore = testCase.score - testCase.suicidalResponse;\n        for (let i = 0; i < 8 && remainingScore > 0; i++) {\n          const maxForQuestion = Math.min(remainingScore, 3);\n          answers[i] = maxForQuestion as AssessmentResponse;\n          remainingScore -= maxForQuestion;\n        }\n\n        const startTime = performance.now();\n\n        // Answer questions (Q9 should trigger immediate crisis detection)\n        for (let i = 0; i < 8; i++) {\n          await store.answerQuestion(PHQ9_QUESTIONS[i], answers[i]);\n        }\n\n        // Answer Q9 - should trigger immediate crisis detection\n        await store.answerQuestion(PHQ9_QUESTIONS[8], answers[8]);\n        const crisisDetectionTime = performance.now() - startTime;\n\n        // Validate immediate crisis detection for suicidal ideation\n        expect(store.crisisDetection).toBeTruthy();\n        expect(store.crisisDetection?.triggerType).toBe('phq9_suicidal');\n        expect(store.crisisDetection?.triggerValue).toBe(testCase.suicidalResponse);\n        expect(crisisDetectionTime).toBeLessThan(200); // <200ms requirement\n\n        await store.completeAssessment();\n        \n        const result = store.currentResult as PHQ9Result;\n        expect(result.suicidalIdeation).toBe(true);\n        expect(result.isCrisis).toBe(true); // Always crisis with suicidal ideation\n        expect(result.totalScore).toBe(testCase.score);\n      }\n    });\n  });\n\n  describe('GAD-7 COMPREHENSIVE SCORING (21 combinations: 0-21)', () => {\n    const GAD7_QUESTIONS = [\n      'gad7_1', 'gad7_2', 'gad7_3', 'gad7_4', 'gad7_5', 'gad7_6', 'gad7_7'\n    ];\n\n    /**\n     * Helper function to generate GAD-7 answer combinations for target score\n     */\n    const generateGAD7Combinations = (targetScore: number): AssessmentResponse[][] => {\n      const combinations: AssessmentResponse[][] = [];\n      \n      function generateCombination(\n        currentCombination: AssessmentResponse[], \n        remainingQuestions: number, \n        remainingScore: number\n      ) {\n        if (remainingQuestions === 0) {\n          if (remainingScore === 0) {\n            combinations.push([...currentCombination]);\n          }\n          return;\n        }\n\n        for (let response = 0; response <= 3; response++) {\n          if (response <= remainingScore && remainingScore - response <= (remainingQuestions - 1) * 3) {\n            currentCombination.push(response as AssessmentResponse);\n            generateCombination(currentCombination, remainingQuestions - 1, remainingScore - response);\n            currentCombination.pop();\n          }\n        }\n      }\n\n      generateCombination([], 7, targetScore);\n      return combinations.slice(0, 1); // Take first valid combination\n    };\n\n    /**\n     * Test each GAD-7 score from 0-21\n     */\n    for (let score = 0; score <= 21; score++) {\n      it(`GAD-7 Score ${score}: Clinical accuracy and crisis detection`, async () => {\n        const combinations = generateGAD7Combinations(score);\n        expect(combinations.length).toBeGreaterThan(0);\n\n        const answers = combinations[0];\n        \n        // Start assessment\n        await store.startAssessment('gad7', 'clinical_validation');\n        expect(store.currentSession).toBeTruthy();\n        expect(store.currentSession?.type).toBe('gad7');\n\n        const startTime = performance.now();\n\n        // Answer all questions\n        for (let i = 0; i < GAD7_QUESTIONS.length; i++) {\n          await store.answerQuestion(GAD7_QUESTIONS[i], answers[i]);\n        }\n\n        await store.completeAssessment();\n        const completionTime = performance.now() - startTime;\n\n        // Validate results\n        const result = store.currentResult as GAD7Result;\n        expect(result).toBeTruthy();\n        expect(result.totalScore).toBe(score);\n        \n        // Validate severity mapping\n        if (score >= 0 && score <= 4) {\n          expect(result.severity).toBe('minimal');\n        } else if (score >= 5 && score <= 9) {\n          expect(result.severity).toBe('mild');\n        } else if (score >= 10 && score <= 14) {\n          expect(result.severity).toBe('moderate');\n        } else if (score >= 15 && score <= 21) {\n          expect(result.severity).toBe('severe');\n        }\n\n        // Crisis detection validation\n        const expectCrisis = score >= CRISIS_THRESHOLDS.GAD7_CRISIS_SCORE;\n        expect(result.isCrisis).toBe(expectCrisis);\n\n        if (expectCrisis) {\n          expect(store.crisisDetection).toBeTruthy();\n          expect(store.crisisDetection?.triggerType).toBe('gad7_score');\n          expect(store.crisisDetection?.triggerValue).toBe(score);\n          \n          // Crisis detection timing requirement (<200ms)\n          expect(completionTime).toBeLessThan(200);\n        }\n\n        // Validate answer persistence\n        expect(result.answers).toHaveLength(7);\n        result.answers.forEach((answer, index) => {\n          expect(answer.questionId).toBe(GAD7_QUESTIONS[index]);\n          expect(answer.response).toBe(answers[index]);\n          expect(answer.timestamp).toBeGreaterThan(0);\n        });\n\n        // Validate clinical compliance\n        expect(result.completedAt).toBeGreaterThan(0);\n        expect(store.completedAssessments).toHaveLength(1);\n      });\n    }\n  });\n\n  describe('CRISIS INTEGRATION TESTING', () => {\n    it('Multiple crisis triggers: Combined PHQ-9 and GAD-7 crisis scenarios', async () => {\n      // Test scenario: Both assessments trigger crisis\n      \n      // PHQ-9 with crisis score\n      await store.startAssessment('phq9', 'crisis_integration_test');\n      \n      // Generate crisis-level responses (score 25)\n      const phqCrisisAnswers: AssessmentResponse[] = [3, 3, 3, 3, 3, 3, 3, 3, 1];\n      for (let i = 0; i < phqCrisisAnswers.length; i++) {\n        await store.answerQuestion(`phq9_${i + 1}`, phqCrisisAnswers[i]);\n      }\n      \n      await store.completeAssessment();\n      \n      const phqResult = store.currentResult as PHQ9Result;\n      expect(phqResult.totalScore).toBe(25);\n      expect(phqResult.isCrisis).toBe(true);\n      expect(store.crisisDetection).toBeTruthy();\n      \n      // Store first crisis detection\n      const firstCrisis = store.crisisDetection;\n      \n      // Reset for GAD-7\n      store.resetAssessment();\n      \n      // GAD-7 with crisis score\n      await store.startAssessment('gad7', 'crisis_integration_test');\n      \n      // Generate crisis-level responses (score 18)\n      const gadCrisisAnswers: AssessmentResponse[] = [3, 3, 3, 3, 3, 3, 0];\n      for (let i = 0; i < gadCrisisAnswers.length; i++) {\n        await store.answerQuestion(`gad7_${i + 1}`, gadCrisisAnswers[i]);\n      }\n      \n      await store.completeAssessment();\n      \n      const gadResult = store.currentResult as GAD7Result;\n      expect(gadResult.totalScore).toBe(18);\n      expect(gadResult.isCrisis).toBe(true);\n      expect(store.crisisDetection).toBeTruthy();\n      \n      // Validate both assessments in history\n      const history = store.getAssessmentHistory();\n      expect(history).toHaveLength(2);\n      \n      const phqHistory = store.getAssessmentHistory('phq9');\n      const gadHistory = store.getAssessmentHistory('gad7');\n      expect(phqHistory).toHaveLength(1);\n      expect(gadHistory).toHaveLength(1);\n      \n      // Both should show crisis\n      expect(phqHistory[0].result?.isCrisis).toBe(true);\n      expect(gadHistory[0].result?.isCrisis).toBe(true);\n    });\n\n    it('Crisis intervention timing: Validates <200ms requirement across all scenarios', async () => {\n      const crisisScenarios = [\n        { type: 'phq9' as AssessmentType, score: 20, description: 'PHQ-9 minimum crisis score' },\n        { type: 'phq9' as AssessmentType, score: 27, description: 'PHQ-9 maximum score' },\n        { type: 'gad7' as AssessmentType, score: 15, description: 'GAD-7 minimum crisis score' },\n        { type: 'gad7' as AssessmentType, score: 21, description: 'GAD-7 maximum score' },\n      ];\n\n      for (const scenario of crisisScenarios) {\n        store.resetAssessment();\n        \n        await store.startAssessment(scenario.type, 'crisis_timing_test');\n        \n        const startTime = performance.now();\n        \n        // Generate answers for target score\n        if (scenario.type === 'phq9') {\n          // Distribute score across 9 questions\n          const answers = distributeScore(scenario.score, 9);\n          for (let i = 0; i < 9; i++) {\n            await store.answerQuestion(`phq9_${i + 1}`, answers[i]);\n          }\n        } else {\n          // Distribute score across 7 questions\n          const answers = distributeScore(scenario.score, 7);\n          for (let i = 0; i < 7; i++) {\n            await store.answerQuestion(`gad7_${i + 1}`, answers[i]);\n          }\n        }\n        \n        await store.completeAssessment();\n        const totalTime = performance.now() - startTime;\n        \n        // Validate crisis detection and timing\n        expect(store.crisisDetection).toBeTruthy();\n        expect(store.crisisDetection?.isTriggered).toBe(true);\n        expect(totalTime).toBeLessThan(200); // <200ms requirement\n        \n        console.log(`${scenario.description}: ${totalTime.toFixed(2)}ms`);\n      }\n    });\n\n  /**\n   * Helper function to distribute score across questions\n   */\n  function distributeScore(targetScore: number, questionCount: number): AssessmentResponse[] {\n    const answers: AssessmentResponse[] = new Array(questionCount).fill(0);\n    let remainingScore = targetScore;\n\n    for (let i = 0; i < questionCount && remainingScore > 0; i++) {\n      const maxForQuestion = Math.min(remainingScore, 3);\n      answers[i] = maxForQuestion as AssessmentResponse;\n      remainingScore -= maxForQuestion;\n    }\n\n    return answers;\n  }\n  });\n\n  describe('CLINICAL VALIDATION EDGE CASES', () => {\n    it('Boundary testing: Crisis threshold edge cases', async () => {\n      const boundaryTests = [\n        { type: 'phq9' as AssessmentType, score: 19, expectCrisis: false },\n        { type: 'phq9' as AssessmentType, score: 20, expectCrisis: true },\n        { type: 'gad7' as AssessmentType, score: 14, expectCrisis: false },\n        { type: 'gad7' as AssessmentType, score: 15, expectCrisis: true },\n      ];\n\n      for (const test of boundaryTests) {\n        store.resetAssessment();\n        \n        await store.startAssessment(test.type, 'boundary_test');\n        \n        const questionCount = test.type === 'phq9' ? 9 : 7;\n        const answers = this.distributeScore(test.score, questionCount);\n        \n        for (let i = 0; i < questionCount; i++) {\n          await store.answerQuestion(`${test.type}_${i + 1}`, answers[i]);\n        }\n        \n        await store.completeAssessment();\n        \n        const result = store.currentResult;\n        expect(result?.totalScore).toBe(test.score);\n        expect(result?.isCrisis).toBe(test.expectCrisis);\n        \n        if (test.expectCrisis) {\n          expect(store.crisisDetection).toBeTruthy();\n        } else {\n          expect(store.crisisDetection).toBeFalsy();\n        }\n      }\n    });\n\n    it('Data integrity: Answer validation and persistence', async () => {\n      await store.startAssessment('phq9', 'integrity_test');\n      \n      // Test invalid responses (should be rejected)\n      const invalidResponses = [-1, 4, 5, 10, 'invalid'] as any[];\n      \n      for (const invalidResponse of invalidResponses) {\n        try {\n          await store.answerQuestion('phq9_1', invalidResponse);\n          fail('Should have rejected invalid response');\n        } catch (error) {\n          expect(error).toBeTruthy();\n        }\n      }\n      \n      // Test valid responses\n      for (let i = 0; i < 9; i++) {\n        await store.answerQuestion(`phq9_${i + 1}`, 1);\n      }\n      \n      await store.completeAssessment();\n      \n      const result = store.currentResult as PHQ9Result;\n      expect(result.totalScore).toBe(9);\n      expect(result.answers).toHaveLength(9);\n      \n      // Validate all answers are properly stored\n      result.answers.forEach((answer, index) => {\n        expect(answer.questionId).toBe(`phq9_${index + 1}`);\n        expect(answer.response).toBe(1);\n        expect(answer.timestamp).toBeGreaterThan(0);\n      });\n    });\n  });\n});"],"mappings":"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","ignoreList":[]}