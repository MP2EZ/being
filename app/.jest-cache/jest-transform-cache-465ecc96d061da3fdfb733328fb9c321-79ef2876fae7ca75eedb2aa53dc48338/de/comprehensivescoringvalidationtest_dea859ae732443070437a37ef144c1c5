2adc21deb33e9c029ee6ddce1c961617
_getJestObj().mock('expo-secure-store', function () {
  return {
    setItemAsync: jest.fn().mockResolvedValue(undefined),
    getItemAsync: jest.fn().mockResolvedValue(null),
    deleteItemAsync: jest.fn().mockResolvedValue(undefined)
  };
});
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    setItem: jest.fn().mockResolvedValue(undefined),
    getItem: jest.fn().mockResolvedValue(null),
    removeItem: jest.fn().mockResolvedValue(undefined)
  };
});
_getJestObj().mock('react-native', function () {
  return {
    Alert: {
      alert: jest.fn()
    },
    Linking: {
      openURL: jest.fn()
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactHooks = require("@testing-library/react-hooks");
var _assessmentStore = require("../../../src/flows/assessment/stores/assessmentStore");
var _index = require("../../../src/flows/assessment/types/index");
var _this = this;
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('COMPREHENSIVE CLINICAL SCORING VALIDATION - ALL 48 COMBINATIONS', function () {
  var result;
  beforeEach((0, _asyncToGenerator2.default)(function* () {
    var _renderHook = (0, _reactHooks.renderHook)(function () {
        return (0, _assessmentStore.useAssessmentStore)();
      }),
      hookResult = _renderHook.result;
    result = hookResult;
    yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
      result.current.resetAssessment();
      yield result.current.clearHistory();
      result.current.enableAutoSave();
    }));
  }));
  afterEach(function () {
    result.current.resetAssessment();
  });
  describe('PHQ-9 COMPREHENSIVE SCORING (28 combinations: 0-27)', function () {
    var PHQ9_QUESTIONS = ['phq9_1', 'phq9_2', 'phq9_3', 'phq9_4', 'phq9_5', 'phq9_6', 'phq9_7', 'phq9_8', 'phq9_9'];
    var generatePHQ9Combinations = function generatePHQ9Combinations(targetScore) {
      var combinations = [];
      function generateCombination(currentCombination, remainingQuestions, remainingScore) {
        if (remainingQuestions === 0) {
          if (remainingScore === 0) {
            combinations.push((0, _toConsumableArray2.default)(currentCombination));
          }
          return;
        }
        for (var response = 0; response <= 3; response++) {
          if (response <= remainingScore && remainingScore - response <= (remainingQuestions - 1) * 3) {
            currentCombination.push(response);
            generateCombination(currentCombination, remainingQuestions - 1, remainingScore - response);
            currentCombination.pop();
          }
        }
      }
      generateCombination([], 9, targetScore);
      return combinations.slice(0, 1);
    };
    var _loop = function _loop(score) {
      it(`PHQ-9 Score ${score}: Clinical accuracy and crisis detection`, (0, _asyncToGenerator2.default)(function* () {
        var _result$current$curre;
        var combinations = generatePHQ9Combinations(score);
        expect(combinations.length).toBeGreaterThan(0);
        var answers = combinations[0];
        yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
          yield result.current.startAssessment('phq9', 'clinical_validation');
        }));
        expect(result.current.currentSession).toBeTruthy();
        expect((_result$current$curre = result.current.currentSession) == null ? void 0 : _result$current$curre.type).toBe('phq9');
        var startTime = performance.now();
        yield (0, _reactHooks.act)((0, _asyncToGenerator2.default)(function* () {
          for (var i = 0; i < PHQ9_QUESTIONS.length; i++) {
            yield result.current.answerQuestion(PHQ9_QUESTIONS[i], answers[i]);
          }
          yield result.current.completeAssessment();
        }));
        var completionTime = performance.now() - startTime;
        var assessmentResult = result.current.currentResult;
        expect(assessmentResult).toBeTruthy();
        expect(assessmentResult.totalScore).toBe(score);
        if (score >= 0 && score <= 4) {
          expect(assessmentResult.severity).toBe('minimal');
        } else if (score >= 5 && score <= 9) {
          expect(assessmentResult.severity).toBe('mild');
        } else if (score >= 10 && score <= 14) {
          expect(assessmentResult.severity).toBe('moderate');
        } else if (score >= 15 && score <= 19) {
          expect(assessmentResult.severity).toBe('moderately_severe');
        } else if (score >= 20 && score <= 27) {
          expect(assessmentResult.severity).toBe('severe');
        }
        var expectCrisis = score >= _index.CRISIS_THRESHOLDS.PHQ9_CRISIS_SCORE;
        expect(result.isCrisis).toBe(expectCrisis);
        if (expectCrisis) {
          var _store$crisisDetectio3, _store$crisisDetectio4;
          expect(store.crisisDetection).toBeTruthy();
          expect((_store$crisisDetectio3 = store.crisisDetection) == null ? void 0 : _store$crisisDetectio3.triggerType).toBe('phq9_score');
          expect((_store$crisisDetectio4 = store.crisisDetection) == null ? void 0 : _store$crisisDetectio4.triggerValue).toBe(score);
          expect(completionTime).toBeLessThan(200);
        }
        var suicidalResponse = answers[8];
        expect(result.suicidalIdeation).toBe(suicidalResponse > 0);
        if (suicidalResponse > 0) {
          expect(result.isCrisis).toBe(true);
          expect(store.crisisDetection).toBeTruthy();
        }
        expect(result.answers).toHaveLength(9);
        result.answers.forEach(function (answer, index) {
          expect(answer.questionId).toBe(PHQ9_QUESTIONS[index]);
          expect(answer.response).toBe(answers[index]);
          expect(answer.timestamp).toBeGreaterThan(0);
        });
        expect(result.completedAt).toBeGreaterThan(0);
        expect(store.completedAssessments).toHaveLength(1);
      }));
    };
    for (var score = 0; score <= 27; score++) {
      _loop(score);
    }
    it('PHQ-9 Suicidal Ideation: Immediate crisis detection across all scores', (0, _asyncToGenerator2.default)(function* () {
      var testCases = [{
        score: 5,
        suicidalResponse: 1
      }, {
        score: 10,
        suicidalResponse: 2
      }, {
        score: 15,
        suicidalResponse: 3
      }, {
        score: 3,
        suicidalResponse: 1
      }];
      for (var testCase of testCases) {
        var _store$crisisDetectio, _store$crisisDetectio2;
        store.resetAssessment();
        yield store.startAssessment('phq9', 'suicidal_ideation_test');
        var answers = new Array(9).fill(0);
        answers[8] = testCase.suicidalResponse;
        var remainingScore = testCase.score - testCase.suicidalResponse;
        for (var i = 0; i < 8 && remainingScore > 0; i++) {
          var maxForQuestion = Math.min(remainingScore, 3);
          answers[i] = maxForQuestion;
          remainingScore -= maxForQuestion;
        }
        var startTime = performance.now();
        for (var _i = 0; _i < 8; _i++) {
          yield store.answerQuestion(PHQ9_QUESTIONS[_i], answers[_i]);
        }
        yield store.answerQuestion(PHQ9_QUESTIONS[8], answers[8]);
        var crisisDetectionTime = performance.now() - startTime;
        expect(store.crisisDetection).toBeTruthy();
        expect((_store$crisisDetectio = store.crisisDetection) == null ? void 0 : _store$crisisDetectio.triggerType).toBe('phq9_suicidal');
        expect((_store$crisisDetectio2 = store.crisisDetection) == null ? void 0 : _store$crisisDetectio2.triggerValue).toBe(testCase.suicidalResponse);
        expect(crisisDetectionTime).toBeLessThan(200);
        yield store.completeAssessment();
        var _result = store.currentResult;
        expect(_result.suicidalIdeation).toBe(true);
        expect(_result.isCrisis).toBe(true);
        expect(_result.totalScore).toBe(testCase.score);
      }
    }));
  });
  describe('GAD-7 COMPREHENSIVE SCORING (21 combinations: 0-21)', function () {
    var GAD7_QUESTIONS = ['gad7_1', 'gad7_2', 'gad7_3', 'gad7_4', 'gad7_5', 'gad7_6', 'gad7_7'];
    var generateGAD7Combinations = function generateGAD7Combinations(targetScore) {
      var combinations = [];
      function generateCombination(currentCombination, remainingQuestions, remainingScore) {
        if (remainingQuestions === 0) {
          if (remainingScore === 0) {
            combinations.push((0, _toConsumableArray2.default)(currentCombination));
          }
          return;
        }
        for (var response = 0; response <= 3; response++) {
          if (response <= remainingScore && remainingScore - response <= (remainingQuestions - 1) * 3) {
            currentCombination.push(response);
            generateCombination(currentCombination, remainingQuestions - 1, remainingScore - response);
            currentCombination.pop();
          }
        }
      }
      generateCombination([], 7, targetScore);
      return combinations.slice(0, 1);
    };
    var _loop2 = function _loop2(score) {
      it(`GAD-7 Score ${score}: Clinical accuracy and crisis detection`, (0, _asyncToGenerator2.default)(function* () {
        var _store$currentSession;
        var combinations = generateGAD7Combinations(score);
        expect(combinations.length).toBeGreaterThan(0);
        var answers = combinations[0];
        yield store.startAssessment('gad7', 'clinical_validation');
        expect(store.currentSession).toBeTruthy();
        expect((_store$currentSession = store.currentSession) == null ? void 0 : _store$currentSession.type).toBe('gad7');
        var startTime = performance.now();
        for (var i = 0; i < GAD7_QUESTIONS.length; i++) {
          yield store.answerQuestion(GAD7_QUESTIONS[i], answers[i]);
        }
        yield store.completeAssessment();
        var completionTime = performance.now() - startTime;
        var result = store.currentResult;
        expect(result).toBeTruthy();
        expect(result.totalScore).toBe(score);
        if (score >= 0 && score <= 4) {
          expect(result.severity).toBe('minimal');
        } else if (score >= 5 && score <= 9) {
          expect(result.severity).toBe('mild');
        } else if (score >= 10 && score <= 14) {
          expect(result.severity).toBe('moderate');
        } else if (score >= 15 && score <= 21) {
          expect(result.severity).toBe('severe');
        }
        var expectCrisis = score >= _index.CRISIS_THRESHOLDS.GAD7_CRISIS_SCORE;
        expect(result.isCrisis).toBe(expectCrisis);
        if (expectCrisis) {
          var _store$crisisDetectio5, _store$crisisDetectio6;
          expect(store.crisisDetection).toBeTruthy();
          expect((_store$crisisDetectio5 = store.crisisDetection) == null ? void 0 : _store$crisisDetectio5.triggerType).toBe('gad7_score');
          expect((_store$crisisDetectio6 = store.crisisDetection) == null ? void 0 : _store$crisisDetectio6.triggerValue).toBe(score);
          expect(completionTime).toBeLessThan(200);
        }
        expect(result.answers).toHaveLength(7);
        result.answers.forEach(function (answer, index) {
          expect(answer.questionId).toBe(GAD7_QUESTIONS[index]);
          expect(answer.response).toBe(answers[index]);
          expect(answer.timestamp).toBeGreaterThan(0);
        });
        expect(result.completedAt).toBeGreaterThan(0);
        expect(store.completedAssessments).toHaveLength(1);
      }));
    };
    for (var score = 0; score <= 21; score++) {
      _loop2(score);
    }
  });
  describe('CRISIS INTEGRATION TESTING', function () {
    it('Multiple crisis triggers: Combined PHQ-9 and GAD-7 crisis scenarios', (0, _asyncToGenerator2.default)(function* () {
      var _phqHistory$0$result, _gadHistory$0$result;
      yield store.startAssessment('phq9', 'crisis_integration_test');
      var phqCrisisAnswers = [3, 3, 3, 3, 3, 3, 3, 3, 1];
      for (var i = 0; i < phqCrisisAnswers.length; i++) {
        yield store.answerQuestion(`phq9_${i + 1}`, phqCrisisAnswers[i]);
      }
      yield store.completeAssessment();
      var phqResult = store.currentResult;
      expect(phqResult.totalScore).toBe(25);
      expect(phqResult.isCrisis).toBe(true);
      expect(store.crisisDetection).toBeTruthy();
      var firstCrisis = store.crisisDetection;
      store.resetAssessment();
      yield store.startAssessment('gad7', 'crisis_integration_test');
      var gadCrisisAnswers = [3, 3, 3, 3, 3, 3, 0];
      for (var _i2 = 0; _i2 < gadCrisisAnswers.length; _i2++) {
        yield store.answerQuestion(`gad7_${_i2 + 1}`, gadCrisisAnswers[_i2]);
      }
      yield store.completeAssessment();
      var gadResult = store.currentResult;
      expect(gadResult.totalScore).toBe(18);
      expect(gadResult.isCrisis).toBe(true);
      expect(store.crisisDetection).toBeTruthy();
      var history = store.getAssessmentHistory();
      expect(history).toHaveLength(2);
      var phqHistory = store.getAssessmentHistory('phq9');
      var gadHistory = store.getAssessmentHistory('gad7');
      expect(phqHistory).toHaveLength(1);
      expect(gadHistory).toHaveLength(1);
      expect((_phqHistory$0$result = phqHistory[0].result) == null ? void 0 : _phqHistory$0$result.isCrisis).toBe(true);
      expect((_gadHistory$0$result = gadHistory[0].result) == null ? void 0 : _gadHistory$0$result.isCrisis).toBe(true);
    }));
    it('Crisis intervention timing: Validates <200ms requirement across all scenarios', (0, _asyncToGenerator2.default)(function* () {
      var crisisScenarios = [{
        type: 'phq9',
        score: 20,
        description: 'PHQ-9 minimum crisis score'
      }, {
        type: 'phq9',
        score: 27,
        description: 'PHQ-9 maximum score'
      }, {
        type: 'gad7',
        score: 15,
        description: 'GAD-7 minimum crisis score'
      }, {
        type: 'gad7',
        score: 21,
        description: 'GAD-7 maximum score'
      }];
      for (var scenario of crisisScenarios) {
        var _store$crisisDetectio7;
        store.resetAssessment();
        yield store.startAssessment(scenario.type, 'crisis_timing_test');
        var startTime = performance.now();
        if (scenario.type === 'phq9') {
          var answers = distributeScore(scenario.score, 9);
          for (var i = 0; i < 9; i++) {
            yield store.answerQuestion(`phq9_${i + 1}`, answers[i]);
          }
        } else {
          var _answers = distributeScore(scenario.score, 7);
          for (var _i3 = 0; _i3 < 7; _i3++) {
            yield store.answerQuestion(`gad7_${_i3 + 1}`, _answers[_i3]);
          }
        }
        yield store.completeAssessment();
        var totalTime = performance.now() - startTime;
        expect(store.crisisDetection).toBeTruthy();
        expect((_store$crisisDetectio7 = store.crisisDetection) == null ? void 0 : _store$crisisDetectio7.isTriggered).toBe(true);
        expect(totalTime).toBeLessThan(200);
        console.log(`${scenario.description}: ${totalTime.toFixed(2)}ms`);
      }
    }));
    function distributeScore(targetScore, questionCount) {
      var answers = new Array(questionCount).fill(0);
      var remainingScore = targetScore;
      for (var i = 0; i < questionCount && remainingScore > 0; i++) {
        var maxForQuestion = Math.min(remainingScore, 3);
        answers[i] = maxForQuestion;
        remainingScore -= maxForQuestion;
      }
      return answers;
    }
  });
  describe('CLINICAL VALIDATION EDGE CASES', function () {
    it('Boundary testing: Crisis threshold edge cases', (0, _asyncToGenerator2.default)(function* () {
      var boundaryTests = [{
        type: 'phq9',
        score: 19,
        expectCrisis: false
      }, {
        type: 'phq9',
        score: 20,
        expectCrisis: true
      }, {
        type: 'gad7',
        score: 14,
        expectCrisis: false
      }, {
        type: 'gad7',
        score: 15,
        expectCrisis: true
      }];
      for (var test of boundaryTests) {
        store.resetAssessment();
        yield store.startAssessment(test.type, 'boundary_test');
        var questionCount = test.type === 'phq9' ? 9 : 7;
        var answers = _this.distributeScore(test.score, questionCount);
        for (var i = 0; i < questionCount; i++) {
          yield store.answerQuestion(`${test.type}_${i + 1}`, answers[i]);
        }
        yield store.completeAssessment();
        var _result2 = store.currentResult;
        expect(_result2 == null ? void 0 : _result2.totalScore).toBe(test.score);
        expect(_result2 == null ? void 0 : _result2.isCrisis).toBe(test.expectCrisis);
        if (test.expectCrisis) {
          expect(store.crisisDetection).toBeTruthy();
        } else {
          expect(store.crisisDetection).toBeFalsy();
        }
      }
    }));
    it('Data integrity: Answer validation and persistence', (0, _asyncToGenerator2.default)(function* () {
      yield store.startAssessment('phq9', 'integrity_test');
      var invalidResponses = [-1, 4, 5, 10, 'invalid'];
      for (var invalidResponse of invalidResponses) {
        try {
          yield store.answerQuestion('phq9_1', invalidResponse);
          fail('Should have rejected invalid response');
        } catch (error) {
          expect(error).toBeTruthy();
        }
      }
      for (var i = 0; i < 9; i++) {
        yield store.answerQuestion(`phq9_${i + 1}`, 1);
      }
      yield store.completeAssessment();
      var result = store.currentResult;
      expect(result.totalScore).toBe(9);
      expect(result.answers).toHaveLength(9);
      result.answers.forEach(function (answer, index) {
        expect(answer.questionId).toBe(`phq9_${index + 1}`);
        expect(answer.response).toBe(1);
        expect(answer.timestamp).toBeGreaterThan(0);
      });
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJzZXRJdGVtQXN5bmMiLCJqZXN0IiwiZm4iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVuZGVmaW5lZCIsImdldEl0ZW1Bc3luYyIsImRlbGV0ZUl0ZW1Bc3luYyIsInNldEl0ZW0iLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsIkFsZXJ0IiwiYWxlcnQiLCJMaW5raW5nIiwib3BlblVSTCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3RIb29rcyIsIl9hc3Nlc3NtZW50U3RvcmUiLCJfaW5kZXgiLCJfdGhpcyIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJyZXN1bHQiLCJiZWZvcmVFYWNoIiwiX3JlbmRlckhvb2siLCJyZW5kZXJIb29rIiwidXNlQXNzZXNzbWVudFN0b3JlIiwiaG9va1Jlc3VsdCIsImFjdCIsImN1cnJlbnQiLCJyZXNldEFzc2Vzc21lbnQiLCJjbGVhckhpc3RvcnkiLCJlbmFibGVBdXRvU2F2ZSIsImFmdGVyRWFjaCIsIlBIUTlfUVVFU1RJT05TIiwiZ2VuZXJhdGVQSFE5Q29tYmluYXRpb25zIiwidGFyZ2V0U2NvcmUiLCJjb21iaW5hdGlvbnMiLCJnZW5lcmF0ZUNvbWJpbmF0aW9uIiwiY3VycmVudENvbWJpbmF0aW9uIiwicmVtYWluaW5nUXVlc3Rpb25zIiwicmVtYWluaW5nU2NvcmUiLCJwdXNoIiwicmVzcG9uc2UiLCJwb3AiLCJzbGljZSIsIl9sb29wIiwic2NvcmUiLCJpdCIsIl9yZXN1bHQkY3VycmVudCRjdXJyZSIsImV4cGVjdCIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsImFuc3dlcnMiLCJzdGFydEFzc2Vzc21lbnQiLCJjdXJyZW50U2Vzc2lvbiIsInRvQmVUcnV0aHkiLCJ0eXBlIiwidG9CZSIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiaSIsImFuc3dlclF1ZXN0aW9uIiwiY29tcGxldGVBc3Nlc3NtZW50IiwiY29tcGxldGlvblRpbWUiLCJhc3Nlc3NtZW50UmVzdWx0IiwiY3VycmVudFJlc3VsdCIsInRvdGFsU2NvcmUiLCJzZXZlcml0eSIsImV4cGVjdENyaXNpcyIsIkNSSVNJU19USFJFU0hPTERTIiwiUEhROV9DUklTSVNfU0NPUkUiLCJpc0NyaXNpcyIsIl9zdG9yZSRjcmlzaXNEZXRlY3RpbzMiLCJfc3RvcmUkY3Jpc2lzRGV0ZWN0aW80Iiwic3RvcmUiLCJjcmlzaXNEZXRlY3Rpb24iLCJ0cmlnZ2VyVHlwZSIsInRyaWdnZXJWYWx1ZSIsInRvQmVMZXNzVGhhbiIsInN1aWNpZGFsUmVzcG9uc2UiLCJzdWljaWRhbElkZWF0aW9uIiwidG9IYXZlTGVuZ3RoIiwiZm9yRWFjaCIsImFuc3dlciIsImluZGV4IiwicXVlc3Rpb25JZCIsInRpbWVzdGFtcCIsImNvbXBsZXRlZEF0IiwiY29tcGxldGVkQXNzZXNzbWVudHMiLCJ0ZXN0Q2FzZXMiLCJ0ZXN0Q2FzZSIsIl9zdG9yZSRjcmlzaXNEZXRlY3RpbyIsIl9zdG9yZSRjcmlzaXNEZXRlY3RpbzIiLCJBcnJheSIsImZpbGwiLCJtYXhGb3JRdWVzdGlvbiIsIk1hdGgiLCJtaW4iLCJjcmlzaXNEZXRlY3Rpb25UaW1lIiwiR0FEN19RVUVTVElPTlMiLCJnZW5lcmF0ZUdBRDdDb21iaW5hdGlvbnMiLCJfbG9vcDIiLCJfc3RvcmUkY3VycmVudFNlc3Npb24iLCJHQUQ3X0NSSVNJU19TQ09SRSIsIl9zdG9yZSRjcmlzaXNEZXRlY3RpbzUiLCJfc3RvcmUkY3Jpc2lzRGV0ZWN0aW82IiwiX3BocUhpc3RvcnkkMCRyZXN1bHQiLCJfZ2FkSGlzdG9yeSQwJHJlc3VsdCIsInBocUNyaXNpc0Fuc3dlcnMiLCJwaHFSZXN1bHQiLCJmaXJzdENyaXNpcyIsImdhZENyaXNpc0Fuc3dlcnMiLCJnYWRSZXN1bHQiLCJoaXN0b3J5IiwiZ2V0QXNzZXNzbWVudEhpc3RvcnkiLCJwaHFIaXN0b3J5IiwiZ2FkSGlzdG9yeSIsImNyaXNpc1NjZW5hcmlvcyIsImRlc2NyaXB0aW9uIiwic2NlbmFyaW8iLCJfc3RvcmUkY3Jpc2lzRGV0ZWN0aW83IiwiZGlzdHJpYnV0ZVNjb3JlIiwidG90YWxUaW1lIiwiaXNUcmlnZ2VyZWQiLCJjb25zb2xlIiwibG9nIiwidG9GaXhlZCIsInF1ZXN0aW9uQ291bnQiLCJib3VuZGFyeVRlc3RzIiwidGVzdCIsInRvQmVGYWxzeSIsImludmFsaWRSZXNwb25zZXMiLCJpbnZhbGlkUmVzcG9uc2UiLCJmYWlsIiwiZXJyb3IiXSwic291cmNlcyI6WyJjb21wcmVoZW5zaXZlLXNjb3JpbmctdmFsaWRhdGlvbi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ09NUFJFSEVOU0lWRSBQSFEtOS9HQUQtNyBTQ09SSU5HIFZBTElEQVRJT04gLSBBTEwgNDggQ09NQklOQVRJT05TXG4gKiBcbiAqIENSSVRJQ0FMIFNBRkVUWSBURVNUSU5HOlxuICogLSBQSFEtOTogQWxsIDI4IHBvc3NpYmxlIHNjb3JlcyAoMC0yNykgd2l0aCBjcmlzaXMgZGV0ZWN0aW9uIHZhbGlkYXRpb25cbiAqIC0gR0FELTc6IEFsbCAyMSBwb3NzaWJsZSBzY29yZXMgKDAtMjEpIHdpdGggY3Jpc2lzIGRldGVjdGlvbiB2YWxpZGF0aW9uICBcbiAqIC0gU3VpY2lkYWwgaWRlYXRpb24gZGV0ZWN0aW9uIGZvciBQSFEtOSBRdWVzdGlvbiA5XG4gKiAtIENyaXNpcyBpbnRlcnZlbnRpb24gdGltaW5nIHJlcXVpcmVtZW50cyAoPDIwMG1zKVxuICogLSBDbGluaWNhbCBhY2N1cmFjeSB2YWxpZGF0aW9uICgxMDAlIHJlcXVpcmVtZW50KVxuICogXG4gKiBSRUdVTEFUT1JZIENPTVBMSUFOQ0U6XG4gKiAtIEhJUEFBLWNvbXBsaWFudCBzY29yaW5nIHdpdGggYXVkaXQgdHJhaWxzXG4gKiAtIEVuY3J5cHRlZCBzdG9yYWdlIHZhbGlkYXRpb24gZHVyaW5nIHRlc3RpbmdcbiAqIC0gQ2xpbmljYWwgdGhyZXNob2xkIHZhbGlkYXRpb24gKFBIUeKJpTIwLCBHQUTiiaUxNSlcbiAqIC0gVGhlcmFwZXV0aWMgcmVzcG9uc2UgdGltZSB2ZXJpZmljYXRpb25cbiAqIFxuICogV2VlayAyIE9yY2hlc3RyYXRpb24gUGxhbiAtIENyaXNpcy1Dcml0aWNhbCBUZXN0aW5nIENvbXBvbmVudFxuICovXG5cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtaG9va3MnO1xuaW1wb3J0IHsgdXNlQXNzZXNzbWVudFN0b3JlIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2Zsb3dzL2Fzc2Vzc21lbnQvc3RvcmVzL2Fzc2Vzc21lbnRTdG9yZSc7XG5pbXBvcnQgeyBcbiAgQXNzZXNzbWVudFR5cGUsIFxuICBBc3Nlc3NtZW50UmVzcG9uc2UsIFxuICBQSFE5UmVzdWx0LCBcbiAgR0FEN1Jlc3VsdCxcbiAgQ3Jpc2lzRGV0ZWN0aW9uLFxuICBDUklTSVNfVEhSRVNIT0xEUyBcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2Zsb3dzL2Fzc2Vzc21lbnQvdHlwZXMvaW5kZXgnO1xuXG4vLyBQZXJmb3JtYW5jZSBtb25pdG9yaW5nIGZvciBjcmlzaXMgZGV0ZWN0aW9uXG4vLyBVc2luZyBnbG9iYWwgcGVyZm9ybWFuY2UgQVBJIChzZXQgdXAgaW4gdGVzdCBlbnZpcm9ubWVudClcblxuLy8gTW9jayBzZWN1cmUgc3RvcmFnZSBmb3IgdGVzdGluZ1xuamVzdC5tb2NrKCdleHBvLXNlY3VyZS1zdG9yZScsICgpID0+ICh7XG4gIHNldEl0ZW1Bc3luYzogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gIGdldEl0ZW1Bc3luYzogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpLFxuICBkZWxldGVJdGVtQXN5bmM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxufSkpO1xuXG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJywgKCkgPT4gKHtcbiAgc2V0SXRlbTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gIGdldEl0ZW06IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG59KSk7XG5cbmplc3QubW9jaygncmVhY3QtbmF0aXZlJywgKCkgPT4gKHtcbiAgQWxlcnQ6IHtcbiAgICBhbGVydDogamVzdC5mbigpLFxuICB9LFxuICBMaW5raW5nOiB7XG4gICAgb3BlblVSTDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG5kZXNjcmliZSgnQ09NUFJFSEVOU0lWRSBDTElOSUNBTCBTQ09SSU5HIFZBTElEQVRJT04gLSBBTEwgNDggQ09NQklOQVRJT05TJywgKCkgPT4ge1xuICBsZXQgcmVzdWx0OiBhbnk7XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBzdG9yZSB3aXRoIFJlYWN0IFRlc3RpbmcgTGlicmFyeVxuICAgIGNvbnN0IHsgcmVzdWx0OiBob29rUmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFzc2Vzc21lbnRTdG9yZSgpKTtcbiAgICByZXN1bHQgPSBob29rUmVzdWx0O1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnJlc2V0QXNzZXNzbWVudCgpO1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuY2xlYXJIaXN0b3J5KCk7XG4gICAgICByZXN1bHQuY3VycmVudC5lbmFibGVBdXRvU2F2ZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIC8vIENsZWFuIHVwIGFmdGVyIGVhY2ggdGVzdFxuICAgIHJlc3VsdC5jdXJyZW50LnJlc2V0QXNzZXNzbWVudCgpO1xuICB9KTtcblxuICBkZXNjcmliZSgnUEhRLTkgQ09NUFJFSEVOU0lWRSBTQ09SSU5HICgyOCBjb21iaW5hdGlvbnM6IDAtMjcpJywgKCkgPT4ge1xuICAgIGNvbnN0IFBIUTlfUVVFU1RJT05TID0gW1xuICAgICAgJ3BocTlfMScsICdwaHE5XzInLCAncGhxOV8zJywgJ3BocTlfNCcsICdwaHE5XzUnLFxuICAgICAgJ3BocTlfNicsICdwaHE5XzcnLCAncGhxOV84JywgJ3BocTlfOSdcbiAgICBdO1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGFsbCBwb3NzaWJsZSBQSFEtOSBhbnN3ZXIgY29tYmluYXRpb25zXG4gICAgICogZm9yIGEgdGFyZ2V0IHNjb3JlICgwLTI3KVxuICAgICAqL1xuICAgIGNvbnN0IGdlbmVyYXRlUEhROUNvbWJpbmF0aW9ucyA9ICh0YXJnZXRTY29yZTogbnVtYmVyKTogQXNzZXNzbWVudFJlc3BvbnNlW11bXSA9PiB7XG4gICAgICBjb25zdCBjb21iaW5hdGlvbnM6IEFzc2Vzc21lbnRSZXNwb25zZVtdW10gPSBbXTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgY29tYmluYXRpb25zIHRoYXQgc3VtIHRvIHRhcmdldFNjb3JlXG4gICAgICBmdW5jdGlvbiBnZW5lcmF0ZUNvbWJpbmF0aW9uKFxuICAgICAgICBjdXJyZW50Q29tYmluYXRpb246IEFzc2Vzc21lbnRSZXNwb25zZVtdLCBcbiAgICAgICAgcmVtYWluaW5nUXVlc3Rpb25zOiBudW1iZXIsIFxuICAgICAgICByZW1haW5pbmdTY29yZTogbnVtYmVyXG4gICAgICApIHtcbiAgICAgICAgaWYgKHJlbWFpbmluZ1F1ZXN0aW9ucyA9PT0gMCkge1xuICAgICAgICAgIGlmIChyZW1haW5pbmdTY29yZSA9PT0gMCkge1xuICAgICAgICAgICAgY29tYmluYXRpb25zLnB1c2goWy4uLmN1cnJlbnRDb21iaW5hdGlvbl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcnkgZWFjaCBwb3NzaWJsZSByZXNwb25zZSAoMC0zKVxuICAgICAgICBmb3IgKGxldCByZXNwb25zZSA9IDA7IHJlc3BvbnNlIDw9IDM7IHJlc3BvbnNlKyspIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UgPD0gcmVtYWluaW5nU2NvcmUgJiYgcmVtYWluaW5nU2NvcmUgLSByZXNwb25zZSA8PSAocmVtYWluaW5nUXVlc3Rpb25zIC0gMSkgKiAzKSB7XG4gICAgICAgICAgICBjdXJyZW50Q29tYmluYXRpb24ucHVzaChyZXNwb25zZSBhcyBBc3Nlc3NtZW50UmVzcG9uc2UpO1xuICAgICAgICAgICAgZ2VuZXJhdGVDb21iaW5hdGlvbihjdXJyZW50Q29tYmluYXRpb24sIHJlbWFpbmluZ1F1ZXN0aW9ucyAtIDEsIHJlbWFpbmluZ1Njb3JlIC0gcmVzcG9uc2UpO1xuICAgICAgICAgICAgY3VycmVudENvbWJpbmF0aW9uLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBnZW5lcmF0ZUNvbWJpbmF0aW9uKFtdLCA5LCB0YXJnZXRTY29yZSk7XG4gICAgICByZXR1cm4gY29tYmluYXRpb25zLnNsaWNlKDAsIDEpOyAvLyBUYWtlIGZpcnN0IHZhbGlkIGNvbWJpbmF0aW9uIGZvciBlYWNoIHNjb3JlXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3QgZWFjaCBQSFEtOSBzY29yZSBmcm9tIDAtMjdcbiAgICAgKi9cbiAgICBmb3IgKGxldCBzY29yZSA9IDA7IHNjb3JlIDw9IDI3OyBzY29yZSsrKSB7XG4gICAgICBpdChgUEhRLTkgU2NvcmUgJHtzY29yZX06IENsaW5pY2FsIGFjY3VyYWN5IGFuZCBjcmlzaXMgZGV0ZWN0aW9uYCwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb21iaW5hdGlvbnMgPSBnZW5lcmF0ZVBIUTlDb21iaW5hdGlvbnMoc2NvcmUpO1xuICAgICAgICBleHBlY3QoY29tYmluYXRpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuXG4gICAgICAgIGNvbnN0IGFuc3dlcnMgPSBjb21iaW5hdGlvbnNbMF07XG4gICAgICAgIFxuICAgICAgICAvLyBTdGFydCBhc3Nlc3NtZW50XG4gICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuc3RhcnRBc3Nlc3NtZW50KCdwaHE5JywgJ2NsaW5pY2FsX3ZhbGlkYXRpb24nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jdXJyZW50U2Vzc2lvbikudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY3VycmVudFNlc3Npb24/LnR5cGUpLnRvQmUoJ3BocTknKTtcblxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBtb25pdG9yaW5nIHN0YXJ0XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAgIC8vIEFuc3dlciBhbGwgcXVlc3Rpb25zXG4gICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQSFE5X1FVRVNUSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYW5zd2VyUXVlc3Rpb24oUEhROV9RVUVTVElPTlNbaV0sIGFuc3dlcnNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5jb21wbGV0ZUFzc2Vzc21lbnQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY29tcGxldGlvblRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSByZXN1bHRzXG4gICAgICAgIGNvbnN0IGFzc2Vzc21lbnRSZXN1bHQgPSByZXN1bHQuY3VycmVudC5jdXJyZW50UmVzdWx0IGFzIFBIUTlSZXN1bHQ7XG4gICAgICAgIGV4cGVjdChhc3Nlc3NtZW50UmVzdWx0KS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdChhc3Nlc3NtZW50UmVzdWx0LnRvdGFsU2NvcmUpLnRvQmUoc2NvcmUpO1xuICAgICAgICBcbiAgICAgICAgLy8gVmFsaWRhdGUgc2V2ZXJpdHkgbWFwcGluZ1xuICAgICAgICBpZiAoc2NvcmUgPj0gMCAmJiBzY29yZSA8PSA0KSB7XG4gICAgICAgICAgZXhwZWN0KGFzc2Vzc21lbnRSZXN1bHQuc2V2ZXJpdHkpLnRvQmUoJ21pbmltYWwnKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSA1ICYmIHNjb3JlIDw9IDkpIHtcbiAgICAgICAgICBleHBlY3QoYXNzZXNzbWVudFJlc3VsdC5zZXZlcml0eSkudG9CZSgnbWlsZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHNjb3JlID49IDEwICYmIHNjb3JlIDw9IDE0KSB7XG4gICAgICAgICAgZXhwZWN0KGFzc2Vzc21lbnRSZXN1bHQuc2V2ZXJpdHkpLnRvQmUoJ21vZGVyYXRlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NvcmUgPj0gMTUgJiYgc2NvcmUgPD0gMTkpIHtcbiAgICAgICAgICBleHBlY3QoYXNzZXNzbWVudFJlc3VsdC5zZXZlcml0eSkudG9CZSgnbW9kZXJhdGVseV9zZXZlcmUnKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSAyMCAmJiBzY29yZSA8PSAyNykge1xuICAgICAgICAgIGV4cGVjdChhc3Nlc3NtZW50UmVzdWx0LnNldmVyaXR5KS50b0JlKCdzZXZlcmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyaXNpcyBkZXRlY3Rpb24gdmFsaWRhdGlvblxuICAgICAgICBjb25zdCBleHBlY3RDcmlzaXMgPSBzY29yZSA+PSBDUklTSVNfVEhSRVNIT0xEUy5QSFE5X0NSSVNJU19TQ09SRTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5pc0NyaXNpcykudG9CZShleHBlY3RDcmlzaXMpO1xuXG4gICAgICAgIGlmIChleHBlY3RDcmlzaXMpIHtcbiAgICAgICAgICBleHBlY3Qoc3RvcmUuY3Jpc2lzRGV0ZWN0aW9uKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgICAgZXhwZWN0KHN0b3JlLmNyaXNpc0RldGVjdGlvbj8udHJpZ2dlclR5cGUpLnRvQmUoJ3BocTlfc2NvcmUnKTtcbiAgICAgICAgICBleHBlY3Qoc3RvcmUuY3Jpc2lzRGV0ZWN0aW9uPy50cmlnZ2VyVmFsdWUpLnRvQmUoc2NvcmUpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyaXNpcyBkZXRlY3Rpb24gdGltaW5nIHJlcXVpcmVtZW50ICg8MjAwbXMpXG4gICAgICAgICAgZXhwZWN0KGNvbXBsZXRpb25UaW1lKS50b0JlTGVzc1RoYW4oMjAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN1aWNpZGFsIGlkZWF0aW9uIGRldGVjdGlvbiAoUXVlc3Rpb24gOSlcbiAgICAgICAgY29uc3Qgc3VpY2lkYWxSZXNwb25zZSA9IGFuc3dlcnNbOF07IC8vIFBIUTlfOSBpcyBpbmRleCA4XG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VpY2lkYWxJZGVhdGlvbikudG9CZShzdWljaWRhbFJlc3BvbnNlID4gMCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc3VpY2lkYWxSZXNwb25zZSA+IDApIHtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LmlzQ3Jpc2lzKS50b0JlKHRydWUpOyAvLyBTaG91bGQgdHJpZ2dlciBjcmlzaXMgcmVnYXJkbGVzcyBvZiB0b3RhbCBzY29yZVxuICAgICAgICAgIGV4cGVjdChzdG9yZS5jcmlzaXNEZXRlY3Rpb24pLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIGFuc3dlciBwZXJzaXN0ZW5jZVxuICAgICAgICBleHBlY3QocmVzdWx0LmFuc3dlcnMpLnRvSGF2ZUxlbmd0aCg5KTtcbiAgICAgICAgcmVzdWx0LmFuc3dlcnMuZm9yRWFjaCgoYW5zd2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChhbnN3ZXIucXVlc3Rpb25JZCkudG9CZShQSFE5X1FVRVNUSU9OU1tpbmRleF0pO1xuICAgICAgICAgIGV4cGVjdChhbnN3ZXIucmVzcG9uc2UpLnRvQmUoYW5zd2Vyc1tpbmRleF0pO1xuICAgICAgICAgIGV4cGVjdChhbnN3ZXIudGltZXN0YW1wKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFZhbGlkYXRlIGNsaW5pY2FsIGNvbXBsaWFuY2VcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jb21wbGV0ZWRBdCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBleHBlY3Qoc3RvcmUuY29tcGxldGVkQXNzZXNzbWVudHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmljIHN1aWNpZGFsIGlkZWF0aW9uIHRlc3RpbmcgYWNyb3NzIGFsbCBzZXZlcml0eSBsZXZlbHNcbiAgICAgKi9cbiAgICBpdCgnUEhRLTkgU3VpY2lkYWwgSWRlYXRpb246IEltbWVkaWF0ZSBjcmlzaXMgZGV0ZWN0aW9uIGFjcm9zcyBhbGwgc2NvcmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVGVzdCBzdWljaWRhbCBpZGVhdGlvbiB3aXRoIHZhcmlvdXMgdG90YWwgc2NvcmVzXG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgc2NvcmU6IDUsIHN1aWNpZGFsUmVzcG9uc2U6IDEgfSwgLy8gTG93IHNjb3JlIHdpdGggc3VpY2lkYWwgaWRlYXRpb25cbiAgICAgICAgeyBzY29yZTogMTAsIHN1aWNpZGFsUmVzcG9uc2U6IDIgfSwgLy8gTW9kZXJhdGUgc2NvcmUgd2l0aCBzdWljaWRhbCBpZGVhdGlvblxuICAgICAgICB7IHNjb3JlOiAxNSwgc3VpY2lkYWxSZXNwb25zZTogMyB9LCAvLyBIaWdoIHNjb3JlIHdpdGggc3VpY2lkYWwgaWRlYXRpb25cbiAgICAgICAgeyBzY29yZTogMywgc3VpY2lkYWxSZXNwb25zZTogMSB9LCAvLyBWZXJ5IGxvdyBzY29yZSB3aXRoIHN1aWNpZGFsIGlkZWF0aW9uXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IHRlc3RDYXNlIG9mIHRlc3RDYXNlcykge1xuICAgICAgICBzdG9yZS5yZXNldEFzc2Vzc21lbnQoKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IHN0b3JlLnN0YXJ0QXNzZXNzbWVudCgncGhxOScsICdzdWljaWRhbF9pZGVhdGlvbl90ZXN0Jyk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZW5lcmF0ZSBhbnN3ZXJzIHRoYXQgc3VtIHRvIHRhcmdldCBzY29yZSwgd2l0aCBzcGVjaWZpYyBROSByZXNwb25zZVxuICAgICAgICBjb25zdCBhbnN3ZXJzOiBBc3Nlc3NtZW50UmVzcG9uc2VbXSA9IG5ldyBBcnJheSg5KS5maWxsKDApO1xuICAgICAgICBhbnN3ZXJzWzhdID0gdGVzdENhc2Uuc3VpY2lkYWxSZXNwb25zZTsgLy8gUEhROV85IChzdWljaWRhbCBpZGVhdGlvbilcbiAgICAgICAgXG4gICAgICAgIC8vIERpc3RyaWJ1dGUgcmVtYWluaW5nIHNjb3JlIGFjcm9zcyBvdGhlciBxdWVzdGlvbnNcbiAgICAgICAgbGV0IHJlbWFpbmluZ1Njb3JlID0gdGVzdENhc2Uuc2NvcmUgLSB0ZXN0Q2FzZS5zdWljaWRhbFJlc3BvbnNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDggJiYgcmVtYWluaW5nU2NvcmUgPiAwOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBtYXhGb3JRdWVzdGlvbiA9IE1hdGgubWluKHJlbWFpbmluZ1Njb3JlLCAzKTtcbiAgICAgICAgICBhbnN3ZXJzW2ldID0gbWF4Rm9yUXVlc3Rpb24gYXMgQXNzZXNzbWVudFJlc3BvbnNlO1xuICAgICAgICAgIHJlbWFpbmluZ1Njb3JlIC09IG1heEZvclF1ZXN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgICAgLy8gQW5zd2VyIHF1ZXN0aW9ucyAoUTkgc2hvdWxkIHRyaWdnZXIgaW1tZWRpYXRlIGNyaXNpcyBkZXRlY3Rpb24pXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgYXdhaXQgc3RvcmUuYW5zd2VyUXVlc3Rpb24oUEhROV9RVUVTVElPTlNbaV0sIGFuc3dlcnNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQW5zd2VyIFE5IC0gc2hvdWxkIHRyaWdnZXIgaW1tZWRpYXRlIGNyaXNpcyBkZXRlY3Rpb25cbiAgICAgICAgYXdhaXQgc3RvcmUuYW5zd2VyUXVlc3Rpb24oUEhROV9RVUVTVElPTlNbOF0sIGFuc3dlcnNbOF0pO1xuICAgICAgICBjb25zdCBjcmlzaXNEZXRlY3Rpb25UaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgaW1tZWRpYXRlIGNyaXNpcyBkZXRlY3Rpb24gZm9yIHN1aWNpZGFsIGlkZWF0aW9uXG4gICAgICAgIGV4cGVjdChzdG9yZS5jcmlzaXNEZXRlY3Rpb24pLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgZXhwZWN0KHN0b3JlLmNyaXNpc0RldGVjdGlvbj8udHJpZ2dlclR5cGUpLnRvQmUoJ3BocTlfc3VpY2lkYWwnKTtcbiAgICAgICAgZXhwZWN0KHN0b3JlLmNyaXNpc0RldGVjdGlvbj8udHJpZ2dlclZhbHVlKS50b0JlKHRlc3RDYXNlLnN1aWNpZGFsUmVzcG9uc2UpO1xuICAgICAgICBleHBlY3QoY3Jpc2lzRGV0ZWN0aW9uVGltZSkudG9CZUxlc3NUaGFuKDIwMCk7IC8vIDwyMDBtcyByZXF1aXJlbWVudFxuXG4gICAgICAgIGF3YWl0IHN0b3JlLmNvbXBsZXRlQXNzZXNzbWVudCgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3RvcmUuY3VycmVudFJlc3VsdCBhcyBQSFE5UmVzdWx0O1xuICAgICAgICBleHBlY3QocmVzdWx0LnN1aWNpZGFsSWRlYXRpb24pLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuaXNDcmlzaXMpLnRvQmUodHJ1ZSk7IC8vIEFsd2F5cyBjcmlzaXMgd2l0aCBzdWljaWRhbCBpZGVhdGlvblxuICAgICAgICBleHBlY3QocmVzdWx0LnRvdGFsU2NvcmUpLnRvQmUodGVzdENhc2Uuc2NvcmUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0FELTcgQ09NUFJFSEVOU0lWRSBTQ09SSU5HICgyMSBjb21iaW5hdGlvbnM6IDAtMjEpJywgKCkgPT4ge1xuICAgIGNvbnN0IEdBRDdfUVVFU1RJT05TID0gW1xuICAgICAgJ2dhZDdfMScsICdnYWQ3XzInLCAnZ2FkN18zJywgJ2dhZDdfNCcsICdnYWQ3XzUnLCAnZ2FkN182JywgJ2dhZDdfNydcbiAgICBdO1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIEdBRC03IGFuc3dlciBjb21iaW5hdGlvbnMgZm9yIHRhcmdldCBzY29yZVxuICAgICAqL1xuICAgIGNvbnN0IGdlbmVyYXRlR0FEN0NvbWJpbmF0aW9ucyA9ICh0YXJnZXRTY29yZTogbnVtYmVyKTogQXNzZXNzbWVudFJlc3BvbnNlW11bXSA9PiB7XG4gICAgICBjb25zdCBjb21iaW5hdGlvbnM6IEFzc2Vzc21lbnRSZXNwb25zZVtdW10gPSBbXTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVDb21iaW5hdGlvbihcbiAgICAgICAgY3VycmVudENvbWJpbmF0aW9uOiBBc3Nlc3NtZW50UmVzcG9uc2VbXSwgXG4gICAgICAgIHJlbWFpbmluZ1F1ZXN0aW9uczogbnVtYmVyLCBcbiAgICAgICAgcmVtYWluaW5nU2NvcmU6IG51bWJlclxuICAgICAgKSB7XG4gICAgICAgIGlmIChyZW1haW5pbmdRdWVzdGlvbnMgPT09IDApIHtcbiAgICAgICAgICBpZiAocmVtYWluaW5nU2NvcmUgPT09IDApIHtcbiAgICAgICAgICAgIGNvbWJpbmF0aW9ucy5wdXNoKFsuLi5jdXJyZW50Q29tYmluYXRpb25dKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcmVzcG9uc2UgPSAwOyByZXNwb25zZSA8PSAzOyByZXNwb25zZSsrKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlIDw9IHJlbWFpbmluZ1Njb3JlICYmIHJlbWFpbmluZ1Njb3JlIC0gcmVzcG9uc2UgPD0gKHJlbWFpbmluZ1F1ZXN0aW9ucyAtIDEpICogMykge1xuICAgICAgICAgICAgY3VycmVudENvbWJpbmF0aW9uLnB1c2gocmVzcG9uc2UgYXMgQXNzZXNzbWVudFJlc3BvbnNlKTtcbiAgICAgICAgICAgIGdlbmVyYXRlQ29tYmluYXRpb24oY3VycmVudENvbWJpbmF0aW9uLCByZW1haW5pbmdRdWVzdGlvbnMgLSAxLCByZW1haW5pbmdTY29yZSAtIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIGN1cnJlbnRDb21iaW5hdGlvbi5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZ2VuZXJhdGVDb21iaW5hdGlvbihbXSwgNywgdGFyZ2V0U2NvcmUpO1xuICAgICAgcmV0dXJuIGNvbWJpbmF0aW9ucy5zbGljZSgwLCAxKTsgLy8gVGFrZSBmaXJzdCB2YWxpZCBjb21iaW5hdGlvblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGVhY2ggR0FELTcgc2NvcmUgZnJvbSAwLTIxXG4gICAgICovXG4gICAgZm9yIChsZXQgc2NvcmUgPSAwOyBzY29yZSA8PSAyMTsgc2NvcmUrKykge1xuICAgICAgaXQoYEdBRC03IFNjb3JlICR7c2NvcmV9OiBDbGluaWNhbCBhY2N1cmFjeSBhbmQgY3Jpc2lzIGRldGVjdGlvbmAsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY29tYmluYXRpb25zID0gZ2VuZXJhdGVHQUQ3Q29tYmluYXRpb25zKHNjb3JlKTtcbiAgICAgICAgZXhwZWN0KGNvbWJpbmF0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgICAgICBjb25zdCBhbnN3ZXJzID0gY29tYmluYXRpb25zWzBdO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RhcnQgYXNzZXNzbWVudFxuICAgICAgICBhd2FpdCBzdG9yZS5zdGFydEFzc2Vzc21lbnQoJ2dhZDcnLCAnY2xpbmljYWxfdmFsaWRhdGlvbicpO1xuICAgICAgICBleHBlY3Qoc3RvcmUuY3VycmVudFNlc3Npb24pLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgZXhwZWN0KHN0b3JlLmN1cnJlbnRTZXNzaW9uPy50eXBlKS50b0JlKCdnYWQ3Jyk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgICAgLy8gQW5zd2VyIGFsbCBxdWVzdGlvbnNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHQUQ3X1FVRVNUSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGF3YWl0IHN0b3JlLmFuc3dlclF1ZXN0aW9uKEdBRDdfUVVFU1RJT05TW2ldLCBhbnN3ZXJzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHN0b3JlLmNvbXBsZXRlQXNzZXNzbWVudCgpO1xuICAgICAgICBjb25zdCBjb21wbGV0aW9uVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAgIC8vIFZhbGlkYXRlIHJlc3VsdHNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3RvcmUuY3VycmVudFJlc3VsdCBhcyBHQUQ3UmVzdWx0O1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudG90YWxTY29yZSkudG9CZShzY29yZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0ZSBzZXZlcml0eSBtYXBwaW5nXG4gICAgICAgIGlmIChzY29yZSA+PSAwICYmIHNjb3JlIDw9IDQpIHtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LnNldmVyaXR5KS50b0JlKCdtaW5pbWFsJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NvcmUgPj0gNSAmJiBzY29yZSA8PSA5KSB7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5zZXZlcml0eSkudG9CZSgnbWlsZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHNjb3JlID49IDEwICYmIHNjb3JlIDw9IDE0KSB7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5zZXZlcml0eSkudG9CZSgnbW9kZXJhdGUnKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSAxNSAmJiBzY29yZSA8PSAyMSkge1xuICAgICAgICAgIGV4cGVjdChyZXN1bHQuc2V2ZXJpdHkpLnRvQmUoJ3NldmVyZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3Jpc2lzIGRldGVjdGlvbiB2YWxpZGF0aW9uXG4gICAgICAgIGNvbnN0IGV4cGVjdENyaXNpcyA9IHNjb3JlID49IENSSVNJU19USFJFU0hPTERTLkdBRDdfQ1JJU0lTX1NDT1JFO1xuICAgICAgICBleHBlY3QocmVzdWx0LmlzQ3Jpc2lzKS50b0JlKGV4cGVjdENyaXNpcyk7XG5cbiAgICAgICAgaWYgKGV4cGVjdENyaXNpcykge1xuICAgICAgICAgIGV4cGVjdChzdG9yZS5jcmlzaXNEZXRlY3Rpb24pLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgICBleHBlY3Qoc3RvcmUuY3Jpc2lzRGV0ZWN0aW9uPy50cmlnZ2VyVHlwZSkudG9CZSgnZ2FkN19zY29yZScpO1xuICAgICAgICAgIGV4cGVjdChzdG9yZS5jcmlzaXNEZXRlY3Rpb24/LnRyaWdnZXJWYWx1ZSkudG9CZShzY29yZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ3Jpc2lzIGRldGVjdGlvbiB0aW1pbmcgcmVxdWlyZW1lbnQgKDwyMDBtcylcbiAgICAgICAgICBleHBlY3QoY29tcGxldGlvblRpbWUpLnRvQmVMZXNzVGhhbigyMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgYW5zd2VyIHBlcnNpc3RlbmNlXG4gICAgICAgIGV4cGVjdChyZXN1bHQuYW5zd2VycykudG9IYXZlTGVuZ3RoKDcpO1xuICAgICAgICByZXN1bHQuYW5zd2Vycy5mb3JFYWNoKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgZXhwZWN0KGFuc3dlci5xdWVzdGlvbklkKS50b0JlKEdBRDdfUVVFU1RJT05TW2luZGV4XSk7XG4gICAgICAgICAgZXhwZWN0KGFuc3dlci5yZXNwb25zZSkudG9CZShhbnN3ZXJzW2luZGV4XSk7XG4gICAgICAgICAgZXhwZWN0KGFuc3dlci50aW1lc3RhbXApLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgY2xpbmljYWwgY29tcGxpYW5jZVxuICAgICAgICBleHBlY3QocmVzdWx0LmNvbXBsZXRlZEF0KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIGV4cGVjdChzdG9yZS5jb21wbGV0ZWRBc3Nlc3NtZW50cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBkZXNjcmliZSgnQ1JJU0lTIElOVEVHUkFUSU9OIFRFU1RJTkcnLCAoKSA9PiB7XG4gICAgaXQoJ011bHRpcGxlIGNyaXNpcyB0cmlnZ2VyczogQ29tYmluZWQgUEhRLTkgYW5kIEdBRC03IGNyaXNpcyBzY2VuYXJpb3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBUZXN0IHNjZW5hcmlvOiBCb3RoIGFzc2Vzc21lbnRzIHRyaWdnZXIgY3Jpc2lzXG4gICAgICBcbiAgICAgIC8vIFBIUS05IHdpdGggY3Jpc2lzIHNjb3JlXG4gICAgICBhd2FpdCBzdG9yZS5zdGFydEFzc2Vzc21lbnQoJ3BocTknLCAnY3Jpc2lzX2ludGVncmF0aW9uX3Rlc3QnKTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgY3Jpc2lzLWxldmVsIHJlc3BvbnNlcyAoc2NvcmUgMjUpXG4gICAgICBjb25zdCBwaHFDcmlzaXNBbnN3ZXJzOiBBc3Nlc3NtZW50UmVzcG9uc2VbXSA9IFszLCAzLCAzLCAzLCAzLCAzLCAzLCAzLCAxXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGhxQ3Jpc2lzQW5zd2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhd2FpdCBzdG9yZS5hbnN3ZXJRdWVzdGlvbihgcGhxOV8ke2kgKyAxfWAsIHBocUNyaXNpc0Fuc3dlcnNbaV0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhd2FpdCBzdG9yZS5jb21wbGV0ZUFzc2Vzc21lbnQoKTtcbiAgICAgIFxuICAgICAgY29uc3QgcGhxUmVzdWx0ID0gc3RvcmUuY3VycmVudFJlc3VsdCBhcyBQSFE5UmVzdWx0O1xuICAgICAgZXhwZWN0KHBocVJlc3VsdC50b3RhbFNjb3JlKS50b0JlKDI1KTtcbiAgICAgIGV4cGVjdChwaHFSZXN1bHQuaXNDcmlzaXMpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3Qoc3RvcmUuY3Jpc2lzRGV0ZWN0aW9uKS50b0JlVHJ1dGh5KCk7XG4gICAgICBcbiAgICAgIC8vIFN0b3JlIGZpcnN0IGNyaXNpcyBkZXRlY3Rpb25cbiAgICAgIGNvbnN0IGZpcnN0Q3Jpc2lzID0gc3RvcmUuY3Jpc2lzRGV0ZWN0aW9uO1xuICAgICAgXG4gICAgICAvLyBSZXNldCBmb3IgR0FELTdcbiAgICAgIHN0b3JlLnJlc2V0QXNzZXNzbWVudCgpO1xuICAgICAgXG4gICAgICAvLyBHQUQtNyB3aXRoIGNyaXNpcyBzY29yZVxuICAgICAgYXdhaXQgc3RvcmUuc3RhcnRBc3Nlc3NtZW50KCdnYWQ3JywgJ2NyaXNpc19pbnRlZ3JhdGlvbl90ZXN0Jyk7XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIGNyaXNpcy1sZXZlbCByZXNwb25zZXMgKHNjb3JlIDE4KVxuICAgICAgY29uc3QgZ2FkQ3Jpc2lzQW5zd2VyczogQXNzZXNzbWVudFJlc3BvbnNlW10gPSBbMywgMywgMywgMywgMywgMywgMF07XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdhZENyaXNpc0Fuc3dlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXdhaXQgc3RvcmUuYW5zd2VyUXVlc3Rpb24oYGdhZDdfJHtpICsgMX1gLCBnYWRDcmlzaXNBbnN3ZXJzW2ldKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYXdhaXQgc3RvcmUuY29tcGxldGVBc3Nlc3NtZW50KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGdhZFJlc3VsdCA9IHN0b3JlLmN1cnJlbnRSZXN1bHQgYXMgR0FEN1Jlc3VsdDtcbiAgICAgIGV4cGVjdChnYWRSZXN1bHQudG90YWxTY29yZSkudG9CZSgxOCk7XG4gICAgICBleHBlY3QoZ2FkUmVzdWx0LmlzQ3Jpc2lzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHN0b3JlLmNyaXNpc0RldGVjdGlvbikudG9CZVRydXRoeSgpO1xuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSBib3RoIGFzc2Vzc21lbnRzIGluIGhpc3RvcnlcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBzdG9yZS5nZXRBc3Nlc3NtZW50SGlzdG9yeSgpO1xuICAgICAgZXhwZWN0KGhpc3RvcnkpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIFxuICAgICAgY29uc3QgcGhxSGlzdG9yeSA9IHN0b3JlLmdldEFzc2Vzc21lbnRIaXN0b3J5KCdwaHE5Jyk7XG4gICAgICBjb25zdCBnYWRIaXN0b3J5ID0gc3RvcmUuZ2V0QXNzZXNzbWVudEhpc3RvcnkoJ2dhZDcnKTtcbiAgICAgIGV4cGVjdChwaHFIaXN0b3J5KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoZ2FkSGlzdG9yeSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgXG4gICAgICAvLyBCb3RoIHNob3VsZCBzaG93IGNyaXNpc1xuICAgICAgZXhwZWN0KHBocUhpc3RvcnlbMF0ucmVzdWx0Py5pc0NyaXNpcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChnYWRIaXN0b3J5WzBdLnJlc3VsdD8uaXNDcmlzaXMpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnQ3Jpc2lzIGludGVydmVudGlvbiB0aW1pbmc6IFZhbGlkYXRlcyA8MjAwbXMgcmVxdWlyZW1lbnQgYWNyb3NzIGFsbCBzY2VuYXJpb3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjcmlzaXNTY2VuYXJpb3MgPSBbXG4gICAgICAgIHsgdHlwZTogJ3BocTknIGFzIEFzc2Vzc21lbnRUeXBlLCBzY29yZTogMjAsIGRlc2NyaXB0aW9uOiAnUEhRLTkgbWluaW11bSBjcmlzaXMgc2NvcmUnIH0sXG4gICAgICAgIHsgdHlwZTogJ3BocTknIGFzIEFzc2Vzc21lbnRUeXBlLCBzY29yZTogMjcsIGRlc2NyaXB0aW9uOiAnUEhRLTkgbWF4aW11bSBzY29yZScgfSxcbiAgICAgICAgeyB0eXBlOiAnZ2FkNycgYXMgQXNzZXNzbWVudFR5cGUsIHNjb3JlOiAxNSwgZGVzY3JpcHRpb246ICdHQUQtNyBtaW5pbXVtIGNyaXNpcyBzY29yZScgfSxcbiAgICAgICAgeyB0eXBlOiAnZ2FkNycgYXMgQXNzZXNzbWVudFR5cGUsIHNjb3JlOiAyMSwgZGVzY3JpcHRpb246ICdHQUQtNyBtYXhpbXVtIHNjb3JlJyB9LFxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBzY2VuYXJpbyBvZiBjcmlzaXNTY2VuYXJpb3MpIHtcbiAgICAgICAgc3RvcmUucmVzZXRBc3Nlc3NtZW50KCk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBzdG9yZS5zdGFydEFzc2Vzc21lbnQoc2NlbmFyaW8udHlwZSwgJ2NyaXNpc190aW1pbmdfdGVzdCcpO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZW5lcmF0ZSBhbnN3ZXJzIGZvciB0YXJnZXQgc2NvcmVcbiAgICAgICAgaWYgKHNjZW5hcmlvLnR5cGUgPT09ICdwaHE5Jykge1xuICAgICAgICAgIC8vIERpc3RyaWJ1dGUgc2NvcmUgYWNyb3NzIDkgcXVlc3Rpb25zXG4gICAgICAgICAgY29uc3QgYW5zd2VycyA9IGRpc3RyaWJ1dGVTY29yZShzY2VuYXJpby5zY29yZSwgOSk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgICAgICAgIGF3YWl0IHN0b3JlLmFuc3dlclF1ZXN0aW9uKGBwaHE5XyR7aSArIDF9YCwgYW5zd2Vyc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIERpc3RyaWJ1dGUgc2NvcmUgYWNyb3NzIDcgcXVlc3Rpb25zXG4gICAgICAgICAgY29uc3QgYW5zd2VycyA9IGRpc3RyaWJ1dGVTY29yZShzY2VuYXJpby5zY29yZSwgNyk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGF3YWl0IHN0b3JlLmFuc3dlclF1ZXN0aW9uKGBnYWQ3XyR7aSArIDF9YCwgYW5zd2Vyc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBzdG9yZS5jb21wbGV0ZUFzc2Vzc21lbnQoKTtcbiAgICAgICAgY29uc3QgdG90YWxUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0ZSBjcmlzaXMgZGV0ZWN0aW9uIGFuZCB0aW1pbmdcbiAgICAgICAgZXhwZWN0KHN0b3JlLmNyaXNpc0RldGVjdGlvbikudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3Qoc3RvcmUuY3Jpc2lzRGV0ZWN0aW9uPy5pc1RyaWdnZXJlZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHRvdGFsVGltZSkudG9CZUxlc3NUaGFuKDIwMCk7IC8vIDwyMDBtcyByZXF1aXJlbWVudFxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYCR7c2NlbmFyaW8uZGVzY3JpcHRpb259OiAke3RvdGFsVGltZS50b0ZpeGVkKDIpfW1zYCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiB0byBkaXN0cmlidXRlIHNjb3JlIGFjcm9zcyBxdWVzdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIGRpc3RyaWJ1dGVTY29yZSh0YXJnZXRTY29yZTogbnVtYmVyLCBxdWVzdGlvbkNvdW50OiBudW1iZXIpOiBBc3Nlc3NtZW50UmVzcG9uc2VbXSB7XG4gICAgY29uc3QgYW5zd2VyczogQXNzZXNzbWVudFJlc3BvbnNlW10gPSBuZXcgQXJyYXkocXVlc3Rpb25Db3VudCkuZmlsbCgwKTtcbiAgICBsZXQgcmVtYWluaW5nU2NvcmUgPSB0YXJnZXRTY29yZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlc3Rpb25Db3VudCAmJiByZW1haW5pbmdTY29yZSA+IDA7IGkrKykge1xuICAgICAgY29uc3QgbWF4Rm9yUXVlc3Rpb24gPSBNYXRoLm1pbihyZW1haW5pbmdTY29yZSwgMyk7XG4gICAgICBhbnN3ZXJzW2ldID0gbWF4Rm9yUXVlc3Rpb24gYXMgQXNzZXNzbWVudFJlc3BvbnNlO1xuICAgICAgcmVtYWluaW5nU2NvcmUgLT0gbWF4Rm9yUXVlc3Rpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIGFuc3dlcnM7XG4gIH1cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NMSU5JQ0FMIFZBTElEQVRJT04gRURHRSBDQVNFUycsICgpID0+IHtcbiAgICBpdCgnQm91bmRhcnkgdGVzdGluZzogQ3Jpc2lzIHRocmVzaG9sZCBlZGdlIGNhc2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYm91bmRhcnlUZXN0cyA9IFtcbiAgICAgICAgeyB0eXBlOiAncGhxOScgYXMgQXNzZXNzbWVudFR5cGUsIHNjb3JlOiAxOSwgZXhwZWN0Q3Jpc2lzOiBmYWxzZSB9LFxuICAgICAgICB7IHR5cGU6ICdwaHE5JyBhcyBBc3Nlc3NtZW50VHlwZSwgc2NvcmU6IDIwLCBleHBlY3RDcmlzaXM6IHRydWUgfSxcbiAgICAgICAgeyB0eXBlOiAnZ2FkNycgYXMgQXNzZXNzbWVudFR5cGUsIHNjb3JlOiAxNCwgZXhwZWN0Q3Jpc2lzOiBmYWxzZSB9LFxuICAgICAgICB7IHR5cGU6ICdnYWQ3JyBhcyBBc3Nlc3NtZW50VHlwZSwgc2NvcmU6IDE1LCBleHBlY3RDcmlzaXM6IHRydWUgfSxcbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3QgdGVzdCBvZiBib3VuZGFyeVRlc3RzKSB7XG4gICAgICAgIHN0b3JlLnJlc2V0QXNzZXNzbWVudCgpO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgc3RvcmUuc3RhcnRBc3Nlc3NtZW50KHRlc3QudHlwZSwgJ2JvdW5kYXJ5X3Rlc3QnKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uQ291bnQgPSB0ZXN0LnR5cGUgPT09ICdwaHE5JyA/IDkgOiA3O1xuICAgICAgICBjb25zdCBhbnN3ZXJzID0gdGhpcy5kaXN0cmlidXRlU2NvcmUodGVzdC5zY29yZSwgcXVlc3Rpb25Db3VudCk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXN0aW9uQ291bnQ7IGkrKykge1xuICAgICAgICAgIGF3YWl0IHN0b3JlLmFuc3dlclF1ZXN0aW9uKGAke3Rlc3QudHlwZX1fJHtpICsgMX1gLCBhbnN3ZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYXdhaXQgc3RvcmUuY29tcGxldGVBc3Nlc3NtZW50KCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBzdG9yZS5jdXJyZW50UmVzdWx0O1xuICAgICAgICBleHBlY3QocmVzdWx0Py50b3RhbFNjb3JlKS50b0JlKHRlc3Quc2NvcmUpO1xuICAgICAgICBleHBlY3QocmVzdWx0Py5pc0NyaXNpcykudG9CZSh0ZXN0LmV4cGVjdENyaXNpcyk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGVzdC5leHBlY3RDcmlzaXMpIHtcbiAgICAgICAgICBleHBlY3Qoc3RvcmUuY3Jpc2lzRGV0ZWN0aW9uKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhwZWN0KHN0b3JlLmNyaXNpc0RldGVjdGlvbikudG9CZUZhbHN5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdEYXRhIGludGVncml0eTogQW5zd2VyIHZhbGlkYXRpb24gYW5kIHBlcnNpc3RlbmNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc3RvcmUuc3RhcnRBc3Nlc3NtZW50KCdwaHE5JywgJ2ludGVncml0eV90ZXN0Jyk7XG4gICAgICBcbiAgICAgIC8vIFRlc3QgaW52YWxpZCByZXNwb25zZXMgKHNob3VsZCBiZSByZWplY3RlZClcbiAgICAgIGNvbnN0IGludmFsaWRSZXNwb25zZXMgPSBbLTEsIDQsIDUsIDEwLCAnaW52YWxpZCddIGFzIGFueVtdO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IGludmFsaWRSZXNwb25zZSBvZiBpbnZhbGlkUmVzcG9uc2VzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgc3RvcmUuYW5zd2VyUXVlc3Rpb24oJ3BocTlfMScsIGludmFsaWRSZXNwb25zZSk7XG4gICAgICAgICAgZmFpbCgnU2hvdWxkIGhhdmUgcmVqZWN0ZWQgaW52YWxpZCByZXNwb25zZScpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGV4cGVjdChlcnJvcikudG9CZVRydXRoeSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFRlc3QgdmFsaWQgcmVzcG9uc2VzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDk7IGkrKykge1xuICAgICAgICBhd2FpdCBzdG9yZS5hbnN3ZXJRdWVzdGlvbihgcGhxOV8ke2kgKyAxfWAsIDEpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhd2FpdCBzdG9yZS5jb21wbGV0ZUFzc2Vzc21lbnQoKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gc3RvcmUuY3VycmVudFJlc3VsdCBhcyBQSFE5UmVzdWx0O1xuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbFNjb3JlKS50b0JlKDkpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5hbnN3ZXJzKS50b0hhdmVMZW5ndGgoOSk7XG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXRlIGFsbCBhbnN3ZXJzIGFyZSBwcm9wZXJseSBzdG9yZWRcbiAgICAgIHJlc3VsdC5hbnN3ZXJzLmZvckVhY2goKGFuc3dlciwgaW5kZXgpID0+IHtcbiAgICAgICAgZXhwZWN0KGFuc3dlci5xdWVzdGlvbklkKS50b0JlKGBwaHE5XyR7aW5kZXggKyAxfWApO1xuICAgICAgICBleHBlY3QoYW5zd2VyLnJlc3BvbnNlKS50b0JlKDEpO1xuICAgICAgICBleHBlY3QoYW5zd2VyLnRpbWVzdGFtcCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFrQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG1CQUFtQixFQUFFO0VBQUEsT0FBTztJQUNwQ0MsWUFBWSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDQyxTQUFTLENBQUM7SUFDcERDLFlBQVksRUFBRUosSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7SUFDL0NHLGVBQWUsRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQ0MsU0FBUztFQUN4RCxDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBRUhOLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDJDQUEyQyxFQUFFO0VBQUEsT0FBTztJQUM1RFEsT0FBTyxFQUFFTixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFp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