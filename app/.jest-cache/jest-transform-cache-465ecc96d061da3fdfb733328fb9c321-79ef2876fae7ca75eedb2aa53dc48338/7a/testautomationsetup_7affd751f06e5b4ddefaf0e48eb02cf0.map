{"version":3,"names":["_getJestObj","mock","RN","require","Object","assign","Dimensions","get","jest","fn","width","height","addEventListener","removeEventListener","Platform","OS","Version","select","obj","ios","default","Alert","alert","prompt","Linking","openURL","Promise","resolve","canOpenURL","impactAsync","selectionAsync","notificationAsync","setItemAsync","getItemAsync","deleteItemAsync","setItem","getItem","removeItem","clear","_require","global","__TEST__","__AUTOMATION__","PERFORMANCE_MONITORING","performanceBaselines","crisis_response_ms","ui_render_ms","memory_limit_mb","assessment_calculation_ms","breathing_animation_fps","PERFORMANCE_BASELINES","testMetrics","startTime","Date","now","testsExecuted","testsFailed","performanceViolations","memoryLeaks","securityIssues","TEST_METRICS","performanceMonitor","startTimer","testName","performance","end","duration","recordMetric","includes","console","warn","PERFORMANCE_METRICS","checkMemoryUsage","process","memoryUsage","usage","heapUsedMB","heapUsed","toFixed","PERFORMANCE_MONITOR","safetyValidator","validateCrisisResponse","responseTime","Error","validateAssessmentAccuracy","phqScore","gadScore","expectedCrisis","actualCrisis","validateAccessibility","component","hasAriaLabel","props","hasRole","role","SAFETY_VALIDATOR","expect","extend","toBeWithinPerformanceThreshold","received","threshold","pass","message","toHaveCrisisResponseTime","maxMs","arguments","length","undefined","error","toHaveCorrectCrisisDetection","toBeAccessible","hasTestId","testID","beforeAll","log","beforeEach","spyOn","afterEach","warnings","calls","errors","mockRestore","afterAll","totalDuration","env","CI","WRITE_METRICS","fs","path","metricsReport","timestamp","toISOString","execution_summary","performance_metrics","baselines","total_duration_ms","reportPath","join","cwd","dir","dirname","existsSync","mkdirSync","recursive","writeFileSync","JSON","stringify","exit","on","reason","promise","module","exports"],"sources":["test-automation-setup.js"],"sourcesContent":["/**\n * TEST AUTOMATION SETUP - Week 3 Orchestration\n * Comprehensive test environment configuration for automated CI/CD testing\n * \n * FEATURES:\n * - Performance monitoring and regression detection\n * - Safety validation and crisis response testing\n * - Real-time metrics collection and alerting\n * - Cross-platform compatibility validation\n * - Memory leak detection and resource monitoring\n */\n\nimport '@testing-library/jest-native/extend-expect';\n\n// Global test configuration\nglobal.__TEST__ = true;\nglobal.__AUTOMATION__ = true;\nglobal.PERFORMANCE_MONITORING = true;\n\n// Performance monitoring setup\nconst performanceBaselines = {\n  crisis_response_ms: 200,\n  ui_render_ms: 16.67, // 60fps = 16.67ms per frame\n  memory_limit_mb: 50,\n  assessment_calculation_ms: 100,\n  breathing_animation_fps: 60\n};\n\nglobal.PERFORMANCE_BASELINES = performanceBaselines;\n\n// Test execution metrics\nconst testMetrics = {\n  startTime: Date.now(),\n  testsExecuted: 0,\n  testsFailed: 0,\n  performanceViolations: 0,\n  memoryLeaks: 0,\n  securityIssues: 0\n};\n\nglobal.TEST_METRICS = testMetrics;\n\n// Mock React Native environment\njest.mock('react-native', () => {\n  const RN = require('react-native/jest/setup');\n  \n  return {\n    ...RN,\n    Dimensions: {\n      get: jest.fn(() => ({ width: 375, height: 812 })), // iPhone X dimensions\n      addEventListener: jest.fn(),\n      removeEventListener: jest.fn()\n    },\n    Platform: {\n      OS: 'ios',\n      Version: '14.0',\n      select: jest.fn((obj) => obj.ios || obj.default)\n    },\n    Alert: {\n      alert: jest.fn(),\n      prompt: jest.fn()\n    },\n    Linking: {\n      openURL: jest.fn(() => Promise.resolve()),\n      canOpenURL: jest.fn(() => Promise.resolve(true))\n    }\n  };\n});\n\n// Mock Expo modules\njest.mock('expo-haptics', () => ({\n  impactAsync: jest.fn(() => Promise.resolve()),\n  selectionAsync: jest.fn(() => Promise.resolve()),\n  notificationAsync: jest.fn(() => Promise.resolve())\n}));\n\njest.mock('expo-secure-store', () => ({\n  setItemAsync: jest.fn(() => Promise.resolve()),\n  getItemAsync: jest.fn(() => Promise.resolve(null)),\n  deleteItemAsync: jest.fn(() => Promise.resolve())\n}));\n\njest.mock('@react-native-async-storage/async-storage', () => ({\n  setItem: jest.fn(() => Promise.resolve()),\n  getItem: jest.fn(() => Promise.resolve(null)),\n  removeItem: jest.fn(() => Promise.resolve()),\n  clear: jest.fn(() => Promise.resolve())\n}));\n\n// Performance monitoring utilities\nconst performanceMonitor = {\n  startTimer: (testName) => {\n    const startTime = performance.now();\n    return {\n      end: () => {\n        const duration = performance.now() - startTime;\n        performanceMonitor.recordMetric(testName, duration);\n        return duration;\n      }\n    };\n  },\n  \n  recordMetric: (testName, duration) => {\n    // Check against baselines\n    if (testName.includes('crisis') && duration > performanceBaselines.crisis_response_ms) {\n      testMetrics.performanceViolations++;\n      console.warn(`âš ï¸ PERFORMANCE VIOLATION: ${testName} took ${duration}ms (baseline: ${performanceBaselines.crisis_response_ms}ms)`);\n    }\n    \n    if (testName.includes('render') && duration > performanceBaselines.ui_render_ms) {\n      testMetrics.performanceViolations++;\n      console.warn(`âš ï¸ UI PERFORMANCE: ${testName} took ${duration}ms (target: ${performanceBaselines.ui_render_ms}ms)`);\n    }\n    \n    // Store metrics for reporting\n    if (!global.PERFORMANCE_METRICS) {\n      global.PERFORMANCE_METRICS = {};\n    }\n    global.PERFORMANCE_METRICS[testName] = duration;\n  },\n  \n  checkMemoryUsage: () => {\n    if (process.memoryUsage) {\n      const usage = process.memoryUsage();\n      const heapUsedMB = usage.heapUsed / 1024 / 1024;\n      \n      if (heapUsedMB > performanceBaselines.memory_limit_mb) {\n        testMetrics.memoryLeaks++;\n        console.warn(`ðŸ§  MEMORY WARNING: ${heapUsedMB.toFixed(2)}MB heap used (limit: ${performanceBaselines.memory_limit_mb}MB)`);\n      }\n      \n      return heapUsedMB;\n    }\n    return 0;\n  }\n};\n\nglobal.PERFORMANCE_MONITOR = performanceMonitor;\n\n// Safety validation utilities\nconst safetyValidator = {\n  validateCrisisResponse: (responseTime) => {\n    if (responseTime > performanceBaselines.crisis_response_ms) {\n      throw new Error(`ðŸš¨ CRISIS SAFETY VIOLATION: Response time ${responseTime}ms exceeds ${performanceBaselines.crisis_response_ms}ms threshold`);\n    }\n    return true;\n  },\n  \n  validateAssessmentAccuracy: (phqScore, gadScore, expectedCrisis) => {\n    const actualCrisis = phqScore >= 20 || gadScore >= 15;\n    if (actualCrisis !== expectedCrisis) {\n      testMetrics.securityIssues++;\n      throw new Error(`ðŸ¥ CLINICAL ACCURACY ERROR: PHQ-9=${phqScore}, GAD-7=${gadScore}, Expected Crisis=${expectedCrisis}, Actual=${actualCrisis}`);\n    }\n    return true;\n  },\n  \n  validateAccessibility: (component) => {\n    // Basic accessibility validation\n    const hasAriaLabel = component.props && component.props['aria-label'];\n    const hasRole = component.props && component.props.role;\n    \n    if (!hasAriaLabel && !hasRole) {\n      console.warn('â™¿ ACCESSIBILITY WARNING: Component missing aria-label or role');\n    }\n    \n    return true;\n  }\n};\n\nglobal.SAFETY_VALIDATOR = safetyValidator;\n\n// Custom matchers for automated testing\nexpect.extend({\n  toBeWithinPerformanceThreshold(received, testName, threshold) {\n    const pass = received <= threshold;\n    \n    if (!pass) {\n      testMetrics.performanceViolations++;\n    }\n    \n    return {\n      message: () => \n        pass \n          ? `Expected ${testName} performance ${received}ms to exceed threshold ${threshold}ms`\n          : `Expected ${testName} performance ${received}ms to be within threshold ${threshold}ms`,\n      pass\n    };\n  },\n  \n  toHaveCrisisResponseTime(received, maxMs = 200) {\n    const pass = received <= maxMs;\n    \n    if (!pass) {\n      testMetrics.performanceViolations++;\n      console.error(`ðŸš¨ CRISIS RESPONSE FAILURE: ${received}ms > ${maxMs}ms`);\n    }\n    \n    return {\n      message: () => \n        pass \n          ? `Expected crisis response time ${received}ms to exceed ${maxMs}ms`\n          : `Expected crisis response time ${received}ms to be within ${maxMs}ms`,\n      pass\n    };\n  },\n  \n  toHaveCorrectCrisisDetection(received, phqScore, gadScore) {\n    const expectedCrisis = phqScore >= 20 || gadScore >= 15;\n    const pass = received === expectedCrisis;\n    \n    if (!pass) {\n      testMetrics.securityIssues++;\n    }\n    \n    return {\n      message: () => \n        pass \n          ? `Expected crisis detection to be incorrect for PHQ-9=${phqScore}, GAD-7=${gadScore}`\n          : `Expected crisis detection ${received} to match clinical thresholds for PHQ-9=${phqScore}, GAD-7=${gadScore} (expected: ${expectedCrisis})`,\n      pass\n    };\n  },\n  \n  toBeAccessible(received) {\n    const hasAriaLabel = received.props && received.props['aria-label'];\n    const hasRole = received.props && received.props.role;\n    const hasTestId = received.props && received.props.testID;\n    \n    const pass = hasAriaLabel || hasRole || hasTestId;\n    \n    return {\n      message: () => \n        pass \n          ? `Expected component to be inaccessible`\n          : `Expected component to have accessibility attributes (aria-label, role, or testID)`,\n      pass\n    };\n  }\n});\n\n// Test environment setup hooks\nbeforeAll(() => {\n  console.log('ðŸš€ Starting automated test execution...');\n  console.log(`ðŸ“Š Performance baselines: Crisis <${performanceBaselines.crisis_response_ms}ms, Memory <${performanceBaselines.memory_limit_mb}MB`);\n  \n  testMetrics.startTime = Date.now();\n  \n  // Reset performance metrics\n  global.PERFORMANCE_METRICS = {};\n});\n\nbeforeEach(() => {\n  testMetrics.testsExecuted++;\n  \n  // Check memory usage before each test\n  performanceMonitor.checkMemoryUsage();\n  \n  // Mock console methods to capture warnings and errors\n  jest.spyOn(console, 'warn');\n  jest.spyOn(console, 'error');\n});\n\nafterEach(() => {\n  // Check for console warnings and errors\n  const warnings = console.warn.mock.calls.length;\n  const errors = console.error.mock.calls.length;\n  \n  if (warnings > 0) {\n    console.log(`âš ï¸ Test generated ${warnings} warnings`);\n  }\n  \n  if (errors > 0) {\n    testMetrics.testsFailed++;\n    console.log(`âŒ Test generated ${errors} errors`);\n  }\n  \n  // Restore console methods\n  console.warn.mockRestore();\n  console.error.mockRestore();\n  \n  // Memory usage check after test\n  performanceMonitor.checkMemoryUsage();\n});\n\nafterAll(() => {\n  const totalDuration = Date.now() - testMetrics.startTime;\n  \n  console.log('ðŸ“Š Test Execution Summary:');\n  console.log(`  ðŸ“ Tests executed: ${testMetrics.testsExecuted}`);\n  console.log(`  âŒ Tests failed: ${testMetrics.testsFailed}`);\n  console.log(`  âš¡ Performance violations: ${testMetrics.performanceViolations}`);\n  console.log(`  ðŸ§  Memory warnings: ${testMetrics.memoryLeaks}`);\n  console.log(`  ðŸ”’ Security issues: ${testMetrics.securityIssues}`);\n  console.log(`  â±ï¸ Total duration: ${totalDuration}ms`);\n  \n  // Write metrics to file for CI/CD reporting\n  if (process.env.CI || process.env.WRITE_METRICS) {\n    const fs = require('fs');\n    const path = require('path');\n    \n    const metricsReport = {\n      timestamp: new Date().toISOString(),\n      execution_summary: testMetrics,\n      performance_metrics: global.PERFORMANCE_METRICS || {},\n      baselines: performanceBaselines,\n      total_duration_ms: totalDuration\n    };\n    \n    const reportPath = path.join(process.cwd(), 'test-results', 'automation-metrics.json');\n    \n    // Ensure directory exists\n    const dir = path.dirname(reportPath);\n    if (!fs.existsSync(dir)) {\n      fs.mkdirSync(dir, { recursive: true });\n    }\n    \n    fs.writeFileSync(reportPath, JSON.stringify(metricsReport, null, 2));\n    console.log(`ðŸ“Š Metrics report written to: ${reportPath}`);\n  }\n  \n  // Fail if critical issues detected\n  if (testMetrics.securityIssues > 0) {\n    console.error('ðŸš¨ CRITICAL: Security issues detected - failing test suite');\n    process.exit(1);\n  }\n  \n  if (testMetrics.performanceViolations > 5) {\n    console.error('âš¡ CRITICAL: Too many performance violations - failing test suite');\n    process.exit(1);\n  }\n});\n\n// Global error handler for unhandled rejections\nprocess.on('unhandledRejection', (reason, promise) => {\n  console.error('ðŸš¨ Unhandled Rejection at:', promise, 'reason:', reason);\n  testMetrics.testsFailed++;\n});\n\n// Export utilities for use in tests\nmodule.exports = {\n  performanceMonitor,\n  safetyValidator,\n  performanceBaselines,\n  testMetrics\n};"],"mappings":"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","ignoreList":[]}