{"version":3,"names":["_GlobalPerformanceLogger","_interopRequireDefault","require","_PerformanceLoggerContext","_warnOnce","_AppContainer","_DisplayMode","_getCachedComponentWithDebugName","Renderer","_interopRequireWildcard","_invariant","React","_jsxRuntime","renderApplication","RootComponent","initialProps","rootTag","WrapperComponent","rootViewStyle","fabric","scopedPerformanceLogger","isLogBox","debugName","displayMode","useOffscreen","invariant","performanceLogger","GlobalPerformanceLogger","renderable","jsx","default","Provider","value","children","Object","freeze","internal_excludeLogBox","assign","__DEV__","RootComponentWithMeaningfulName","getCachedComponentWithDebugName","Activity","unstable_Activity","mode","DisplayMode","VISIBLE","useConcurrentRoot","Boolean","startTimespan","setExtra","isProfilingRenderer","renderElement","element","useFabric","newArchitecture","warnOnce","stopTimespan"],"sources":["renderApplication.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\nimport type {ViewStyleProp} from '../StyleSheet/StyleSheet';\nimport type {IPerformanceLogger} from '../Utilities/createPerformanceLogger';\n\nimport GlobalPerformanceLogger from '../Utilities/GlobalPerformanceLogger';\nimport PerformanceLoggerContext from '../Utilities/PerformanceLoggerContext';\nimport warnOnce from '../Utilities/warnOnce';\nimport AppContainer from './AppContainer';\nimport DisplayMode, {type DisplayModeType} from './DisplayMode';\nimport getCachedComponentWithDebugName from './getCachedComponentWithDebugName';\nimport * as Renderer from './RendererProxy';\nimport invariant from 'invariant';\nimport * as React from 'react';\n\n// require BackHandler so it sets the default handler that exits the app if no listeners respond\nimport '../Utilities/BackHandler';\n\ntype ActivityType = component(\n  ...{\n    mode: 'visible' | 'hidden',\n    children: React.Node,\n  }\n);\n\nexport default function renderApplication<Props: Object>(\n  RootComponent: React.ComponentType<Props>,\n  initialProps: Props,\n  rootTag: any,\n  WrapperComponent?: ?React.ComponentType<any>,\n  rootViewStyle?: ?ViewStyleProp,\n  fabric?: boolean,\n  scopedPerformanceLogger?: IPerformanceLogger,\n  isLogBox?: boolean,\n  debugName?: string,\n  displayMode?: ?DisplayModeType,\n  useOffscreen?: boolean,\n) {\n  invariant(rootTag, 'Expect to have a valid rootTag, instead got ', rootTag);\n\n  const performanceLogger = scopedPerformanceLogger ?? GlobalPerformanceLogger;\n\n  let renderable: React.MixedElement = (\n    <PerformanceLoggerContext.Provider value={performanceLogger}>\n      <AppContainer\n        rootTag={rootTag}\n        fabric={fabric}\n        WrapperComponent={WrapperComponent}\n        rootViewStyle={rootViewStyle}\n        initialProps={initialProps ?? Object.freeze({})}\n        internal_excludeLogBox={isLogBox}>\n        <RootComponent {...initialProps} rootTag={rootTag} />\n      </AppContainer>\n    </PerformanceLoggerContext.Provider>\n  );\n\n  if (__DEV__ && debugName) {\n    const RootComponentWithMeaningfulName = getCachedComponentWithDebugName(\n      `${debugName}(RootComponent)`,\n    );\n    renderable = (\n      <RootComponentWithMeaningfulName>\n        {renderable}\n      </RootComponentWithMeaningfulName>\n    );\n  }\n\n  if (useOffscreen && displayMode != null) {\n    // $FlowFixMe[incompatible-type]\n    // $FlowFixMe[prop-missing]\n    const Activity: ActivityType = React.unstable_Activity;\n\n    renderable = (\n      <Activity\n        mode={displayMode === DisplayMode.VISIBLE ? 'visible' : 'hidden'}>\n        {renderable}\n      </Activity>\n    );\n  }\n\n  // We want to have concurrentRoot always enabled when you're on Fabric.\n  const useConcurrentRoot = Boolean(fabric);\n\n  performanceLogger.startTimespan('renderApplication_React_render');\n  performanceLogger.setExtra(\n    'usedReactConcurrentRoot',\n    useConcurrentRoot ? '1' : '0',\n  );\n  performanceLogger.setExtra('usedReactFabric', fabric ? '1' : '0');\n  performanceLogger.setExtra(\n    'usedReactProfiler',\n    Renderer.isProfilingRenderer(),\n  );\n  Renderer.renderElement({\n    element: renderable,\n    rootTag,\n    useFabric: Boolean(fabric),\n    useConcurrentRoot,\n  });\n\n  const newArchitecture = !!fabric;\n  if (!newArchitecture) {\n    warnOnce(\n      '[OSS][OldArchDeprecatedWarning]',\n      'The app is running using the Legacy Architecture. The Legacy Architecture is deprecated and will be removed in a future version of React Native. Please consider migrating to the New Architecture. For more information, please see https://reactnative.dev/blog/2024/10/23/the-new-architecture-is-here',\n    );\n  }\n  performanceLogger.stopTimespan('renderApplication_React_render');\n}\n"],"mappings":"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","ignoreList":[]}