{"version":3,"names":["fs","require","path","CoverageReporter","globalConfig","options","arguments","length","undefined","_classCallCheck2","default","Object","assign","outputFile","thresholds","crisis","lines","functions","branches","statements","clinical","security","global","coverageData","_createClass2","key","value","onRunComplete","contexts","results","coverageMap","console","log","analyzeCoverage","generateCoverageReport","saveCoverageResults","printCoverageSummary","_this","summary","getCoverageSummary","fileReports","categoryReports","files","other","forEach","filePath","fileCoverage","fileCoverageFor","fileSummary","toSummary","relativePath","replace","rootDir","fileReport","file","total","covered","pct","push","category","categorizeFile","keys","totals","reduce","acc","timestamp","Date","toISOString","categories","thresholdViolations","findThresholdViolations","test","_this2","violations","entries","_ref","_ref2","_slicedToArray2","data","_ref3","_ref4","metric","threshold","actual","Math","round","severity","coverageReport","recommendations","generateRecommendations","totalFiles","categoryCounts","_ref5","_ref6","cat","violationCount","criticalViolations","filter","v","crisisViolations","type","message","action","clinicalViolations","lowCoverageFiles","f","slice","map","outputDir","dirname","existsSync","mkdirSync","recursive","writeFileSync","JSON","stringify","_this$coverageReport$","toFixed","_ref7","_ref8","violation","icon","rec","module","exports"],"sources":["coverage-reporter.js"],"sourcesContent":["/**\n * Enhanced Coverage Reporter\n * Local development-focused coverage analysis and reporting\n */\n\nconst fs = require('fs');\nconst path = require('path');\n\nclass CoverageReporter {\n  constructor(globalConfig, options = {}) {\n    this.globalConfig = globalConfig;\n    this.options = {\n      outputFile: 'test-results/coverage-summary.json',\n      thresholds: {\n        crisis: { lines: 95, functions: 95, branches: 90, statements: 95 },\n        clinical: { lines: 90, functions: 90, branches: 85, statements: 90 },\n        security: { lines: 85, functions: 85, branches: 80, statements: 85 },\n        global: { lines: 80, functions: 75, branches: 70, statements: 80 }\n      },\n      ...options\n    };\n    \n    this.coverageData = null;\n  }\n\n  onRunComplete(contexts, results) {\n    if (!results.coverageMap) {\n      console.log('‚ÑπÔ∏è  No coverage data collected (use --coverage flag)');\n      return;\n    }\n\n    this.coverageData = this.analyzeCoverage(results.coverageMap);\n    this.generateCoverageReport();\n    this.saveCoverageResults();\n    this.printCoverageSummary();\n  }\n\n  analyzeCoverage(coverageMap) {\n    const summary = coverageMap.getCoverageSummary();\n    const fileReports = [];\n    const categoryReports = {\n      crisis: { files: [], summary: { lines: 0, functions: 0, branches: 0, statements: 0 } },\n      clinical: { files: [], summary: { lines: 0, functions: 0, branches: 0, statements: 0 } },\n      security: { files: [], summary: { lines: 0, functions: 0, branches: 0, statements: 0 } },\n      other: { files: [], summary: { lines: 0, functions: 0, branches: 0, statements: 0 } }\n    };\n\n    coverageMap.files().forEach(filePath => {\n      const fileCoverage = coverageMap.fileCoverageFor(filePath);\n      const fileSummary = fileCoverage.toSummary();\n      const relativePath = filePath.replace(this.globalConfig.rootDir, '');\n      \n      const fileReport = {\n        file: relativePath,\n        lines: {\n          total: fileSummary.lines.total,\n          covered: fileSummary.lines.covered,\n          pct: fileSummary.lines.pct\n        },\n        functions: {\n          total: fileSummary.functions.total,\n          covered: fileSummary.functions.covered,\n          pct: fileSummary.functions.pct\n        },\n        branches: {\n          total: fileSummary.branches.total,\n          covered: fileSummary.branches.covered,\n          pct: fileSummary.branches.pct\n        },\n        statements: {\n          total: fileSummary.statements.total,\n          covered: fileSummary.statements.covered,\n          pct: fileSummary.statements.pct\n        }\n      };\n\n      fileReports.push(fileReport);\n\n      // Categorize file\n      const category = this.categorizeFile(relativePath);\n      categoryReports[category].files.push(fileReport);\n    });\n\n    // Calculate category summaries\n    Object.keys(categoryReports).forEach(category => {\n      if (categoryReports[category].files.length > 0) {\n        const files = categoryReports[category].files;\n        const totals = files.reduce((acc, file) => {\n          acc.lines.total += file.lines.total;\n          acc.lines.covered += file.lines.covered;\n          acc.functions.total += file.functions.total;\n          acc.functions.covered += file.functions.covered;\n          acc.branches.total += file.branches.total;\n          acc.branches.covered += file.branches.covered;\n          acc.statements.total += file.statements.total;\n          acc.statements.covered += file.statements.covered;\n          return acc;\n        }, {\n          lines: { total: 0, covered: 0 },\n          functions: { total: 0, covered: 0 },\n          branches: { total: 0, covered: 0 },\n          statements: { total: 0, covered: 0 }\n        });\n\n        categoryReports[category].summary = {\n          lines: totals.lines.total > 0 ? (totals.lines.covered / totals.lines.total) * 100 : 0,\n          functions: totals.functions.total > 0 ? (totals.functions.covered / totals.functions.total) * 100 : 0,\n          branches: totals.branches.total > 0 ? (totals.branches.covered / totals.branches.total) * 100 : 0,\n          statements: totals.statements.total > 0 ? (totals.statements.covered / totals.statements.total) * 100 : 0\n        };\n      }\n    });\n\n    return {\n      timestamp: new Date().toISOString(),\n      global: {\n        lines: summary.lines.pct,\n        functions: summary.functions.pct,\n        branches: summary.branches.pct,\n        statements: summary.statements.pct\n      },\n      categories: categoryReports,\n      files: fileReports,\n      thresholdViolations: this.findThresholdViolations(categoryReports)\n    };\n  }\n\n  categorizeFile(filePath) {\n    if (/crisis|emergency/i.test(filePath)) return 'crisis';\n    if (/clinical|assessment|phq|gad/i.test(filePath)) return 'clinical';\n    if (/security|encryption|auth/i.test(filePath)) return 'security';\n    return 'other';\n  }\n\n  findThresholdViolations(categoryReports) {\n    const violations = [];\n\n    Object.entries(categoryReports).forEach(([category, data]) => {\n      if (data.files.length === 0) return;\n\n      const thresholds = this.options.thresholds[category] || this.options.thresholds.global;\n      const summary = data.summary;\n\n      Object.entries(thresholds).forEach(([metric, threshold]) => {\n        if (summary[metric] < threshold) {\n          violations.push({\n            category,\n            metric,\n            actual: Math.round(summary[metric] * 100) / 100,\n            threshold,\n            severity: category === 'crisis' ? 'CRITICAL' : category === 'clinical' ? 'HIGH' : 'MEDIUM'\n          });\n        }\n      });\n    });\n\n    return violations;\n  }\n\n  generateCoverageReport() {\n    this.coverageReport = {\n      ...this.coverageData,\n      recommendations: this.generateRecommendations(),\n      summary: {\n        totalFiles: this.coverageData.files.length,\n        categoryCounts: Object.entries(this.coverageData.categories).reduce((acc, [cat, data]) => {\n          acc[cat] = data.files.length;\n          return acc;\n        }, {}),\n        violationCount: this.coverageData.thresholdViolations.length,\n        criticalViolations: this.coverageData.thresholdViolations.filter(v => v.severity === 'CRITICAL').length\n      }\n    };\n  }\n\n  generateRecommendations() {\n    const recommendations = [];\n    const violations = this.coverageData.thresholdViolations;\n\n    // Critical crisis coverage violations\n    const crisisViolations = violations.filter(v => v.category === 'crisis');\n    if (crisisViolations.length > 0) {\n      recommendations.push({\n        type: 'CRITICAL',\n        category: 'crisis',\n        message: `Crisis components have ${crisisViolations.length} coverage violations`,\n        action: 'Add comprehensive tests for all crisis detection and intervention paths',\n        violations: crisisViolations\n      });\n    }\n\n    // Clinical coverage recommendations\n    const clinicalViolations = violations.filter(v => v.category === 'clinical');\n    if (clinicalViolations.length > 0) {\n      recommendations.push({\n        type: 'HIGH',\n        category: 'clinical',\n        message: `Clinical components need ${clinicalViolations.length} coverage improvements`,\n        action: 'Add tests for PHQ-9/GAD-7 scoring algorithms and therapeutic content validation'\n      });\n    }\n\n    // Low coverage files\n    const lowCoverageFiles = this.coverageData.files.filter(f => \n      f.lines.pct < 60 || f.functions.pct < 60\n    );\n    if (lowCoverageFiles.length > 0) {\n      recommendations.push({\n        type: 'MEDIUM',\n        category: 'general',\n        message: `${lowCoverageFiles.length} files have very low coverage (<60%)`,\n        action: 'Focus testing efforts on these files first',\n        files: lowCoverageFiles.slice(0, 5).map(f => f.file) // Top 5 lowest\n      });\n    }\n\n    return recommendations;\n  }\n\n  saveCoverageResults() {\n    const outputDir = path.dirname(this.options.outputFile);\n    if (!fs.existsSync(outputDir)) {\n      fs.mkdirSync(outputDir, { recursive: true });\n    }\n\n    fs.writeFileSync(\n      this.options.outputFile,\n      JSON.stringify(this.coverageReport, null, 2)\n    );\n  }\n\n  printCoverageSummary() {\n    if (!this.coverageData) return;\n\n    console.log('\\nüìä Coverage Analysis Summary');\n    console.log('============================');\n    \n    // Global coverage\n    const global = this.coverageData.global;\n    console.log(`Global Coverage:`);\n    console.log(`   Lines: ${global.lines.toFixed(1)}%`);\n    console.log(`   Functions: ${global.functions.toFixed(1)}%`);\n    console.log(`   Branches: ${global.branches.toFixed(1)}%`);\n    console.log(`   Statements: ${global.statements.toFixed(1)}%`);\n\n    // Category breakdown\n    console.log('\\nCategory Coverage:');\n    Object.entries(this.coverageData.categories).forEach(([category, data]) => {\n      if (data.files.length > 0) {\n        const summary = data.summary;\n        console.log(`   ${category} (${data.files.length} files):`);\n        console.log(`     Lines: ${summary.lines.toFixed(1)}%`);\n        console.log(`     Functions: ${summary.functions.toFixed(1)}%`);\n      }\n    });\n\n    // Threshold violations\n    if (this.coverageData.thresholdViolations.length > 0) {\n      console.log('\\n‚ö†Ô∏è  Coverage Violations:');\n      this.coverageData.thresholdViolations.forEach(violation => {\n        const icon = violation.severity === 'CRITICAL' ? 'üö®' : \n                    violation.severity === 'HIGH' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è';\n        console.log(`   ${icon} ${violation.category} ${violation.metric}: ${violation.actual}% < ${violation.threshold}%`);\n      });\n    } else {\n      console.log('\\n‚úÖ All coverage thresholds met!');\n    }\n\n    // Recommendations\n    if (this.coverageReport.recommendations?.length > 0) {\n      console.log('\\nüí° Coverage Recommendations:');\n      this.coverageReport.recommendations.forEach(rec => {\n        const icon = rec.type === 'CRITICAL' ? 'üö®' : \n                    rec.type === 'HIGH' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è';\n        console.log(`   ${icon} ${rec.message}`);\n        console.log(`      ${rec.action}`);\n      });\n    }\n\n    console.log(`\\nüìÑ Detailed report: ${this.options.outputFile}`);\n    console.log('============================\\n');\n  }\n}\n\nmodule.exports = CoverageReporter;"],"mappings":"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","ignoreList":[]}