{"version":3,"names":["_getJestObj","mock","RN","jest","requireActual","Object","assign","Platform","OS","select","fn","obj","ios","Dimensions","get","width","height","Alert","alert","Linking","openURL","Promise","resolve","impactAsync","ImpactFeedbackStyle","Heavy","getItem","setItem","removeItem","require","_require","global","performance","now","Date","mark","measure","CLINICAL_SAFETY","PHQ9_CRISIS_THRESHOLD","GAD7_CRISIS_THRESHOLD","CRISIS_RESPONSE_TIME_MS","EMERGENCY_NUMBER","testPerformance","startTimes","Map","results","beforeEach","testName","expect","getState","currentTestName","set","includes","console","log","afterEach","startTime","duration","push","timestamp","toISOString","category","categorizeTest","warn","toFixed","error","testUtils","generatePHQ9Score","severity","arguments","length","undefined","scores","minimal","Math","floor","random","mild","moderate","moderatelySevere","severe","generateGAD7Score","simulateCrisisDetection","phq9Score","gad7Score","triggerType","measurePerformance","name","start","result","end","mockScreenReader","announcements","announce","text","getLastAnnouncement","afterAll","_global$testPerforman","avgDuration","reduce","sum","r","slowTests","filter","forEach","test"],"sources":["jest.setup.js"],"sourcesContent":["/**\n * Jest Setup for Local Development Testing\n * Enhanced setup with performance monitoring and clinical safety validation\n */\n\nimport '@testing-library/jest-native/extend-expect';\n\n// Performance monitoring for local development\nglobal.performance = global.performance || {\n  now: () => Date.now(),\n  mark: () => {},\n  measure: () => {}\n};\n\n// Clinical safety test utilities\nglobal.CLINICAL_SAFETY = {\n  PHQ9_CRISIS_THRESHOLD: 20,\n  GAD7_CRISIS_THRESHOLD: 15,\n  CRISIS_RESPONSE_TIME_MS: 3000,\n  EMERGENCY_NUMBER: '988'\n};\n\n// Test performance tracking\nconst testPerformance = {\n  startTimes: new Map(),\n  results: []\n};\n\nglobal.testPerformance = testPerformance;\n\n// Enhanced beforeEach for performance tracking\nbeforeEach(() => {\n  const testName = expect.getState().currentTestName;\n  testPerformance.startTimes.set(testName, performance.now());\n  \n  // Clinical safety validation setup\n  if (testName?.includes('crisis') || testName?.includes('Crisis')) {\n    console.log(`ðŸ”’ CRISIS TEST: ${testName} - Safety protocols active`);\n  }\n});\n\n// Enhanced afterEach for performance reporting\nafterEach(() => {\n  const testName = expect.getState().currentTestName;\n  const startTime = testPerformance.startTimes.get(testName);\n  \n  if (startTime) {\n    const duration = performance.now() - startTime;\n    testPerformance.results.push({\n      testName,\n      duration,\n      timestamp: new Date().toISOString(),\n      category: categorizeTest(testName)\n    });\n    \n    // Performance warnings for local development\n    if (duration > 5000) {\n      console.warn(`âš ï¸  SLOW TEST: ${testName} took ${duration.toFixed(2)}ms`);\n    }\n    \n    // Crisis test performance validation\n    if (testName?.includes('crisis') && duration > 3000) {\n      console.error(`ðŸš¨ CRISIS PERFORMANCE VIOLATION: ${testName} took ${duration.toFixed(2)}ms (max: 3000ms)`);\n    }\n  }\n});\n\n// Test categorization for reporting\nfunction categorizeTest(testName) {\n  if (testName?.includes('crisis') || testName?.includes('Crisis')) return 'crisis';\n  if (testName?.includes('clinical') || testName?.includes('Clinical')) return 'clinical';\n  if (testName?.includes('performance') || testName?.includes('Performance')) return 'performance';\n  if (testName?.includes('accessibility') || testName?.includes('Accessibility')) return 'accessibility';\n  if (testName?.includes('security') || testName?.includes('Security')) return 'security';\n  return 'unit';\n}\n\n// Global test utilities\nglobal.testUtils = {\n  // Clinical test data generators\n  generatePHQ9Score: (severity = 'moderate') => {\n    const scores = {\n      minimal: Math.floor(Math.random() * 5), // 0-4\n      mild: Math.floor(Math.random() * 5) + 5, // 5-9\n      moderate: Math.floor(Math.random() * 5) + 10, // 10-14\n      moderatelySevere: Math.floor(Math.random() * 5) + 15, // 15-19\n      severe: Math.floor(Math.random() * 8) + 20 // 20-27\n    };\n    return scores[severity] || scores.moderate;\n  },\n  \n  generateGAD7Score: (severity = 'moderate') => {\n    const scores = {\n      minimal: Math.floor(Math.random() * 5), // 0-4\n      mild: Math.floor(Math.random() * 5) + 5, // 5-9\n      moderate: Math.floor(Math.random() * 6) + 10, // 10-15\n      severe: Math.floor(Math.random() * 6) + 15 // 15-21\n    };\n    return scores[severity] || scores.moderate;\n  },\n  \n  // Crisis simulation utilities\n  simulateCrisisDetection: () => ({\n    phq9Score: Math.floor(Math.random() * 8) + 20, // 20-27\n    gad7Score: Math.floor(Math.random() * 7) + 15, // 15-21\n    timestamp: new Date().toISOString(),\n    triggerType: 'assessment'\n  }),\n  \n  // Performance testing utilities\n  measurePerformance: (fn, name) => {\n    const start = performance.now();\n    const result = fn();\n    const end = performance.now();\n    \n    console.log(`â±ï¸  ${name}: ${(end - start).toFixed(2)}ms`);\n    return { result, duration: end - start };\n  },\n  \n  // Accessibility testing utilities\n  mockScreenReader: () => ({\n    announcements: [],\n    announce: function(text) {\n      this.announcements.push({\n        text,\n        timestamp: Date.now()\n      });\n    },\n    getLastAnnouncement: function() {\n      return this.announcements[this.announcements.length - 1];\n    }\n  })\n};\n\n// Mock React Native modules for testing\njest.mock('react-native', () => {\n  const RN = jest.requireActual('react-native');\n  return {\n    ...RN,\n    Platform: {\n      OS: 'ios',\n      select: jest.fn(obj => obj.ios)\n    },\n    Dimensions: {\n      get: jest.fn(() => ({ width: 375, height: 812 }))\n    },\n    Alert: {\n      alert: jest.fn()\n    },\n    Linking: {\n      openURL: jest.fn(() => Promise.resolve())\n    }\n  };\n});\n\n// Mock Expo modules\njest.mock('expo-haptics', () => ({\n  impactAsync: jest.fn(() => Promise.resolve()),\n  ImpactFeedbackStyle: {\n    Heavy: 'heavy'\n  }\n}));\n\njest.mock('@react-native-async-storage/async-storage', () => ({\n  getItem: jest.fn(() => Promise.resolve(null)),\n  setItem: jest.fn(() => Promise.resolve()),\n  removeItem: jest.fn(() => Promise.resolve())\n}));\n\n// Global teardown for performance reporting\nafterAll(() => {\n  if (global.testPerformance?.results?.length > 0) {\n    const results = global.testPerformance.results;\n    const avgDuration = results.reduce((sum, r) => sum + r.duration, 0) / results.length;\n    const slowTests = results.filter(r => r.duration > 1000);\n    \n    console.log('\\nðŸ“Š Local Test Performance Summary:');\n    console.log(`   Total tests: ${results.length}`);\n    console.log(`   Average duration: ${avgDuration.toFixed(2)}ms`);\n    \n    if (slowTests.length > 0) {\n      console.log(`   Slow tests (>1s): ${slowTests.length}`);\n      slowTests.forEach(test => {\n        console.log(`     - ${test.testName}: ${test.duration.toFixed(2)}ms`);\n      });\n    }\n  }\n});"],"mappings":"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","ignoreList":[]}