{"version":3,"names":["_asyncStorage","_interopRequireDefault","require","SecureStore","_interopRequireWildcard","CRISIS_DATA_CONFIG","exports","RETENTION_PERIOD_MS","BACKUP_FREQUENCY_MS","AUDIT_ROTATION_MS","MAX_DATA_PACKAGE_SIZE","COMPRESSION_THRESHOLD","ENCRYPTION_KEY_PREFIX","AUDIT_KEY_PREFIX","CrisisDataManagement","_classCallCheck2","default","dataPackages","Map","auditTrail","compressionEnabled","encryptionEnabled","_createClass2","key","value","_captureCrisisEpisode","_asyncToGenerator2","detection","intervention","additionalContext","captureStartTime","performance","now","dataPackage","createCrisisDataPackage","validateDataPackage","storeCrisisDataPackage","logDataCapture","scheduleDataBackup","packageId","error","console","logDataCaptureError","id","captureCrisisEpisode","_x","_x2","_x3","apply","arguments","_updateCrisisData","updateType","updateData","updateStartTime","retrieveCrisisDataPackage","Error","applyDataUpdate","updatedAt","Date","version","checksum","calculateChecksum","logDataUpdate","logDataUpdateError","updateCrisisData","_x4","_x5","_x6","_capturePerformanceMetrics","metrics","performanceData","detectionPerformance","detectionTimeMs","thresholdValidation","accuracyScore","calculateAccuracyScore","falsePositiveRisk","assessFalsePositiveRisk","interventionPerformance","interventionDisplayTimeMs","interventionTimeMs","resourceAccessTimeMs","workflowCompletionTimeMs","userEngagementScore","systemPerformance","memoryUsage","cpuUsage","networkLatency","errorRate","qualityMetrics","clinicalAccuracy","complianceAdherence","userSafetyMaintained","professionalStandardsMet","capturePerformanceMetrics","_x7","_x8","_recordFollowUpAttempt","attempt","followUpAttempt","Object","assign","attemptId","Math","random","toString","substr","attemptTime","checkFollowUpCompliance","recordFollowUpAttempt","_x9","_x0","_logAuditEvent","eventType","details","severity","length","undefined","auditEvent","eventTime","component","JSON","stringify","existingTrail","get","push","set","storeAuditEvent","logAuditEvent","_x1","_x10","_x11","_createCrisisDataPackage","crisisEpisodeId","userId","createdAt","createDetectionData","createInterventionData","createInitialPerformanceData","followUp","createInitialFollowUpData","audit","createInitialAuditData","compliance","createInitialComplianceData","encrypted","_x12","_x13","_x14","_createDetectionData","assessmentResponses","context","triggeringAnswers","map","answer","questionId","response","timestamp","responseTimeMs","assessmentScores","detectionTiming","assessmentStartTime","detectionTriggeredAt","detectionCompleteAt","detectionResponseTimeMs","totalDetectionTimeMs","clinicalValidation","thresholdsValidated","scoringAccuracy","clinicalFlags","_x15","_createInterventionData","workflowExecution","workflowType","severityLevel","stepsExecuted","totalWorkflowTimeMs","workflowStatus","userInteractions","alertsDisplayed","resourcesAccessed","contactAttempts","safetyMeasures","safetyAssessmentCompleted","safetyPlanActivated","professionalContactRecommended","immediateSupervisionRequired","_x16","followUpScheduled","scheduledAt","urgency","type","professionalType","followUpAttempts","followUpOutcomes","completed","treatmentPlanUpdated","ongoingMonitoringRequired","complianceTracking","mandatoryFollowUpMet","timeframeCompliance","documentationComplete","regulatoryRequirementsMet","dataAccess","systemEvents","complianceEvents","dataIntegrity","checksumValidated","encryptionVerified","backupCompleted","lastIntegrityCheck","clinicalStandards","standardOfCareMet","clinicalGuidelinesFollowed","professionalRecommendationsMade","legalRequirements","mandatoryReportingCompliance","consentRequirements","privacyProtectionMaintained","recordRetentionCompliance","regulatoryCompliance","hipaaCompliance","stateRegulationsFollowed","federalRequirementsMet","industryStandardsAdhered","qualityAssurance","crisisProtocolFollowed","performanceThresholdsMet","userSafetyPrioritized","continuousImprovementData","_storeCrisisDataPackage","storageKey","setItemAsync","AsyncStorage","setItem","_x17","_retrieveCrisisDataPackage","cached","storedData","getItemAsync","getItem","parse","_x18","_validateDataPackage","packageSize","_x19","_calculateChecksum","dataString","btoa","substring","_x20","_checkFollowUpCompliance","_x21","_storeAuditEvent","auditKey","_x22","_x23","_scheduleDataBackup","_x24","_logDataCapture","startTime","captureTime","captureTimeMs","_x25","_x26","_logDataCaptureError","crisisId","message","source","logError","_x27","_x28","_logDataUpdate","updateTime","updateTimeMs","_x29","_x30","_x31","_logDataUpdateError","_x32","_x33","_x34","_exportCrisisData","exportCrisisData","_x35","_getCrisisDataSummary","interventionStatus","status","followUpRequired","complianceStatus","getCrisisDataSummary","_x36","getDataPackageCount","size","_cleanupExpiredData","currentTime","cleanedCount","_ref","entries","_ref2","_slicedToArray2","delete","cleanupExpiredData","getInstance","instance","_default"],"sources":["CrisisDataManagement.ts"],"sourcesContent":["/**\n * CRISIS DATA MANAGEMENT - DRD-FLOW-005 Data Capture & Storage\n *\n * COMPREHENSIVE CRISIS DATA REQUIREMENTS:\n * - Complete crisis episode documentation for clinical review\n * - Encrypted storage with HIPAA-compliant audit trails\n * - Real-time data capture with performance monitoring\n * - Automated follow-up tracking and compliance reporting\n * - Legal/regulatory compliance for crisis intervention records\n *\n * DATA CAPTURE SCOPE:\n * - Crisis detection metadata and timing\n * - User responses and assessment scores\n * - Intervention actions and user choices\n * - Professional contact attempts and outcomes\n * - Follow-up scheduling and completion status\n * - Performance metrics and quality indicators\n *\n * STORAGE REQUIREMENTS:\n * - Encrypted at rest (SecureStore for sensitive data)\n * - Audit trail for all access and modifications\n * - Retention policies (7 years for clinical records)\n * - Backup and recovery procedures\n * - Data export for clinical/legal review\n */\n\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as SecureStore from 'expo-secure-store';\nimport * as FileSystem from 'expo-file-system';\nimport type {\n  CrisisDetection,\n  CrisisIntervention,\n  CrisisActionType,\n  CrisisSeverityLevel,\n  CrisisResolutionType\n} from '../flows/assessment/types';\n\n/**\n * CRISIS DATA STORAGE CONFIGURATION\n */\nexport const CRISIS_DATA_CONFIG = {\n  /** Data retention period (7 years for clinical records) */\n  RETENTION_PERIOD_MS: 7 * 365 * 24 * 60 * 60 * 1000,\n  /** Backup frequency (daily) */\n  BACKUP_FREQUENCY_MS: 24 * 60 * 60 * 1000,\n  /** Audit log rotation (monthly) */\n  AUDIT_ROTATION_MS: 30 * 24 * 60 * 60 * 1000,\n  /** Maximum data package size (5MB) */\n  MAX_DATA_PACKAGE_SIZE: 5 * 1024 * 1024,\n  /** Compression threshold (1MB) */\n  COMPRESSION_THRESHOLD: 1024 * 1024,\n  /** Storage encryption key prefix */\n  ENCRYPTION_KEY_PREFIX: 'crisis_secure_',\n  /** Audit trail key prefix */\n  AUDIT_KEY_PREFIX: 'crisis_audit_'\n} as const;\n\n/**\n * CRISIS DATA CATEGORIES\n * Different sensitivity levels requiring different storage approaches\n */\nexport type CrisisDataCategory =\n  | 'clinical_sensitive'    // PHQ-9/GAD-7 responses, suicidal ideation\n  | 'intervention_actions'  // User actions during crisis\n  | 'performance_metrics'   // System performance data\n  | 'audit_trail'          // Access logs and compliance data\n  | 'follow_up_tracking';  // Professional contact and outcomes\n\n/**\n * COMPREHENSIVE CRISIS DATA PACKAGE\n * Complete crisis episode documentation\n */\nexport interface CrisisDataPackage {\n  // Core identification\n  packageId: string;\n  crisisEpisodeId: string;\n  userId: string; // Encrypted reference\n  createdAt: number;\n  updatedAt: number;\n  version: number;\n\n  // Crisis detection data\n  detection: CrisisDetectionData;\n\n  // Intervention data\n  intervention: CrisisInterventionData;\n\n  // Performance data\n  performance: CrisisPerformanceData;\n\n  // Follow-up data\n  followUp: CrisisFollowUpData;\n\n  // Audit and compliance\n  audit: CrisisAuditData;\n\n  // Legal and regulatory\n  compliance: CrisisComplianceData;\n\n  // Data integrity\n  checksum: string;\n  encrypted: boolean;\n}\n\n/**\n * CRISIS DETECTION DATA\n * Complete detection episode information\n */\nexport interface CrisisDetectionData {\n  detection: CrisisDetection;\n  assessmentResponses: Array<{\n    questionId: string;\n    response: number;\n    timestamp: number;\n    responseTimeMs: number;\n  }>;\n  assessmentScores: {\n    phq9?: {\n      totalScore: number;\n      severity: string;\n      suicidalIdeation: boolean;\n      individual_responses: number[];\n    };\n    gad7?: {\n      totalScore: number;\n      severity: string;\n      individual_responses: number[];\n    };\n  };\n  detectionTiming: {\n    assessmentStartTime: number;\n    detectionTriggeredAt: number;\n    detectionCompleteAt: number;\n    totalDetectionTimeMs: number;\n  };\n  clinicalValidation: {\n    thresholdsValidated: boolean;\n    scoringAccuracy: boolean;\n    clinicalFlags: string[];\n  };\n}\n\n/**\n * CRISIS INTERVENTION DATA\n * Complete intervention episode documentation\n */\nexport interface CrisisInterventionData {\n  intervention: CrisisIntervention;\n  workflowExecution: {\n    workflowType: string;\n    stepsExecuted: Array<{\n      stepId: string;\n      stepName: string;\n      startTime: number;\n      endTime: number;\n      successful: boolean;\n      userAction?: CrisisActionType;\n    }>;\n    totalWorkflowTimeMs: number;\n    workflowStatus: 'completed' | 'interrupted' | 'escalated' | 'failed';\n  };\n  userInteractions: {\n    alertsDisplayed: Array<{\n      alertType: string;\n      displayTime: number;\n      userResponse: string;\n      responseTimeMs: number;\n    }>;\n    resourcesAccessed: Array<{\n      resourceId: string;\n      resourceType: string;\n      accessTime: number;\n      durationMs?: number;\n    }>;\n    contactAttempts: Array<{\n      contactType: '988' | 'emergency' | 'text_line' | 'other';\n      attemptTime: number;\n      successful: boolean;\n      durationMs?: number;\n    }>;\n  };\n  safetyMeasures: {\n    safetyAssessmentCompleted: boolean;\n    safetyPlanActivated: boolean;\n    professionalContactRecommended: boolean;\n    immediateSupervisionRequired: boolean;\n  };\n}\n\n/**\n * CRISIS PERFORMANCE DATA\n * System performance and quality metrics\n */\nexport interface CrisisPerformanceData {\n  detectionPerformance: {\n    detectionTimeMs: number;\n    thresholdValidation: boolean;\n    accuracyScore: number;\n    falsePositiveRisk: number;\n  };\n  interventionPerformance: {\n    interventionDisplayTimeMs: number;\n    resourceAccessTimeMs: number;\n    workflowCompletionTimeMs: number;\n    userEngagementScore: number;\n  };\n  systemPerformance: {\n    memoryUsage: number;\n    cpuUsage: number;\n    networkLatency: number;\n    errorRate: number;\n  };\n  qualityMetrics: {\n    clinicalAccuracy: boolean;\n    complianceAdherence: boolean;\n    userSafetyMaintained: boolean;\n    professionalStandardsMet: boolean;\n  };\n}\n\n/**\n * CRISIS FOLLOW-UP DATA\n * Professional contact and outcomes tracking\n */\nexport interface CrisisFollowUpData {\n  followUpScheduled: {\n    scheduledAt: number;\n    urgency: 'immediate' | 'within_24h' | 'within_48h' | 'within_week';\n    type: 'clinical_assessment' | 'safety_check' | 'therapy_appointment';\n    professionalType: 'therapist' | 'psychiatrist' | 'primary_care' | 'crisis_counselor';\n  };\n  followUpAttempts: Array<{\n    attemptId: string;\n    attemptTime: number;\n    method: 'phone' | 'email' | 'text' | 'in_person';\n    successful: boolean;\n    contactDurationMs?: number;\n    outcome: string;\n    nextSteps: string[];\n  }>;\n  followUpOutcomes: {\n    completed: boolean;\n    completionTime?: number;\n    professionalAssessment?: string;\n    treatmentPlanUpdated: boolean;\n    ongoingMonitoringRequired: boolean;\n  };\n  complianceTracking: {\n    mandatoryFollowUpMet: boolean;\n    timeframeCompliance: boolean;\n    documentationComplete: boolean;\n    regulatoryRequirementsMet: boolean;\n  };\n}\n\n/**\n * CRISIS AUDIT DATA\n * Complete audit trail for compliance\n */\nexport interface CrisisAuditData {\n  dataAccess: Array<{\n    accessTime: number;\n    accessType: 'read' | 'write' | 'update' | 'delete';\n    accessor: string; // System component or user role\n    dataCategory: CrisisDataCategory;\n    purpose: string;\n    ipAddress?: string;\n  }>;\n  systemEvents: Array<{\n    eventTime: number;\n    eventType: string;\n    component: string;\n    details: string;\n    severity: 'info' | 'warning' | 'error' | 'critical';\n  }>;\n  complianceEvents: Array<{\n    eventTime: number;\n    complianceType: 'HIPAA' | 'clinical_standard' | 'regulatory';\n    requirement: string;\n    status: 'met' | 'violated' | 'pending';\n    details: string;\n  }>;\n  dataIntegrity: {\n    checksumValidated: boolean;\n    encryptionVerified: boolean;\n    backupCompleted: boolean;\n    lastIntegrityCheck: number;\n  };\n}\n\n/**\n * CRISIS COMPLIANCE DATA\n * Legal and regulatory compliance tracking\n */\nexport interface CrisisComplianceData {\n  clinicalStandards: {\n    standardOfCareMet: boolean;\n    clinicalGuidelinesFollowed: string[];\n    professionalRecommendationsMade: boolean;\n    documentationComplete: boolean;\n  };\n  legalRequirements: {\n    mandatoryReportingCompliance: boolean;\n    consentRequirements: boolean;\n    privacyProtectionMaintained: boolean;\n    recordRetentionCompliance: boolean;\n  };\n  regulatoryCompliance: {\n    hipaaCompliance: boolean;\n    stateRegulationsFollowed: boolean;\n    federalRequirementsMet: boolean;\n    industryStandardsAdhered: boolean;\n  };\n  qualityAssurance: {\n    crisisProtocolFollowed: boolean;\n    performanceThresholdsMet: boolean;\n    userSafetyPrioritized: boolean;\n    continuousImprovementData: string[];\n  };\n}\n\n/**\n * CRISIS DATA MANAGEMENT ENGINE\n * Comprehensive data capture, storage, and management\n */\nexport class CrisisDataManagement {\n  private static instance: CrisisDataManagement;\n  private dataPackages: Map<string, CrisisDataPackage> = new Map();\n  private auditTrail: Map<string, any[]> = new Map();\n  private compressionEnabled: boolean = true;\n  private encryptionEnabled: boolean = true;\n\n  private constructor() {}\n\n  public static getInstance(): CrisisDataManagement {\n    if (!CrisisDataManagement.instance) {\n      CrisisDataManagement.instance = new CrisisDataManagement();\n    }\n    return CrisisDataManagement.instance;\n  }\n\n  /**\n   * COMPREHENSIVE CRISIS DATA CAPTURE\n   * Captures complete crisis episode with all required data\n   */\n  public async captureCrisisEpisode(\n    detection: CrisisDetection,\n    intervention: CrisisIntervention,\n    additionalContext?: any\n  ): Promise<string> {\n    const captureStartTime = performance.now();\n\n    try {\n      // Create comprehensive data package\n      const dataPackage = await this.createCrisisDataPackage(\n        detection,\n        intervention,\n        additionalContext\n      );\n\n      // Validate data integrity\n      await this.validateDataPackage(dataPackage);\n\n      // Store data package with encryption\n      await this.storeCrisisDataPackage(dataPackage);\n\n      // Log data capture\n      await this.logDataCapture(dataPackage, captureStartTime);\n\n      // Schedule backup\n      await this.scheduleDataBackup(dataPackage.packageId);\n\n      return dataPackage.packageId;\n\n    } catch (error) {\n      console.error('ðŸš¨ CRISIS DATA CAPTURE ERROR:', error);\n      await this.logDataCaptureError(detection.id, error);\n      throw error;\n    }\n  }\n\n  /**\n   * REAL-TIME DATA UPDATE\n   * Updates crisis data in real-time during episode\n   */\n  public async updateCrisisData(\n    packageId: string,\n    updateType: 'intervention_action' | 'performance_metric' | 'follow_up' | 'audit_event',\n    updateData: any\n  ): Promise<void> {\n    const updateStartTime = performance.now();\n\n    try {\n      // Retrieve existing package\n      const dataPackage = await this.retrieveCrisisDataPackage(packageId);\n      if (!dataPackage) {\n        throw new Error(`Crisis data package not found: ${packageId}`);\n      }\n\n      // Apply update\n      this.applyDataUpdate(dataPackage, updateType, updateData);\n\n      // Update timestamps and version\n      dataPackage.updatedAt = Date.now();\n      dataPackage.version += 1;\n\n      // Recalculate checksum\n      dataPackage.checksum = await this.calculateChecksum(dataPackage);\n\n      // Store updated package\n      await this.storeCrisisDataPackage(dataPackage);\n\n      // Log update\n      await this.logDataUpdate(packageId, updateType, updateStartTime);\n\n    } catch (error) {\n      console.error('ðŸš¨ CRISIS DATA UPDATE ERROR:', error);\n      await this.logDataUpdateError(packageId, updateType, error);\n      throw error;\n    }\n  }\n\n  /**\n   * PERFORMANCE MONITORING DATA CAPTURE\n   * Captures system performance during crisis episodes\n   */\n  public async capturePerformanceMetrics(\n    packageId: string,\n    metrics: {\n      detectionTimeMs: number;\n      interventionTimeMs: number;\n      memoryUsage: number;\n      errorRate: number;\n    }\n  ): Promise<void> {\n    try {\n      const performanceData: CrisisPerformanceData = {\n        detectionPerformance: {\n          detectionTimeMs: metrics.detectionTimeMs,\n          thresholdValidation: metrics.detectionTimeMs <= 200,\n          accuracyScore: this.calculateAccuracyScore(metrics),\n          falsePositiveRisk: this.assessFalsePositiveRisk(metrics)\n        },\n        interventionPerformance: {\n          interventionDisplayTimeMs: metrics.interventionTimeMs,\n          resourceAccessTimeMs: 0, // Would be measured\n          workflowCompletionTimeMs: 0, // Would be measured\n          userEngagementScore: 0 // Would be calculated\n        },\n        systemPerformance: {\n          memoryUsage: metrics.memoryUsage,\n          cpuUsage: 0, // Would be measured\n          networkLatency: 0, // Would be measured\n          errorRate: metrics.errorRate\n        },\n        qualityMetrics: {\n          clinicalAccuracy: true, // Would be validated\n          complianceAdherence: true, // Would be checked\n          userSafetyMaintained: true, // Would be verified\n          professionalStandardsMet: true // Would be assessed\n        }\n      };\n\n      await this.updateCrisisData(packageId, 'performance_metric', performanceData);\n\n    } catch (error) {\n      console.error('ðŸš¨ PERFORMANCE METRICS CAPTURE ERROR:', error);\n    }\n  }\n\n  /**\n   * FOLLOW-UP DATA MANAGEMENT\n   * Tracks professional follow-up attempts and outcomes\n   */\n  public async recordFollowUpAttempt(\n    packageId: string,\n    attempt: {\n      method: 'phone' | 'email' | 'text' | 'in_person';\n      successful: boolean;\n      durationMs?: number;\n      outcome: string;\n      nextSteps: string[];\n    }\n  ): Promise<void> {\n    try {\n      const followUpAttempt = {\n        attemptId: `attempt_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        attemptTime: Date.now(),\n        ...attempt\n      };\n\n      await this.updateCrisisData(packageId, 'follow_up', followUpAttempt);\n\n      // Check compliance requirements\n      await this.checkFollowUpCompliance(packageId);\n\n    } catch (error) {\n      console.error('ðŸš¨ FOLLOW-UP RECORDING ERROR:', error);\n    }\n  }\n\n  /**\n   * AUDIT TRAIL MANAGEMENT\n   * Comprehensive audit logging for compliance\n   */\n  public async logAuditEvent(\n    packageId: string,\n    eventType: string,\n    details: any,\n    severity: 'info' | 'warning' | 'error' | 'critical' = 'info'\n  ): Promise<void> {\n    try {\n      const auditEvent = {\n        eventTime: Date.now(),\n        eventType,\n        component: 'CrisisDataManagement',\n        details: typeof details === 'string' ? details : JSON.stringify(details),\n        severity\n      };\n\n      // Store in audit trail\n      const existingTrail = this.auditTrail.get(packageId) || [];\n      existingTrail.push(auditEvent);\n      this.auditTrail.set(packageId, existingTrail);\n\n      // Update data package\n      await this.updateCrisisData(packageId, 'audit_event', auditEvent);\n\n      // Store audit event separately for compliance\n      await this.storeAuditEvent(packageId, auditEvent);\n\n    } catch (error) {\n      console.error('ðŸš¨ AUDIT EVENT LOGGING ERROR:', error);\n    }\n  }\n\n  /**\n   * DATA PACKAGE CREATION\n   */\n  private async createCrisisDataPackage(\n    detection: CrisisDetection,\n    intervention: CrisisIntervention,\n    additionalContext?: any\n  ): Promise<CrisisDataPackage> {\n    const packageId = `crisis_data_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n    const dataPackage: CrisisDataPackage = {\n      packageId,\n      crisisEpisodeId: detection.id,\n      userId: detection.userId,\n      createdAt: Date.now(),\n      updatedAt: Date.now(),\n      version: 1,\n      detection: await this.createDetectionData(detection),\n      intervention: await this.createInterventionData(intervention),\n      performance: this.createInitialPerformanceData(),\n      followUp: this.createInitialFollowUpData(),\n      audit: this.createInitialAuditData(),\n      compliance: this.createInitialComplianceData(),\n      checksum: '',\n      encrypted: this.encryptionEnabled\n    };\n\n    // Calculate checksum\n    dataPackage.checksum = await this.calculateChecksum(dataPackage);\n\n    return dataPackage;\n  }\n\n  private async createDetectionData(detection: CrisisDetection): Promise<CrisisDetectionData> {\n    return {\n      detection,\n      assessmentResponses: detection.context.triggeringAnswers.map(answer => ({\n        questionId: answer.questionId,\n        response: answer.response,\n        timestamp: answer.timestamp,\n        responseTimeMs: 0 // Would be measured\n      })),\n      assessmentScores: {\n        // Would be populated based on assessment type\n      },\n      detectionTiming: {\n        assessmentStartTime: detection.timestamp - 30000, // Estimate\n        detectionTriggeredAt: detection.timestamp,\n        detectionCompleteAt: detection.timestamp + detection.detectionResponseTimeMs,\n        totalDetectionTimeMs: detection.detectionResponseTimeMs\n      },\n      clinicalValidation: {\n        thresholdsValidated: true,\n        scoringAccuracy: true,\n        clinicalFlags: []\n      }\n    };\n  }\n\n  private async createInterventionData(intervention: CrisisIntervention): Promise<CrisisInterventionData> {\n    return {\n      intervention,\n      workflowExecution: {\n        workflowType: intervention.detection.severityLevel,\n        stepsExecuted: [],\n        totalWorkflowTimeMs: 0,\n        workflowStatus: 'completed'\n      },\n      userInteractions: {\n        alertsDisplayed: [],\n        resourcesAccessed: [],\n        contactAttempts: []\n      },\n      safetyMeasures: {\n        safetyAssessmentCompleted: false,\n        safetyPlanActivated: false,\n        professionalContactRecommended: true,\n        immediateSupervisionRequired: intervention.detection.severityLevel === 'emergency'\n      }\n    };\n  }\n\n  private createInitialPerformanceData(): CrisisPerformanceData {\n    return {\n      detectionPerformance: {\n        detectionTimeMs: 0,\n        thresholdValidation: false,\n        accuracyScore: 0,\n        falsePositiveRisk: 0\n      },\n      interventionPerformance: {\n        interventionDisplayTimeMs: 0,\n        resourceAccessTimeMs: 0,\n        workflowCompletionTimeMs: 0,\n        userEngagementScore: 0\n      },\n      systemPerformance: {\n        memoryUsage: 0,\n        cpuUsage: 0,\n        networkLatency: 0,\n        errorRate: 0\n      },\n      qualityMetrics: {\n        clinicalAccuracy: false,\n        complianceAdherence: false,\n        userSafetyMaintained: false,\n        professionalStandardsMet: false\n      }\n    };\n  }\n\n  private createInitialFollowUpData(): CrisisFollowUpData {\n    return {\n      followUpScheduled: {\n        scheduledAt: Date.now() + (24 * 60 * 60 * 1000), // 24 hours\n        urgency: 'within_24h',\n        type: 'clinical_assessment',\n        professionalType: 'crisis_counselor'\n      },\n      followUpAttempts: [],\n      followUpOutcomes: {\n        completed: false,\n        treatmentPlanUpdated: false,\n        ongoingMonitoringRequired: true\n      },\n      complianceTracking: {\n        mandatoryFollowUpMet: false,\n        timeframeCompliance: false,\n        documentationComplete: false,\n        regulatoryRequirementsMet: false\n      }\n    };\n  }\n\n  private createInitialAuditData(): CrisisAuditData {\n    return {\n      dataAccess: [],\n      systemEvents: [],\n      complianceEvents: [],\n      dataIntegrity: {\n        checksumValidated: false,\n        encryptionVerified: false,\n        backupCompleted: false,\n        lastIntegrityCheck: Date.now()\n      }\n    };\n  }\n\n  private createInitialComplianceData(): CrisisComplianceData {\n    return {\n      clinicalStandards: {\n        standardOfCareMet: false,\n        clinicalGuidelinesFollowed: [],\n        professionalRecommendationsMade: false,\n        documentationComplete: false\n      },\n      legalRequirements: {\n        mandatoryReportingCompliance: false,\n        consentRequirements: true, // Assume consent obtained\n        privacyProtectionMaintained: true,\n        recordRetentionCompliance: true\n      },\n      regulatoryCompliance: {\n        hipaaCompliance: true,\n        stateRegulationsFollowed: true,\n        federalRequirementsMet: true,\n        industryStandardsAdhered: true\n      },\n      qualityAssurance: {\n        crisisProtocolFollowed: true,\n        performanceThresholdsMet: false,\n        userSafetyPrioritized: true,\n        continuousImprovementData: []\n      }\n    };\n  }\n\n  /**\n   * DATA STORAGE AND RETRIEVAL\n   */\n  private async storeCrisisDataPackage(dataPackage: CrisisDataPackage): Promise<void> {\n    try {\n      const storageKey = `${CRISIS_DATA_CONFIG.ENCRYPTION_KEY_PREFIX}${dataPackage.packageId}`;\n\n      if (dataPackage.encrypted) {\n        await SecureStore.setItemAsync(storageKey, JSON.stringify(dataPackage));\n      } else {\n        await AsyncStorage.setItem(storageKey, JSON.stringify(dataPackage));\n      }\n\n      // Store in memory cache\n      this.dataPackages.set(dataPackage.packageId, dataPackage);\n\n    } catch (error) {\n      console.error('ðŸš¨ CRISIS DATA STORAGE ERROR:', error);\n      throw error;\n    }\n  }\n\n  private async retrieveCrisisDataPackage(packageId: string): Promise<CrisisDataPackage | null> {\n    try {\n      // Check memory cache first\n      const cached = this.dataPackages.get(packageId);\n      if (cached) {\n        return cached;\n      }\n\n      // Retrieve from storage\n      const storageKey = `${CRISIS_DATA_CONFIG.ENCRYPTION_KEY_PREFIX}${packageId}`;\n      const storedData = await SecureStore.getItemAsync(storageKey) ||\n                        await AsyncStorage.getItem(storageKey);\n\n      if (!storedData) {\n        return null;\n      }\n\n      const dataPackage = JSON.parse(storedData) as CrisisDataPackage;\n\n      // Cache in memory\n      this.dataPackages.set(packageId, dataPackage);\n\n      return dataPackage;\n\n    } catch (error) {\n      console.error('ðŸš¨ CRISIS DATA RETRIEVAL ERROR:', error);\n      return null;\n    }\n  }\n\n  /**\n   * UTILITY METHODS\n   */\n  private applyDataUpdate(\n    dataPackage: CrisisDataPackage,\n    updateType: string,\n    updateData: any\n  ): void {\n    switch (updateType) {\n      case 'intervention_action':\n        // Update intervention data\n        break;\n      case 'performance_metric':\n        dataPackage.performance = { ...dataPackage.performance, ...updateData };\n        break;\n      case 'follow_up':\n        dataPackage.followUp.followUpAttempts.push(updateData);\n        break;\n      case 'audit_event':\n        dataPackage.audit.systemEvents.push(updateData);\n        break;\n    }\n  }\n\n  private async validateDataPackage(dataPackage: CrisisDataPackage): Promise<boolean> {\n    // Validate required fields\n    if (!dataPackage.packageId || !dataPackage.crisisEpisodeId || !dataPackage.userId) {\n      throw new Error('Missing required data package fields');\n    }\n\n    // Validate data size\n    const packageSize = JSON.stringify(dataPackage).length;\n    if (packageSize > CRISIS_DATA_CONFIG.MAX_DATA_PACKAGE_SIZE) {\n      throw new Error(`Data package too large: ${packageSize} bytes`);\n    }\n\n    return true;\n  }\n\n  private async calculateChecksum(dataPackage: CrisisDataPackage): Promise<string> {\n    // Simple checksum calculation (would use proper hashing in production)\n    const dataString = JSON.stringify({\n      ...dataPackage,\n      checksum: undefined // Exclude checksum from calculation\n    });\n\n    return btoa(dataString).substring(0, 32);\n  }\n\n  private calculateAccuracyScore(metrics: any): number {\n    // Calculate accuracy based on performance metrics\n    return metrics.detectionTimeMs <= 200 ? 1.0 : 0.8;\n  }\n\n  private assessFalsePositiveRisk(metrics: any): number {\n    // Assess false positive risk\n    return 0.1; // Low risk by default\n  }\n\n  private async checkFollowUpCompliance(packageId: string): Promise<void> {\n    // Check if follow-up meets compliance requirements\n    // Implementation would verify timeframes and documentation\n  }\n\n  private async storeAuditEvent(packageId: string, auditEvent: any): Promise<void> {\n    try {\n      const auditKey = `${CRISIS_DATA_CONFIG.AUDIT_KEY_PREFIX}${packageId}_${Date.now()}`;\n      await AsyncStorage.setItem(auditKey, JSON.stringify(auditEvent));\n    } catch (error) {\n      console.error('ðŸš¨ AUDIT EVENT STORAGE ERROR:', error);\n    }\n  }\n\n  private async scheduleDataBackup(packageId: string): Promise<void> {\n    // Schedule backup of crisis data\n    // Implementation would use background tasks\n  }\n\n  /**\n   * LOGGING METHODS\n   */\n  private async logDataCapture(dataPackage: CrisisDataPackage, startTime: number): Promise<void> {\n    const captureTime = performance.now() - startTime;\n    await this.logAuditEvent(\n      dataPackage.packageId,\n      'data_capture_complete',\n      { captureTimeMs: captureTime, packageSize: JSON.stringify(dataPackage).length },\n      'info'\n    );\n  }\n\n  private async logDataCaptureError(crisisId: string, error: any): Promise<void> {\n    try {\n      await AsyncStorage.setItem(\n        `crisis_data_error_${Date.now()}`,\n        JSON.stringify({\n          crisisId,\n          error: error.message,\n          timestamp: Date.now(),\n          source: 'CrisisDataManagement'\n        })\n      );\n    } catch (logError) {\n      console.error('Failed to log data capture error:', logError);\n    }\n  }\n\n  private async logDataUpdate(\n    packageId: string,\n    updateType: string,\n    startTime: number\n  ): Promise<void> {\n    const updateTime = performance.now() - startTime;\n    await this.logAuditEvent(\n      packageId,\n      'data_update_complete',\n      { updateType, updateTimeMs: updateTime },\n      'info'\n    );\n  }\n\n  private async logDataUpdateError(\n    packageId: string,\n    updateType: string,\n    error: any\n  ): Promise<void> {\n    await this.logAuditEvent(\n      packageId,\n      'data_update_error',\n      { updateType, error: error.message },\n      'error'\n    );\n  }\n\n  /**\n   * PUBLIC API METHODS\n   */\n  public async exportCrisisData(packageId: string): Promise<string> {\n    const dataPackage = await this.retrieveCrisisDataPackage(packageId);\n    if (!dataPackage) {\n      throw new Error(`Crisis data package not found: ${packageId}`);\n    }\n\n    return JSON.stringify(dataPackage, null, 2);\n  }\n\n  public async getCrisisDataSummary(packageId: string): Promise<any> {\n    const dataPackage = await this.retrieveCrisisDataPackage(packageId);\n    if (!dataPackage) {\n      return null;\n    }\n\n    return {\n      packageId: dataPackage.packageId,\n      crisisEpisodeId: dataPackage.crisisEpisodeId,\n      createdAt: dataPackage.createdAt,\n      severity: dataPackage.detection.detection.severityLevel,\n      interventionStatus: dataPackage.intervention.intervention.status,\n      followUpRequired: dataPackage.followUp.followUpScheduled.urgency,\n      complianceStatus: dataPackage.compliance.qualityAssurance.crisisProtocolFollowed\n    };\n  }\n\n  public getDataPackageCount(): number {\n    return this.dataPackages.size;\n  }\n\n  public async cleanupExpiredData(): Promise<number> {\n    const currentTime = Date.now();\n    let cleanedCount = 0;\n\n    for (const [packageId, dataPackage] of this.dataPackages.entries()) {\n      if (currentTime - dataPackage.createdAt > CRISIS_DATA_CONFIG.RETENTION_PERIOD_MS) {\n        // Archive before deletion in production\n        this.dataPackages.delete(packageId);\n        cleanedCount++;\n      }\n    }\n\n    return cleanedCount;\n  }\n}\n\n// Export singleton instance\nexport default CrisisDataManagement.getInstance();"],"mappings":"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","ignoreList":[]}