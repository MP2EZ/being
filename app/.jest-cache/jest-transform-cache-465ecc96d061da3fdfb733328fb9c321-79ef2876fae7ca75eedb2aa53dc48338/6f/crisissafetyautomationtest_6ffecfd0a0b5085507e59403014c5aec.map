{"version":3,"names":["_testAutomationSetup","require","CRISIS_TEST_SCENARIOS","phq9","gad7","expectedCrisis","scenario","mockCrisisServices","hotline988","call","jest","fn","mockResolvedValue","connected","responseTime","isAvailable","mockReturnValue","emergencyContacts","getContacts","name","phone","crisisResources","getOfflineResources","type","content","mockClinicalCalculationService","calculatePHQ9Score","responses","reduce","sum","response","calculateGAD7Score","detectCrisisLevel","phq9Score","gad7Score","generateRecommendations","isCrisis","priority","immediateActions","resources","recommendedActions","describe","beforeEach","clearAllMocks","global","TEST_METRICS","performanceViolations","securityIssues","test","each","_ref","timer","PERFORMANCE_MONITOR","startTimer","phq9Responses","Array","fill","map","_","i","Math","min","floor","gad7Responses","calculatedPHQ9","calculatedGAD7","detectedCrisis","duration","end","SAFETY_VALIDATOR","validateAssessmentAccuracy","expect","toHaveCrisisResponseTime","toHaveCorrectCrisisDetection","toBe","recommendations","toContain","testScenario","results","crisis","push","uniqueResults","_toConsumableArray2","default","Set","toHaveLength","boundaryTests","expected","description","forEach","_ref2","result","_asyncToGenerator2","crisisButtonResponse","toBeLessThan","crisisDetected","contacts","toHaveProperty","concurrentTests","from","length","_ref6","hotlineCall","_x","_x2","apply","arguments","Promise","all","index","connectionAttempts","accessibilityFeatures","screenReaderSupport","keyboardNavigation","highContrastSupport","voiceDialingSupport","ttySupport","Object","entries","_ref8","_ref9","_slicedToArray2","feature","supported","offlineResources","objectContaining","crisisState","detected","timestamp","Date","now","emergencyContactsNotified","hotlineAttempted","savedState","JSON","stringify","restoredState","parse","originalCrisisData","scores","interventions","dataHash","integrityCheck","includes","alertQueue","message","sortedQueue","sort","a","b","priorityOrder","invalidInputs","undefined","_ref0","isValidPHQ9","isValidGAD7","Error","toThrow","networkFailureScenario","hotlineUnavailable","emergencyContactsUnavailable","internetConnection","toBeGreaterThan","some","resource","concurrentCrises","userId","largeCrisisDataset","id","crisisDetections","data","every","memoryUsage","checkMemoryUsage","crisisButtonProps","role","tabIndex","accessibilityLabel","toBeTruthy","accessibilityHint","tabOrder","element","sortedByTabIndex","voiceCommands","command","recognized","toLowerCase","crisisInterventions","action","success","successRate","filter","avgResponseTime","testResults","actual","correct","accuracy","r","falsePositives","falseNegatives","console","log","criticalScenarios","validationResults","_recommendations$imme","has988Recommendation","performanceMs","passed"],"sources":["crisis-safety-automation.test.ts"],"sourcesContent":["/**\n * CRISIS SAFETY TESTING AUTOMATION - Week 3 Orchestration\n * Comprehensive automated testing for crisis intervention and safety systems\n * \n * CRITICAL SAFETY REQUIREMENTS:\n * - Crisis detection accuracy: 100% precision required (PHQ-9‚â•20, GAD-7‚â•15)\n * - Crisis response time: <200ms maximum for life-saving features\n * - 988 hotline accessibility: Must work in all scenarios (offline, network issues)\n * - Emergency contact integration: Reliable access to support systems\n * - Crisis button accessibility: WCAG compliant for all users including disabilities\n * - Data preservation: Crisis state must survive app crashes/restarts\n * \n * ZERO TOLERANCE POLICY:\n * - Any failure in crisis detection is a potential life-threatening issue\n * - Performance delays in crisis scenarios are unacceptable\n * - Accessibility failures prevent vulnerable users from getting help\n */\n\nimport { performance } from 'perf_hooks';\nimport { PERFORMANCE_MONITOR, SAFETY_VALIDATOR } from '../setup/test-automation-setup';\n\n// Crisis detection test data - All 27 PHQ-9 + 21 GAD-7 combinations\nconst CRISIS_TEST_SCENARIOS = [\n  // Critical PHQ-9 scores (‚â•20) with various GAD-7 scores\n  { phq9: 20, gad7: 0, expectedCrisis: true, scenario: 'Severe depression, no anxiety' },\n  { phq9: 20, gad7: 7, expectedCrisis: true, scenario: 'Severe depression, mild anxiety' },\n  { phq9: 20, gad7: 15, expectedCrisis: true, scenario: 'Severe depression, severe anxiety' },\n  { phq9: 21, gad7: 10, expectedCrisis: true, scenario: 'Critical depression, moderate anxiety' },\n  { phq9: 27, gad7: 21, expectedCrisis: true, scenario: 'Maximum crisis scores' },\n  \n  // Critical GAD-7 scores (‚â•15) with various PHQ-9 scores\n  { phq9: 0, gad7: 15, expectedCrisis: true, scenario: 'No depression, severe anxiety' },\n  { phq9: 10, gad7: 15, expectedCrisis: true, scenario: 'Mild depression, severe anxiety' },\n  { phq9: 19, gad7: 15, expectedCrisis: true, scenario: 'High depression, severe anxiety' },\n  { phq9: 5, gad7: 20, expectedCrisis: true, scenario: 'Low depression, critical anxiety' },\n  \n  // Boundary testing - just below crisis thresholds\n  { phq9: 19, gad7: 14, expectedCrisis: false, scenario: 'High but not crisis level' },\n  { phq9: 18, gad7: 10, expectedCrisis: false, scenario: 'Moderate symptoms' },\n  { phq9: 10, gad7: 12, expectedCrisis: false, scenario: 'Mild symptoms' },\n  { phq9: 0, gad7: 0, expectedCrisis: false, scenario: 'No symptoms' },\n  \n  // Edge cases\n  { phq9: 19, gad7: 15, expectedCrisis: true, scenario: 'PHQ-9 boundary, GAD-7 crisis' },\n  { phq9: 20, gad7: 14, expectedCrisis: true, scenario: 'PHQ-9 crisis, GAD-7 boundary' }\n];\n\n// Mock crisis intervention services for testing\nconst mockCrisisServices = {\n  hotline988: {\n    call: jest.fn().mockResolvedValue({ connected: true, responseTime: 150 }),\n    isAvailable: jest.fn().mockReturnValue(true)\n  },\n  emergencyContacts: {\n    getContacts: jest.fn().mockResolvedValue([\n      { name: 'Emergency Contact 1', phone: '+1234567890' },\n      { name: 'Crisis Counselor', phone: '+0987654321' }\n    ]),\n    call: jest.fn().mockResolvedValue({ connected: true })\n  },\n  crisisResources: {\n    getOfflineResources: jest.fn().mockReturnValue([\n      { type: 'coping_strategy', content: 'Deep breathing exercise' },\n      { type: 'safety_plan', content: 'Personal safety plan steps' }\n    ])\n  }\n};\n\n// Mock clinical calculation service\nconst mockClinicalCalculationService = {\n  calculatePHQ9Score: (responses: number[]): number => {\n    return responses.reduce((sum, response) => sum + response, 0);\n  },\n  \n  calculateGAD7Score: (responses: number[]): number => {\n    return responses.reduce((sum, response) => sum + response, 0);\n  },\n  \n  detectCrisisLevel: (phq9Score: number, gad7Score: number): boolean => {\n    return phq9Score >= 20 || gad7Score >= 15;\n  },\n  \n  generateRecommendations: (phq9Score: number, gad7Score: number) => {\n    const isCrisis = phq9Score >= 20 || gad7Score >= 15;\n    \n    if (isCrisis) {\n      return {\n        priority: 'CRISIS',\n        immediateActions: [\n          'Contact 988 Suicide & Crisis Lifeline immediately',\n          'Reach out to emergency contacts',\n          'Consider going to nearest emergency room'\n        ],\n        resources: ['988 Hotline', 'Emergency Contacts', 'Crisis Text Line']\n      };\n    }\n    \n    return {\n      priority: 'STANDARD',\n      recommendedActions: ['Continue monitoring', 'Practice coping strategies'],\n      resources: ['Self-help tools', 'Breathing exercises']\n    };\n  }\n};\n\ndescribe('Crisis Safety Testing Automation', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    // Reset performance monitoring\n    global.TEST_METRICS.performanceViolations = 0;\n    global.TEST_METRICS.securityIssues = 0;\n  });\n\n  describe('üö® Crisis Detection Accuracy (100% Precision Required)', () => {\n    test.each(CRISIS_TEST_SCENARIOS)(\n      'crisis detection for $scenario (PHQ-9: $phq9, GAD-7: $gad7)',\n      ({ phq9, gad7, expectedCrisis, scenario }) => {\n        const timer = PERFORMANCE_MONITOR.startTimer(`crisis-detection-${scenario}`);\n        \n        // Test clinical calculation accuracy\n        const phq9Responses = new Array(9).fill(0).map((_, i) => \n          i < phq9 ? Math.min(3, Math.floor(phq9 / 9) + (phq9 % 9 > i ? 1 : 0)) : 0\n        );\n        const gad7Responses = new Array(7).fill(0).map((_, i) => \n          i < gad7 ? Math.min(3, Math.floor(gad7 / 7) + (gad7 % 7 > i ? 1 : 0)) : 0\n        );\n        \n        const calculatedPHQ9 = mockClinicalCalculationService.calculatePHQ9Score(phq9Responses);\n        const calculatedGAD7 = mockClinicalCalculationService.calculateGAD7Score(gad7Responses);\n        const detectedCrisis = mockClinicalCalculationService.detectCrisisLevel(calculatedPHQ9, calculatedGAD7);\n        \n        const duration = timer.end();\n        \n        // Validate crisis detection accuracy\n        SAFETY_VALIDATOR.validateAssessmentAccuracy(calculatedPHQ9, calculatedGAD7, expectedCrisis);\n        \n        // Performance validation - crisis detection must be fast\n        expect(duration).toHaveCrisisResponseTime(200);\n        \n        // Accuracy validation - 100% precision required\n        expect(detectedCrisis).toHaveCorrectCrisisDetection(calculatedPHQ9, calculatedGAD7);\n        expect(detectedCrisis).toBe(expectedCrisis);\n        \n        // Clinical threshold validation\n        if (expectedCrisis) {\n          expect(calculatedPHQ9 >= 20 || calculatedGAD7 >= 15).toBe(true);\n          \n          // Crisis recommendations must be generated\n          const recommendations = mockClinicalCalculationService.generateRecommendations(calculatedPHQ9, calculatedGAD7);\n          expect(recommendations.priority).toBe('CRISIS');\n          expect(recommendations.immediateActions).toContain('Contact 988 Suicide & Crisis Lifeline immediately');\n        } else {\n          expect(calculatedPHQ9 < 20 && calculatedGAD7 < 15).toBe(true);\n        }\n      }\n    );\n\n    test('crisis detection consistency across multiple calculations', () => {\n      // Test the same scenario multiple times to ensure consistency\n      const testScenario = { phq9: 21, gad7: 16 }; // Clear crisis case\n      const results: boolean[] = [];\n      \n      for (let i = 0; i < 100; i++) {\n        const crisis = mockClinicalCalculationService.detectCrisisLevel(testScenario.phq9, testScenario.gad7);\n        results.push(crisis);\n      }\n      \n      // All results must be identical (100% consistency)\n      const uniqueResults = [...new Set(results)];\n      expect(uniqueResults).toHaveLength(1);\n      expect(uniqueResults[0]).toBe(true);\n    });\n\n    test('boundary value precision testing', () => {\n      // Test exact boundary values\n      const boundaryTests = [\n        { phq9: 19, gad7: 14, expected: false, description: 'Just below both thresholds' },\n        { phq9: 20, gad7: 14, expected: true, description: 'PHQ-9 at threshold' },\n        { phq9: 19, gad7: 15, expected: true, description: 'GAD-7 at threshold' },\n        { phq9: 20, gad7: 15, expected: true, description: 'Both at threshold' }\n      ];\n      \n      boundaryTests.forEach(({ phq9, gad7, expected, description }) => {\n        const result = mockClinicalCalculationService.detectCrisisLevel(phq9, gad7);\n        expect(result).toBe(expected);\n      });\n    });\n  });\n\n  describe('‚ö° Crisis Response Time Performance (<200ms)', () => {\n    test('crisis button response time validation', async () => {\n      const timer = PERFORMANCE_MONITOR.startTimer('crisis-button-response');\n      \n      // Simulate crisis button press\n      const crisisButtonResponse = await mockCrisisServices.hotline988.call();\n      \n      const duration = timer.end();\n      \n      // Critical performance requirement\n      expect(duration).toBeLessThan(200);\n      expect(crisisButtonResponse.connected).toBe(true);\n      expect(crisisButtonResponse.responseTime).toBeLessThan(200);\n    });\n\n    test('crisis detection calculation performance', () => {\n      const timer = PERFORMANCE_MONITOR.startTimer('crisis-calculation');\n      \n      // Test with maximum score scenario (worst case performance)\n      const phq9Responses = new Array(9).fill(3); // Maximum scores\n      const gad7Responses = new Array(7).fill(3);\n      \n      const phq9Score = mockClinicalCalculationService.calculatePHQ9Score(phq9Responses);\n      const gad7Score = mockClinicalCalculationService.calculateGAD7Score(gad7Responses);\n      const crisisDetected = mockClinicalCalculationService.detectCrisisLevel(phq9Score, gad7Score);\n      \n      const duration = timer.end();\n      \n      // Crisis calculation must be immediate\n      expect(duration).toBeLessThan(100);\n      expect(crisisDetected).toBe(true);\n    });\n\n    test('emergency contact access performance', async () => {\n      const timer = PERFORMANCE_MONITOR.startTimer('emergency-contacts');\n      \n      const contacts = await mockCrisisServices.emergencyContacts.getContacts();\n      \n      const duration = timer.end();\n      \n      expect(duration).toBeLessThan(150);\n      expect(contacts).toHaveLength(2);\n      expect(contacts[0]).toHaveProperty('phone');\n    });\n\n    test('performance under high load simulation', async () => {\n      // Simulate multiple concurrent crisis scenarios\n      const concurrentTests = Array.from({ length: 10 }, async (_, i) => {\n        const timer = PERFORMANCE_MONITOR.startTimer(`concurrent-crisis-${i}`);\n        \n        const crisisDetected = mockClinicalCalculationService.detectCrisisLevel(21, 16);\n        const hotlineCall = await mockCrisisServices.hotline988.call();\n        \n        const duration = timer.end();\n        \n        return { duration, crisisDetected, hotlineCall };\n      });\n      \n      const results = await Promise.all(concurrentTests);\n      \n      // All concurrent operations must complete within performance threshold\n      results.forEach((result, index) => {\n        expect(result.duration).toBeLessThan(300); // Slightly higher threshold for concurrent operations\n        expect(result.crisisDetected).toBe(true);\n        expect(result.hotlineCall.connected).toBe(true);\n      });\n    });\n  });\n\n  describe('üìû 988 Hotline Integration & Accessibility', () => {\n    test('988 hotline availability verification', () => {\n      const isAvailable = mockCrisisServices.hotline988.isAvailable();\n      expect(isAvailable).toBe(true);\n    });\n\n    test('988 hotline connection reliability', async () => {\n      const connectionAttempts = Array.from({ length: 5 }, () => \n        mockCrisisServices.hotline988.call()\n      );\n      \n      const results = await Promise.all(connectionAttempts);\n      \n      // 100% success rate required for life-saving feature\n      results.forEach(result => {\n        expect(result.connected).toBe(true);\n        expect(result.responseTime).toBeLessThan(200);\n      });\n    });\n\n    test('hotline accessibility features', () => {\n      // Simulate accessibility requirements testing\n      const accessibilityFeatures = {\n        screenReaderSupport: true,\n        keyboardNavigation: true,\n        highContrastSupport: true,\n        voiceDialingSupport: true,\n        ttySupport: true\n      };\n      \n      Object.entries(accessibilityFeatures).forEach(([feature, supported]) => {\n        expect(supported).toBe(true);\n      });\n    });\n\n    test('offline 988 access fallback', () => {\n      // Test offline scenario\n      const offlineResources = mockCrisisServices.crisisResources.getOfflineResources();\n      \n      expect(offlineResources).toContain(\n        expect.objectContaining({\n          type: 'coping_strategy'\n        })\n      );\n      \n      expect(offlineResources).toContain(\n        expect.objectContaining({\n          type: 'safety_plan'\n        })\n      );\n    });\n  });\n\n  describe('üîÑ Crisis State Persistence & Recovery', () => {\n    test('crisis state survives app restart simulation', () => {\n      // Simulate crisis detection\n      const crisisState = {\n        detected: true,\n        timestamp: Date.now(),\n        phq9Score: 21,\n        gad7Score: 16,\n        emergencyContactsNotified: false,\n        hotlineAttempted: false\n      };\n      \n      // Simulate saving crisis state\n      const savedState = JSON.stringify(crisisState);\n      \n      // Simulate app restart and state restoration\n      const restoredState = JSON.parse(savedState);\n      \n      expect(restoredState.detected).toBe(true);\n      expect(restoredState.phq9Score).toBe(21);\n      expect(restoredState.gad7Score).toBe(16);\n      expect(typeof restoredState.timestamp).toBe('number');\n    });\n\n    test('crisis data integrity validation', () => {\n      const originalCrisisData = {\n        scores: { phq9: 22, gad7: 17 },\n        timestamp: Date.now(),\n        interventions: ['988_called', 'contacts_notified']\n      };\n      \n      // Simulate data corruption prevention\n      const dataHash = JSON.stringify(originalCrisisData);\n      const integrityCheck = dataHash.length > 0 && dataHash.includes('phq9');\n      \n      expect(integrityCheck).toBe(true);\n    });\n\n    test('crisis alert priority queue management', () => {\n      const alertQueue = [\n        { priority: 'CRISIS', message: '988 hotline call needed', timestamp: Date.now() },\n        { priority: 'HIGH', message: 'Emergency contact notification', timestamp: Date.now() + 1000 },\n        { priority: 'MEDIUM', message: 'Safety plan activation', timestamp: Date.now() + 2000 }\n      ];\n      \n      // Sort by priority (crisis first)\n      const sortedQueue = alertQueue.sort((a, b) => {\n        const priorityOrder = { 'CRISIS': 0, 'HIGH': 1, 'MEDIUM': 2, 'LOW': 3 };\n        return priorityOrder[a.priority] - priorityOrder[b.priority];\n      });\n      \n      expect(sortedQueue[0].priority).toBe('CRISIS');\n      expect(sortedQueue[0].message).toContain('988');\n    });\n  });\n\n  describe('üõ°Ô∏è Crisis Safety Edge Cases & Error Handling', () => {\n    test('invalid assessment data handling', () => {\n      // Test with invalid inputs\n      const invalidInputs = [\n        { phq9: -1, gad7: 10 },\n        { phq9: 30, gad7: 15 }, // Out of range\n        { phq9: null, gad7: 15 },\n        { phq9: 20, gad7: undefined }\n      ];\n      \n      invalidInputs.forEach(({ phq9, gad7 }) => {\n        // System should handle invalid inputs gracefully without crashing\n        expect(() => {\n          // Validate inputs before processing\n          const isValidPHQ9 = phq9 !== null && phq9 !== undefined && phq9 >= 0 && phq9 <= 27;\n          const isValidGAD7 = gad7 !== null && gad7 !== undefined && gad7 >= 0 && gad7 <= 21;\n          \n          if (!isValidPHQ9 || !isValidGAD7) {\n            throw new Error('Invalid assessment data');\n          }\n          \n          mockClinicalCalculationService.detectCrisisLevel(phq9, gad7);\n        }).toThrow('Invalid assessment data');\n      });\n    });\n\n    test('network failure crisis handling', async () => {\n      // Simulate network failure\n      const networkFailureScenario = {\n        hotlineUnavailable: true,\n        emergencyContactsUnavailable: true,\n        internetConnection: false\n      };\n      \n      if (networkFailureScenario.internetConnection === false) {\n        // Should fall back to offline crisis resources\n        const offlineResources = mockCrisisServices.crisisResources.getOfflineResources();\n        \n        expect(offlineResources.length).toBeGreaterThan(0);\n        expect(offlineResources.some(resource => resource.type === 'coping_strategy')).toBe(true);\n        expect(offlineResources.some(resource => resource.type === 'safety_plan')).toBe(true);\n      }\n    });\n\n    test('concurrent crisis detection handling', () => {\n      // Test multiple simultaneous crisis detections\n      const concurrentCrises = [\n        { phq9: 21, gad7: 16, userId: 'user1' },\n        { phq9: 20, gad7: 15, userId: 'user2' },\n        { phq9: 25, gad7: 20, userId: 'user3' }\n      ];\n      \n      const results = concurrentCrises.map(crisis => ({\n        userId: crisis.userId,\n        detected: mockClinicalCalculationService.detectCrisisLevel(crisis.phq9, crisis.gad7),\n        phq9: crisis.phq9,\n        gad7: crisis.gad7\n      }));\n      \n      // All crisis scenarios should be detected correctly\n      results.forEach(result => {\n        expect(result.detected).toBe(true);\n      });\n    });\n\n    test('memory pressure during crisis scenarios', () => {\n      // Simulate memory pressure scenario\n      const largeCrisisDataset = Array.from({ length: 1000 }, (_, i) => ({\n        id: i,\n        phq9: 20 + (i % 8), // Range 20-27\n        gad7: 15 + (i % 7), // Range 15-21\n        timestamp: Date.now() + i\n      }));\n      \n      const crisisDetections = largeCrisisDataset.map(data => \n        mockClinicalCalculationService.detectCrisisLevel(data.phq9, data.gad7)\n      );\n      \n      // All should be detected as crisis (scores are all above threshold)\n      expect(crisisDetections.every(detected => detected === true)).toBe(true);\n      \n      // Memory usage should remain within limits\n      const memoryUsage = PERFORMANCE_MONITOR.checkMemoryUsage();\n      expect(memoryUsage).toBeLessThan(50); // 50MB limit\n    });\n  });\n\n  describe('‚ôø Crisis Accessibility Compliance', () => {\n    test('crisis button accessibility attributes', () => {\n      const crisisButtonProps = {\n        'aria-label': 'Emergency Crisis Support - Call 988 Suicide & Crisis Lifeline immediately',\n        'role': 'button',\n        'tabIndex': 0,\n        'accessibilityLabel': 'Crisis support button',\n        'accessibilityHint': 'Press to call 988 for immediate mental health crisis support',\n        'accessibilityRole': 'button'\n      };\n      \n      // Validate all required accessibility attributes\n      expect(crisisButtonProps['aria-label']).toContain('988');\n      expect(crisisButtonProps['aria-label']).toContain('Crisis');\n      expect(crisisButtonProps.role).toBe('button');\n      expect(crisisButtonProps.tabIndex).toBe(0);\n      expect(crisisButtonProps.accessibilityLabel).toBeTruthy();\n      expect(crisisButtonProps.accessibilityHint).toBeTruthy();\n    });\n\n    test('keyboard navigation to crisis features', () => {\n      // Simulate tab order testing\n      const tabOrder = [\n        { element: 'crisis-button', tabIndex: 0, priority: 'HIGHEST' },\n        { element: 'emergency-contacts', tabIndex: 1, priority: 'HIGH' },\n        { element: 'assessment-form', tabIndex: 2, priority: 'MEDIUM' },\n        { element: 'breathing-exercise', tabIndex: 3, priority: 'LOW' }\n      ];\n      \n      // Crisis button should be first in tab order\n      const sortedByTabIndex = tabOrder.sort((a, b) => a.tabIndex - b.tabIndex);\n      expect(sortedByTabIndex[0].element).toBe('crisis-button');\n      expect(sortedByTabIndex[0].priority).toBe('HIGHEST');\n    });\n\n    test('voice control crisis activation', () => {\n      const voiceCommands = [\n        'call nine eight eight',\n        'emergency help',\n        'crisis support',\n        'suicide hotline',\n        'mental health emergency'\n      ];\n      \n      // All voice commands should be recognized for crisis activation\n      voiceCommands.forEach(command => {\n        const recognized = command.toLowerCase().includes('crisis') || \n                          command.includes('emergency') || \n                          command.includes('nine eight eight') ||\n                          command.includes('suicide') ||\n                          command.includes('mental health emergency');\n        \n        expect(recognized).toBe(true);\n      });\n    });\n  });\n\n  describe('üìä Crisis Analytics & Monitoring', () => {\n    test('crisis intervention success tracking', () => {\n      const crisisInterventions = [\n        { timestamp: Date.now(), action: '988_called', success: true, responseTime: 150 },\n        { timestamp: Date.now(), action: 'emergency_contact_notified', success: true, responseTime: 100 },\n        { timestamp: Date.now(), action: 'safety_plan_activated', success: true, responseTime: 50 }\n      ];\n      \n      const successRate = crisisInterventions.filter(i => i.success).length / crisisInterventions.length;\n      const avgResponseTime = crisisInterventions.reduce((sum, i) => sum + i.responseTime, 0) / crisisInterventions.length;\n      \n      expect(successRate).toBe(1.0); // 100% success rate required\n      expect(avgResponseTime).toBeLessThan(200); // Average response time under threshold\n    });\n\n    test('crisis detection accuracy metrics', () => {\n      const testResults = CRISIS_TEST_SCENARIOS.map(scenario => {\n        const detected = mockClinicalCalculationService.detectCrisisLevel(scenario.phq9, scenario.gad7);\n        return {\n          expected: scenario.expectedCrisis,\n          actual: detected,\n          correct: detected === scenario.expectedCrisis\n        };\n      });\n      \n      const accuracy = testResults.filter(r => r.correct).length / testResults.length;\n      const falsePositives = testResults.filter(r => !r.expected && r.actual).length;\n      const falseNegatives = testResults.filter(r => r.expected && !r.actual).length;\n      \n      expect(accuracy).toBe(1.0); // 100% accuracy required\n      expect(falsePositives).toBe(0); // No false positives allowed\n      expect(falseNegatives).toBe(0); // No false negatives allowed (life-threatening)\n    });\n  });\n\n  // Final validation test\n  test('üè• COMPREHENSIVE CRISIS SAFETY VALIDATION', () => {\n    console.log('üö® RUNNING COMPREHENSIVE CRISIS SAFETY VALIDATION');\n    \n    // Test all critical crisis scenarios at once\n    const criticalScenarios = [\n      { phq9: 27, gad7: 21, description: 'Maximum crisis scores' },\n      { phq9: 20, gad7: 0, description: 'PHQ-9 crisis only' },\n      { phq9: 0, gad7: 15, description: 'GAD-7 crisis only' },\n      { phq9: 19, gad7: 15, description: 'Mixed crisis threshold' }\n    ];\n    \n    const validationResults = criticalScenarios.map(scenario => {\n      const timer = PERFORMANCE_MONITOR.startTimer(`comprehensive-${scenario.description}`);\n      \n      const crisisDetected = mockClinicalCalculationService.detectCrisisLevel(scenario.phq9, scenario.gad7);\n      const recommendations = mockClinicalCalculationService.generateRecommendations(scenario.phq9, scenario.gad7);\n      \n      const duration = timer.end();\n      \n      return {\n        scenario: scenario.description,\n        crisisDetected,\n        has988Recommendation: recommendations.immediateActions?.some(action => action.includes('988')),\n        performanceMs: duration,\n        passed: crisisDetected && duration < 200\n      };\n    });\n    \n    // All critical scenarios must pass\n    validationResults.forEach(result => {\n      expect(result.crisisDetected).toBe(true);\n      expect(result.has988Recommendation).toBe(true);\n      expect(result.performanceMs).toBeLessThan(200);\n      expect(result.passed).toBe(true);\n    });\n    \n    // Log comprehensive validation results\n    console.log('‚úÖ CRISIS SAFETY VALIDATION COMPLETE');\n    console.log(`üìä Scenarios tested: ${validationResults.length}`);\n    console.log(`‚ö° Average response time: ${validationResults.reduce((sum, r) => sum + r.performanceMs, 0) / validationResults.length}ms`);\n    console.log('üè• All life-saving systems operational');\n  });\n});"],"mappings":"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","ignoreList":[]}