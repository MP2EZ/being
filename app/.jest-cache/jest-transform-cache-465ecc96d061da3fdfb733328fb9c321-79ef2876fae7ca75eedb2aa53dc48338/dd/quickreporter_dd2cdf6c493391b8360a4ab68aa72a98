cfa5022cf7855a336818f743a0a92adb
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var QuickReporter = function () {
  function QuickReporter() {
    (0, _classCallCheck2.default)(this, QuickReporter);
    this.startTime = Date.now();
    this.testCount = 0;
    this.passCount = 0;
    this.failCount = 0;
    this.crisisTests = [];
  }
  return (0, _createClass2.default)(QuickReporter, [{
    key: "onRunStart",
    value: function onRunStart() {
      console.log('‚ö° Quick test mode - Fast feedback enabled\n');
    }
  }, {
    key: "onTestResult",
    value: function onTestResult(test, testResult) {
      var _this = this;
      testResult.testResults.forEach(function (result) {
        _this.testCount++;
        if (result.status === 'passed') {
          _this.passCount++;
          if (_this.isCrisisTest(result.fullName)) {
            console.log(`‚úÖ Crisis: ${result.title}`);
            _this.crisisTests.push({
              name: result.fullName,
              status: 'passed'
            });
          }
        } else {
          _this.failCount++;
          console.log(`‚ùå FAIL: ${result.fullName}`);
          if (_this.isCrisisTest(result.fullName)) {
            console.log(`üö® CRISIS TEST FAILED: ${result.fullName}`);
            _this.crisisTests.push({
              name: result.fullName,
              status: 'failed'
            });
          }
        }
      });
    }
  }, {
    key: "onRunComplete",
    value: function onRunComplete() {
      var duration = Date.now() - this.startTime;
      var successRate = Math.round(this.passCount / this.testCount * 100);
      console.log('\n‚ö° Quick Test Summary');
      console.log('==================');
      console.log(`Duration: ${duration}ms`);
      console.log(`Tests: ${this.passCount}/${this.testCount} passed (${successRate}%)`);
      if (this.crisisTests.length > 0) {
        var crisisPassed = this.crisisTests.filter(function (t) {
          return t.status === 'passed';
        }).length;
        console.log(`Crisis Tests: ${crisisPassed}/${this.crisisTests.length} passed`);
      }
      if (this.failCount === 0) {
        console.log('‚úÖ All quick tests passed!');
      } else {
        console.log(`‚ùå ${this.failCount} test(s) failed`);
      }
      console.log('==================\n');
    }
  }, {
    key: "isCrisisTest",
    value: function isCrisisTest(testName) {
      return /crisis|emergency|988/i.test(testName);
    }
  }]);
}();
module.exports = QuickReporter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJRdWlja1JlcG9ydGVyIiwiX2NsYXNzQ2FsbENoZWNrMiIsImRlZmF1bHQiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwidGVzdENvdW50IiwicGFzc0NvdW50IiwiZmFpbENvdW50IiwiY3Jpc2lzVGVzdHMiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJvblJ1blN0YXJ0IiwiY29uc29sZSIsImxvZyIsIm9uVGVzdFJlc3VsdCIsInRlc3QiLCJ0ZXN0UmVzdWx0IiwiX3RoaXMiLCJ0ZXN0UmVzdWx0cyIsImZvckVhY2giLCJyZXN1bHQiLCJzdGF0dXMiLCJpc0NyaXNpc1Rlc3QiLCJmdWxsTmFtZSIsInRpdGxlIiwicHVzaCIsIm5hbWUiLCJvblJ1bkNvbXBsZXRlIiwiZHVyYXRpb24iLCJzdWNjZXNzUmF0ZSIsIk1hdGgiLCJyb3VuZCIsImxlbmd0aCIsImNyaXNpc1Bhc3NlZCIsImZpbHRlciIsInQiLCJ0ZXN0TmFtZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJxdWljay1yZXBvcnRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFF1aWNrIFRlc3QgUmVwb3J0ZXJcbiAqIE1pbmltYWwsIGZhc3QgZmVlZGJhY2sgZm9yIHJhcGlkIGRldmVsb3BtZW50IGl0ZXJhdGlvblxuICovXG5cbmNsYXNzIFF1aWNrUmVwb3J0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy50ZXN0Q291bnQgPSAwO1xuICAgIHRoaXMucGFzc0NvdW50ID0gMDtcbiAgICB0aGlzLmZhaWxDb3VudCA9IDA7XG4gICAgdGhpcy5jcmlzaXNUZXN0cyA9IFtdO1xuICB9XG5cbiAgb25SdW5TdGFydCgpIHtcbiAgICBjb25zb2xlLmxvZygn4pqhIFF1aWNrIHRlc3QgbW9kZSAtIEZhc3QgZmVlZGJhY2sgZW5hYmxlZFxcbicpO1xuICB9XG5cbiAgb25UZXN0UmVzdWx0KHRlc3QsIHRlc3RSZXN1bHQpIHtcbiAgICB0ZXN0UmVzdWx0LnRlc3RSZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgIHRoaXMudGVzdENvdW50Kys7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAncGFzc2VkJykge1xuICAgICAgICB0aGlzLnBhc3NDb3VudCsrO1xuICAgICAgICAvLyBRdWljayBzdWNjZXNzIGluZGljYXRvciBmb3IgY3Jpc2lzIHRlc3RzXG4gICAgICAgIGlmICh0aGlzLmlzQ3Jpc2lzVGVzdChyZXN1bHQuZnVsbE5hbWUpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBDcmlzaXM6ICR7cmVzdWx0LnRpdGxlfWApO1xuICAgICAgICAgIHRoaXMuY3Jpc2lzVGVzdHMucHVzaCh7IG5hbWU6IHJlc3VsdC5mdWxsTmFtZSwgc3RhdHVzOiAncGFzc2VkJyB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mYWlsQ291bnQrKztcbiAgICAgICAgLy8gSW1tZWRpYXRlIGZhaWx1cmUgZmVlZGJhY2tcbiAgICAgICAgY29uc29sZS5sb2coYOKdjCBGQUlMOiAke3Jlc3VsdC5mdWxsTmFtZX1gKTtcbiAgICAgICAgaWYgKHRoaXMuaXNDcmlzaXNUZXN0KHJlc3VsdC5mdWxsTmFtZSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+aqCBDUklTSVMgVEVTVCBGQUlMRUQ6ICR7cmVzdWx0LmZ1bGxOYW1lfWApO1xuICAgICAgICAgIHRoaXMuY3Jpc2lzVGVzdHMucHVzaCh7IG5hbWU6IHJlc3VsdC5mdWxsTmFtZSwgc3RhdHVzOiAnZmFpbGVkJyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25SdW5Db21wbGV0ZSgpIHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSB0aGlzLnN0YXJ0VGltZTtcbiAgICBjb25zdCBzdWNjZXNzUmF0ZSA9IE1hdGgucm91bmQoKHRoaXMucGFzc0NvdW50IC8gdGhpcy50ZXN0Q291bnQpICogMTAwKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnXFxu4pqhIFF1aWNrIFRlc3QgU3VtbWFyeScpO1xuICAgIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT0nKTtcbiAgICBjb25zb2xlLmxvZyhgRHVyYXRpb246ICR7ZHVyYXRpb259bXNgKTtcbiAgICBjb25zb2xlLmxvZyhgVGVzdHM6ICR7dGhpcy5wYXNzQ291bnR9LyR7dGhpcy50ZXN0Q291bnR9IHBhc3NlZCAoJHtzdWNjZXNzUmF0ZX0lKWApO1xuICAgIFxuICAgIGlmICh0aGlzLmNyaXNpc1Rlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNyaXNpc1Bhc3NlZCA9IHRoaXMuY3Jpc2lzVGVzdHMuZmlsdGVyKHQgPT4gdC5zdGF0dXMgPT09ICdwYXNzZWQnKS5sZW5ndGg7XG4gICAgICBjb25zb2xlLmxvZyhgQ3Jpc2lzIFRlc3RzOiAke2NyaXNpc1Bhc3NlZH0vJHt0aGlzLmNyaXNpc1Rlc3RzLmxlbmd0aH0gcGFzc2VkYCk7XG4gICAgfVxuICAgIFxuICAgIGlmICh0aGlzLmZhaWxDb3VudCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBBbGwgcXVpY2sgdGVzdHMgcGFzc2VkIScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhg4p2MICR7dGhpcy5mYWlsQ291bnR9IHRlc3QocykgZmFpbGVkYCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT1cXG4nKTtcbiAgfVxuXG4gIGlzQ3Jpc2lzVGVzdCh0ZXN0TmFtZSkge1xuICAgIHJldHVybiAvY3Jpc2lzfGVtZXJnZW5jeXw5ODgvaS50ZXN0KHRlc3ROYW1lKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFF1aWNrUmVwb3J0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7SUFLTUEsYUFBYTtFQUNqQixTQUFBQSxjQUFBLEVBQWM7SUFBQSxJQUFBQyxn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